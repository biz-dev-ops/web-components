var ad=Object.defineProperty;var ld=(i,e,t)=>e in i?ad(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var ae=(i,e,t)=>ld(i,typeof e!="symbol"?e+"":e,t);import{r as cd,i as wn,a as Yn,x as hd}from"./lit-element-CPu3RyXn.js";import{n as Gl,t as ud}from"./property-I-G7jaNi.js";import{Y as Ir,$ as co,a0 as dd,q as hi,S as un,d as vt,l as Me,f as qt,a1 as fd,V as ho,a2 as nr,a3 as pd,y as et,e as gd,k as uo,I as md,a as Vl,B as ir,u as Ad,p as tn,o as Jl,b as Ct,h as Ze,a4 as yd,T as bd,N as wd,c as Kl,A as mn,O as $l,Q as fo,W as vd,R as xd,a5 as Ed,a6 as Xl,D as Cd,a7 as Bd}from"./Diagram-DenZM_b2.js";import{r as kd}from"./reset.css-DipPbE3d.js";import{a as Sd}from"./index-GSxLrrin.js";import"./index-F8EjD1nr.js";var Rr=Object.prototype.toString,Md=Object.prototype.hasOwnProperty;function Dd(i){return i===void 0}function Zl(i){return Rr.call(i)==="[object Array]"}function Id(i){return Rr.call(i)==="[object Object]"}function Rd(i){var e=Rr.call(i);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function An(i){return Rr.call(i)==="[object String]"}function ec(i,e){return Md.call(i,e)}function na(i,e){e=tc(e);var t;return V(i,function(n,r){if(e(n,r))return t=n,!1}),t}function Td(i,e){e=tc(e);var t=Zl(i)?-1:void 0;return V(i,function(n,r){if(e(n,r))return t=r,!1}),t}function po(i,e){var t=[];return V(i,function(n,r){e(n,r)&&t.push(n)}),t}function V(i,e){var t,n;if(!Dd(i)){var r=Zl(i)?Ld:Fd;for(var s in i)if(ec(i,s)&&(t=i[s],n=e(t,r(s)),n===!1))return t}}function tc(i){return Rd(i)?i:function(e){return e===i}}function Fd(i){return i}function Ld(i){return Number(i)}function kn(i,e){return i.bind(e)}function gs(){return gs=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},gs.apply(this,arguments)}function de(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return gs.apply(void 0,[i].concat(t))}function Od(i,e){var t={},n=Object(i);return V(e,function(r){r in n&&(t[r]=i[r])}),t}function go(){}go.prototype.get=function(i){return this.$model.properties.get(this,i)};go.prototype.set=function(i,e){this.$model.properties.set(this,i,e)};function nc(i,e){this.model=i,this.properties=e}nc.prototype.createType=function(i){var e=this.model,t=this.properties,n=Object.create(go.prototype);V(i.properties,function(o){!o.isMany&&o.default!==void 0&&(n[o.name]=o.default)}),t.defineModel(n,e),t.defineDescriptor(n,i);var r=i.ns.name;function s(o){t.define(this,"$type",{value:r,enumerable:!0}),t.define(this,"$attrs",{value:{}}),t.define(this,"$parent",{writable:!0}),V(o,kn(function(a,l){this.set(l,a)},this))}return s.prototype=n,s.hasType=n.$instanceOf=this.model.hasType,t.defineModel(s,e),t.defineDescriptor(s,i),s};var Pd={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},ic={String:function(i){return i},Boolean:function(i){return i==="true"},Integer:function(i){return parseInt(i,10)},Real:function(i){return parseFloat(i)}};function mo(i,e){var t=ic[i];return t?t(e):e}function ms(i){return!!Pd[i]}function rc(i){return!!ic[i]}function Ie(i,e){var t=i.split(/:/),n,r;if(t.length===1)n=i,r=e;else if(t.length===2)n=t[1],r=t[0];else throw new Error("expected <prefix:localName> or <localName>, got "+i);return i=(r?r+":":"")+n,{name:i,prefix:r,localName:n}}function Je(i){this.ns=i,this.name=i.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}Je.prototype.build=function(){return Od(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};Je.prototype.addProperty=function(i,e,t){typeof e=="boolean"&&(t=e,e=void 0),this.addNamedProperty(i,t!==!1);var n=this.properties;e!==void 0?n.splice(e,0,i):n.push(i)};Je.prototype.replaceProperty=function(i,e,t){var n=i.ns,r=this.properties,s=this.propertiesByName,o=i.name!==e.name;if(i.isId){if(!e.isId)throw new Error("property <"+e.ns.name+"> must be id property to refine <"+i.ns.name+">");this.setIdProperty(e,!1)}if(i.isBody){if(!e.isBody)throw new Error("property <"+e.ns.name+"> must be body property to refine <"+i.ns.name+">");this.setBodyProperty(e,!1)}var a=r.indexOf(i);if(a===-1)throw new Error("property <"+n.name+"> not found in property list");r.splice(a,1),this.addProperty(e,t?void 0:a,o),s[n.name]=s[n.localName]=e};Je.prototype.redefineProperty=function(i,e,t){var n=i.ns.prefix,r=e.split("#"),s=Ie(r[0],n),o=Ie(r[1],s.prefix).name,a=this.propertiesByName[o];if(a)this.replaceProperty(a,i,t);else throw new Error("refined property <"+o+"> not found");delete i.redefines};Je.prototype.addNamedProperty=function(i,e){var t=i.ns,n=this.propertiesByName;e&&(this.assertNotDefined(i,t.name),this.assertNotDefined(i,t.localName)),n[t.name]=n[t.localName]=i};Je.prototype.removeNamedProperty=function(i){var e=i.ns,t=this.propertiesByName;delete t[e.name],delete t[e.localName]};Je.prototype.setBodyProperty=function(i,e){if(e&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+i.ns.name+">)");this.bodyProperty=i};Je.prototype.setIdProperty=function(i,e){if(e&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+i.ns.name+">)");this.idProperty=i};Je.prototype.assertNotDefined=function(i,e){var t=i.name,n=this.propertiesByName[t];if(n)throw new Error("property <"+t+"> already defined; override of <"+n.definedBy.ns.name+"#"+n.ns.name+"> by <"+i.definedBy.ns.name+"#"+i.ns.name+"> not allowed without redefines")};Je.prototype.hasProperty=function(i){return this.propertiesByName[i]};Je.prototype.addTrait=function(i,e){var t=this.allTypesByName,n=this.allTypes,r=i.name;r in t||(V(i.properties,kn(function(s){s=de({},s,{name:s.ns.localName,inherited:e}),Object.defineProperty(s,"definedBy",{value:i});var o=s.replaces,a=s.redefines;o||a?this.redefineProperty(s,o||a,o):(s.isBody&&this.setBodyProperty(s),s.isId&&this.setIdProperty(s),this.addProperty(s))},this)),n.push(i),t[r]=i)};function Xt(i,e){this.packageMap={},this.typeMap={},this.packages=[],this.properties=e,V(i,kn(this.registerPackage,this))}Xt.prototype.getPackage=function(i){return this.packageMap[i]};Xt.prototype.getPackages=function(){return this.packages};Xt.prototype.registerPackage=function(i){i=de({},i);var e=this.packageMap;ia(e,i,"prefix"),ia(e,i,"uri"),V(i.types,kn(function(t){this.registerType(t,i)},this)),e[i.uri]=e[i.prefix]=i,this.packages.push(i)};Xt.prototype.registerType=function(i,e){i=de({},i,{superClass:(i.superClass||[]).slice(),extends:(i.extends||[]).slice(),properties:(i.properties||[]).slice(),meta:de(i.meta||{})});var t=Ie(i.name,e.prefix),n=t.name,r={};V(i.properties,kn(function(s){var o=Ie(s.name,t.prefix),a=o.name;ms(s.type)||(s.type=Ie(s.type,o.prefix).name),de(s,{ns:o,name:a}),r[a]=s},this)),de(i,{ns:t,name:n,propertiesByName:r}),V(i.extends,kn(function(s){var o=this.typeMap[s];o.traits=o.traits||[],o.traits.push(n)},this)),this.definePackage(i,e),this.typeMap[n]=i};Xt.prototype.mapTypes=function(i,e,t){var n=ms(i.name)?{name:i.name}:this.typeMap[i.name],r=this;function s(a){return o(a,!0)}function o(a,l){var c=Ie(a,ms(a)?"":i.prefix);r.mapTypes(c,e,l)}if(!n)throw new Error("unknown type <"+i.name+">");V(n.superClass,t?s:o),e(n,!t),V(n.traits,s)};Xt.prototype.getEffectiveDescriptor=function(i){var e=Ie(i),t=new Je(e);this.mapTypes(e,function(r,s){t.addTrait(r,s)});var n=t.build();return this.definePackage(n,n.allTypes[n.allTypes.length-1].$pkg),n};Xt.prototype.definePackage=function(i,e){this.properties.define(i,"$pkg",{value:e})};function ia(i,e,t){var n=e[t];if(n in i)throw new Error("package with "+t+" <"+n+"> already defined")}function Hn(i){this.model=i}Hn.prototype.set=function(i,e,t){if(!An(e)||!e.length)throw new TypeError("property name must be a non-empty string");var n=this.model.getPropertyDescriptor(i,e),r=n&&n.name;Nd(t)?n?delete i[r]:delete i.$attrs[e]:n?r in i?i[r]=t:sc(i,n,t):i.$attrs[e]=t};Hn.prototype.get=function(i,e){var t=this.model.getPropertyDescriptor(i,e);if(!t)return i.$attrs[e];var n=t.name;return!i[n]&&t.isMany&&sc(i,t,[]),i[n]};Hn.prototype.define=function(i,e,t){if(!t.writable){var n=t.value;t=de({},t,{get:function(){return n}}),delete t.value}Object.defineProperty(i,e,t)};Hn.prototype.defineDescriptor=function(i,e){this.define(i,"$descriptor",{value:e})};Hn.prototype.defineModel=function(i,e){this.define(i,"$model",{value:e})};function Nd(i){return typeof i>"u"}function sc(i,e,t){Object.defineProperty(i,e.name,{enumerable:!e.isReference,writable:!0,value:t,configurable:!0})}function Ke(i){this.properties=new Hn(this),this.factory=new nc(this,this.properties),this.registry=new Xt(i,this.properties),this.typeCache={}}Ke.prototype.create=function(i,e){var t=this.getType(i);if(!t)throw new Error("unknown type <"+i+">");return new t(e)};Ke.prototype.getType=function(i){var e=this.typeCache,t=An(i)?i:i.ns.name,n=e[t];return n||(i=this.registry.getEffectiveDescriptor(t),n=e[t]=this.factory.createType(i)),n};Ke.prototype.createAny=function(i,e,t){var n=Ie(i),r={$type:i,$instanceOf:function(o){return o===this.$type}},s={name:i,isGeneric:!0,ns:{prefix:n.prefix,localName:n.localName,uri:e}};return this.properties.defineDescriptor(r,s),this.properties.defineModel(r,this),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),this.properties.define(r,"$instanceOf",{enumerable:!1,writable:!0}),V(t,function(o,a){Id(o)&&o.value!==void 0?r[o.name]=o.value:r[a]=o}),r};Ke.prototype.getPackage=function(i){return this.registry.getPackage(i)};Ke.prototype.getPackages=function(){return this.registry.getPackages()};Ke.prototype.getElementDescriptor=function(i){return i.$descriptor};Ke.prototype.hasType=function(i,e){e===void 0&&(e=i,i=this);var t=i.$model.getElementDescriptor(i);return e in t.allTypesByName};Ke.prototype.getPropertyDescriptor=function(i,e){return this.getElementDescriptor(i).propertiesByName[e]};Ke.prototype.getTypeDescriptor=function(i){return this.registry.typeMap[i]};var ra=String.fromCharCode,Qd=Object.prototype.hasOwnProperty,qd=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,ii={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(ii).forEach(function(i){ii[i.toUpperCase()]=ii[i]});function _d(i,e,t,n){return n?Qd.call(ii,n)?ii[n]:"&"+n+";":ra(e||parseInt(t,16))}function nn(i){return i.length>3&&i.indexOf("&")!==-1?i.replace(qd,_d):i}var Hd="http://www.w3.org/2001/XMLSchema-instance",Ud="xsi",sa="xsi:type",oa="non-whitespace outside of root node";function vn(i){return new Error(i)}function aa(i){return"missing namespace for prefix <"+i+">"}function Si(i){return{get:i,enumerable:!0}}function jd(i){var e={},t;for(t in i)e[t]=i[t];return e}function As(i){return i+"$uri"}function Yd(i){var e={},t,n;for(t in i)n=i[t],e[n]=n,e[As(n)]=t;return e}function la(){return{line:0,column:0}}function Wd(i){throw i}function oc(i){if(!this)return new oc(i);var e=i&&i.proxy,t,n,r,s,o=Wd,a,l,c,h,u=la,d=!1,f=!1,p=null,A=!1,m;function g(w){w instanceof Error||(w=vn(w)),p=w,o(w,u)}function v(w){a&&(w instanceof Error||(w=vn(w)),a(w,u))}this.on=function(w,E){if(typeof E!="function")throw vn("required args <name, cb>");switch(w){case"openTag":n=E;break;case"text":t=E;break;case"closeTag":r=E;break;case"error":o=E;break;case"warn":a=E;break;case"cdata":s=E;break;case"attention":h=E;break;case"question":c=E;break;case"comment":l=E;break;default:throw vn("unsupported event: "+w)}return this},this.ns=function(w){if(typeof w>"u"&&(w={}),typeof w!="object")throw vn("required args <nsMap={}>");var E={},x;for(x in w)E[x]=w[x];return E[Hd]=Ud,f=!0,m=E,this},this.parse=function(w){if(typeof w!="string")throw vn("required args <xml=string>");return p=null,B(w),u=la,A=!1,p},this.stop=function(){A=!0};function B(w){var E=f?[]:null,x=f?Yd(m):null,y,b=[],S=0,k=!1,M=!1,C=0,I=0,N,se,j,q,ot,Pe,ge,Ne,xe,Fe="",$e=0,Qe;function Ot(){if(Qe!==null)return Qe;var Pt,Zt,he,xt=f&&x.xmlns,Et=f&&d?[]:null,re=$e,ye=Fe,en=ye.length,ea,Nt,le,at,z,bn={},ta={},Xe,L,Y;e:for(;re<en;re++)if(Xe=!1,L=ye.charCodeAt(re),!(L===32||L<14&&L>8)){for((L<65||L>122||L>90&&L<97)&&L!==95&&L!==58&&(v("illegal first char attribute name"),Xe=!0),Y=re+1;Y<en;Y++)if(L=ye.charCodeAt(Y),!(L>96&&L<123||L>64&&L<91||L>47&&L<59||L===46||L===45||L===95)){if(L===32||L<14&&L>8){v("missing attribute value"),re=Y;continue e}if(L===61)break;v("illegal attribute name char"),Xe=!0}if(z=ye.substring(re,Y),z==="xmlns:xmlns"&&(v("illegal declaration of xmlns"),Xe=!0),L=ye.charCodeAt(Y+1),L===34)Y=ye.indexOf('"',re=Y+2),Y===-1&&(Y=ye.indexOf("'",re),Y!==-1&&(v("attribute value quote missmatch"),Xe=!0));else if(L===39)Y=ye.indexOf("'",re=Y+2),Y===-1&&(Y=ye.indexOf('"',re),Y!==-1&&(v("attribute value quote missmatch"),Xe=!0));else for(v("missing attribute value quotes"),Xe=!0,Y=Y+1;Y<en&&(L=ye.charCodeAt(Y+1),!(L===32||L<14&&L>8));Y++);for(Y===-1&&(v("missing closing quotes"),Y=en,Xe=!0),Xe||(le=ye.substring(re,Y)),re=Y;Y+1<en&&(L=ye.charCodeAt(Y+1),!(L===32||L<14&&L>8));Y++)re===Y&&(v("illegal character after attribute end"),Xe=!0);if(re=Y+1,Xe)continue e;if(z in ta){v("attribute <"+z+"> already defined");continue}if(ta[z]=!0,!f){bn[z]=le;continue}if(d){if(Nt=z==="xmlns"?"xmlns":z.charCodeAt(0)===120&&z.substr(0,6)==="xmlns:"?z.substr(6):null,Nt!==null){if(Pt=nn(le),Zt=As(Nt),at=m[Pt],!at){if(Nt==="xmlns"||Zt in x&&x[Zt]!==Pt)do at="ns"+S++;while(typeof x[at]<"u");else at=Nt;m[Pt]=at}x[Nt]!==at&&(ea||(x=jd(x),ea=!0),x[Nt]=at,Nt==="xmlns"&&(x[As(at)]=Pt,xt=at),x[Zt]=Pt),bn[z]=le;continue}Et.push(z,le);continue}if(L=z.indexOf(":"),L===-1){bn[z]=le;continue}if(!(he=x[z.substring(0,L)])){v(aa(z.substring(0,L)));continue}z=xt===he?z.substr(L+1):he+z.substr(L),z===sa&&(L=le.indexOf(":"),L!==-1?(he=le.substring(0,L),he=x[he]||he,le=he+le.substring(L)):le=xt+":"+le),bn[z]=le}if(d)for(re=0,en=Et.length;re<en;re++){if(z=Et[re++],le=Et[re],L=z.indexOf(":"),L!==-1){if(!(he=x[z.substring(0,L)])){v(aa(z.substring(0,L)));continue}z=xt===he?z.substr(L+1):he+z.substr(L),z===sa&&(L=le.indexOf(":"),L!==-1?(he=le.substring(0,L),he=x[he]||he,le=he+le.substring(L)):le=xt+":"+le)}bn[z]=le}return Qe=bn}function ki(){for(var Pt=/(\r\n|\r|\n)/g,Zt=0,he=0,xt=0,Et=I,re,ye;C>=xt&&(re=Pt.exec(w),!(!re||(Et=re[0].length+re.index,Et>C)));)Zt+=1,xt=Et;return C==-1?(he=Et,ye=w.substring(I)):I===0?ye=w.substring(I,C):(he=C-xt,ye=I==-1?w.substring(C):w.substring(C,I+1)),{data:ye,line:Zt,column:he}}for(u=ki,e&&(xe=Object.create({},{name:Si(function(){return ge}),originalName:Si(function(){return Ne}),attrs:Si(Ot),ns:Si(function(){return x})}));I!==-1;){if(w.charCodeAt(I)===60?C=I:C=w.indexOf("<",I),C===-1){if(b.length)return g("unexpected end of file");if(I===0)return g("missing start tag");I<w.length&&w.substring(I).trim()&&v(oa);return}if(I!==C){if(b.length){if(t&&(t(w.substring(I,C),nn,u),A))return}else if(w.substring(I,C).trim()&&(v(oa),A))return}if(q=w.charCodeAt(C+1),q===33){if(j=w.charCodeAt(C+2),j===91&&w.substr(C+3,6)==="CDATA["){if(I=w.indexOf("]]>",C),I===-1)return g("unclosed cdata");if(s&&(s(w.substring(C+9,I),u),A))return;I+=3;continue}if(j===45&&w.charCodeAt(C+3)===45){if(I=w.indexOf("-->",C),I===-1)return g("unclosed comment");if(l&&(l(w.substring(C+4,I),nn,u),A))return;I+=3;continue}}if(q===63){if(I=w.indexOf("?>",C),I===-1)return g("unclosed question");if(c&&(c(w.substring(C,I+2),u),A))return;I+=2;continue}for(N=C+1;;N++){if(ot=w.charCodeAt(N),isNaN(ot))return I=-1,g("unclosed tag");if(ot===34)j=w.indexOf('"',N+1),N=j!==-1?j:N;else if(ot===39)j=w.indexOf("'",N+1),N=j!==-1?j:N;else if(ot===62){I=N;break}}if(q===33){if(h&&(h(w.substring(C,I+1),nn,u),A))return;I+=1;continue}if(Qe={},q===47){if(k=!1,M=!0,!b.length)return g("missing open tag");if(N=ge=b.pop(),j=C+2+N.length,w.substring(C+2,j)!==N)return g("closing tag mismatch");for(;j<I;j++)if(q=w.charCodeAt(j),!(q===32||q>8&&q<14))return g("close tag")}else{if(w.charCodeAt(I-1)===47?(N=ge=w.substring(C+1,I-1),k=!0,M=!0):(N=ge=w.substring(C+1,I),k=!0,M=!1),!(q>96&&q<123||q>64&&q<91||q===95||q===58))return g("illegal first char nodeName");for(j=1,se=N.length;j<se;j++)if(q=N.charCodeAt(j),!(q>96&&q<123||q>64&&q<91||q>47&&q<59||q===45||q===95||q==46)){if(q===32||q<14&&q>8){ge=N.substring(0,j),Qe=null;break}return g("invalid nodeName")}M||b.push(ge)}if(f){if(y=x,k&&(M||E.push(y),Qe===null&&(d=N.indexOf("xmlns",j)!==-1)&&($e=j,Fe=N,Ot(),d=!1)),Ne=ge,q=ge.indexOf(":"),q!==-1){if(Pe=x[ge.substring(0,q)],!Pe)return g("missing namespace on <"+Ne+">");ge=ge.substr(q+1)}else Pe=x.xmlns;Pe&&(ge=Pe+":"+ge)}if(k&&($e=j,Fe=N,n&&(e?n(xe,nn,M,u):n(ge,Ot,nn,M,u),A)))return;if(M){if(r&&(r(e?xe:ge,nn,k,u),A))return;f&&(k?x=y:x=E.pop())}I+=1}}}function ac(i){return i.xml&&i.xml.tagAlias==="lowerCase"}var zd={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Tr="xsi:type";function lc(i){return i.xml&&i.xml.serialize}function cc(i){return lc(i)===Tr}function Gd(i){return lc(i)==="property"}function Vd(i){return i.charAt(0).toUpperCase()+i.slice(1)}function hc(i,e){return ac(e)?i.prefix+":"+Vd(i.localName):i.name}function Jd(i,e){var t=i.name,n=i.localName,r=e.xml&&e.xml.typePrefix;return r&&n.indexOf(r)===0?i.prefix+":"+n.slice(r.length):t}function Kd(i,e){var t=Ie(i),n=e.getPackage(t.prefix);return Jd(t,n)}function zt(i){return new Error(i)}function Dt(i){return i.$descriptor}function $d(i){de(this,i),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw zt("expected element");var t=this.elementsById,n=Dt(e),r=n.idProperty,s;if(r&&(s=e.get(r.name),s)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(s))throw new Error("illegal ID <"+s+">");if(t[s])throw zt("duplicate ID <"+s+">");t[s]=e}},this.addWarning=function(e){this.warnings.push(e)}}function bi(){}bi.prototype.handleEnd=function(){};bi.prototype.handleText=function(){};bi.prototype.handleNode=function(){};function Ao(){}Ao.prototype=Object.create(bi.prototype);Ao.prototype.handleNode=function(){return this};function Un(){}Un.prototype=Object.create(bi.prototype);Un.prototype.handleText=function(i){this.body=(this.body||"")+i};function wi(i,e){this.property=i,this.context=e}wi.prototype=Object.create(Un.prototype);wi.prototype.handleNode=function(i){if(this.element)throw zt("expected no sub nodes");return this.element=this.createReference(i),this};wi.prototype.handleEnd=function(){this.element.id=this.body};wi.prototype.createReference=function(i){return{property:this.property.ns.name,id:""}};function yo(i,e){this.element=e,this.propertyDesc=i}yo.prototype=Object.create(Un.prototype);yo.prototype.handleEnd=function(){var i=this.body||"",e=this.element,t=this.propertyDesc;i=mo(t.type,i),t.isMany?e.get(t.name).push(i):e.set(t.name,i)};function Fr(){}Fr.prototype=Object.create(Un.prototype);Fr.prototype.handleNode=function(i){var e=this,t=this.element;return t?e=this.handleChild(i):(t=this.element=this.createElement(i),this.context.addElement(t)),e};function De(i,e,t){this.model=i,this.type=i.getType(e),this.context=t}De.prototype=Object.create(Fr.prototype);De.prototype.addReference=function(i){this.context.addReference(i)};De.prototype.handleText=function(i){var e=this.element,t=Dt(e),n=t.bodyProperty;if(!n)throw zt("unexpected body text <"+i+">");Un.prototype.handleText.call(this,i)};De.prototype.handleEnd=function(){var i=this.body,e=this.element,t=Dt(e),n=t.bodyProperty;n&&i!==void 0&&(i=mo(n.type,i),e.set(n.name,i))};De.prototype.createElement=function(i){var e=i.attributes,t=this.type,n=Dt(t),r=this.context,s=new t({}),o=this.model,a;return V(e,function(l,c){var h=n.propertiesByName[c],u;h&&h.isReference?h.isMany?(u=l.split(" "),V(u,function(d){r.addReference({element:s,property:h.ns.name,id:d})})):r.addReference({element:s,property:h.ns.name,id:l}):(h?l=mo(h.type,l):c!=="xmlns"&&(a=Ie(c,n.ns.prefix),o.getPackage(a.prefix)&&r.addWarning({message:"unknown attribute <"+c+">",element:s,property:c,value:l})),s.set(c,l))}),s};De.prototype.getPropertyForNode=function(i){var e=i.name,t=Ie(e),n=this.type,r=this.model,s=Dt(n),o=t.name,a=s.propertiesByName[o],l,c;if(a&&!a.isAttr)return cc(a)&&(l=i.attributes[Tr],l)?(l=Kd(l,r),c=r.getType(l),de({},a,{effectiveType:Dt(c).name})):a;var h=r.getPackage(t.prefix);if(h){if(l=hc(t,h),c=r.getType(l),a=na(s.properties,function(u){return!u.isVirtual&&!u.isReference&&!u.isAttribute&&c.hasType(u.type)}),a)return de({},a,{effectiveType:Dt(c).name})}else if(a=na(s.properties,function(u){return!u.isReference&&!u.isAttribute&&u.type==="Element"}),a)return a;throw zt("unrecognized element <"+t.name+">")};De.prototype.toString=function(){return"ElementDescriptor["+Dt(this.type).name+"]"};De.prototype.valueHandler=function(i,e){return new yo(i,e)};De.prototype.referenceHandler=function(i){return new wi(i,this.context)};De.prototype.handler=function(i){return i==="Element"?new Sn(this.model,i,this.context):new De(this.model,i,this.context)};De.prototype.handleChild=function(i){var e,t,n,r;if(e=this.getPropertyForNode(i),n=this.element,t=e.effectiveType||e.type,rc(t))return this.valueHandler(e,n);e.isReference?r=this.referenceHandler(e).handleNode(i):r=this.handler(t).handleNode(i);var s=r.element;return s!==void 0&&(e.isMany?n.get(e.name).push(s):n.set(e.name,s),e.isReference?(de(s,{element:n}),this.context.addReference(s)):s.$parent=n),r};function bo(i,e,t){De.call(this,i,e,t)}bo.prototype=Object.create(De.prototype);bo.prototype.createElement=function(i){var e=i.name,t=Ie(e),n=this.model,r=this.type,s=n.getPackage(t.prefix),o=s&&hc(t,s)||e;if(!r.hasType(o))throw zt("unexpected element <"+i.originalName+">");return De.prototype.createElement.call(this,i)};function Sn(i,e,t){this.model=i,this.context=t}Sn.prototype=Object.create(Fr.prototype);Sn.prototype.createElement=function(i){var e=i.name,t=Ie(e),n=t.prefix,r=i.ns[n+"$uri"],s=i.attributes;return this.model.createAny(e,r,s)};Sn.prototype.handleChild=function(i){var e=new Sn(this.model,"Element",this.context).handleNode(i),t=this.element,n=e.element,r;return n!==void 0&&(r=t.$children=t.$children||[],r.push(n),n.$parent=t),e};Sn.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function wo(i){i instanceof Ke&&(i={model:i}),de(this,{lax:!1},i)}wo.prototype.fromXML=function(i,e,t){var n=e.rootHandler;e instanceof De?(n=e,e={}):typeof e=="string"?(n=this.handler(e),e={}):typeof n=="string"&&(n=this.handler(n));var r=this.model,s=this.lax,o=new $d(de({},e,{rootHandler:n})),a=new oc({proxy:!0}),l=Xd();n.context=o,l.push(n);function c(E,x,y){var b=x(),S=b.line,k=b.column,M=b.data;M.charAt(0)==="<"&&M.indexOf(" ")!==-1&&(M=M.slice(0,M.indexOf(" "))+">");var C="unparsable content "+(M?M+" ":"")+`detected
	line: `+S+`
	column: `+k+`
	nested error: `+E.message;if(y)return o.addWarning({message:C,error:E}),!0;throw zt(C)}function h(E,x){return c(E,x,!0)}function u(){var E=o.elementsById,x=o.references,y,b;for(y=0;b=x[y];y++){var S=b.element,k=E[b.id],M=Dt(S).propertiesByName[b.property];if(k||o.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),M.isMany){var C=S.get(M.name),I=C.indexOf(b);I===-1&&(I=C.length),k?C[I]=k:C.splice(I,1)}else S.set(M.name,k)}}function d(){l.pop().handleEnd()}var f=/^<\?xml /i,p=/ encoding="([^"]+)"/i,A=/^utf-8$/i;function m(E){if(f.test(E)){var x=p.exec(E),y=x&&x[1];!y||A.test(y)||o.addWarning({message:"unsupported document encoding <"+y+">, falling back to UTF-8"})}}function g(E,x){var y=l.peek();try{l.push(y.handleNode(E))}catch(b){c(b,x,s)&&l.push(new Ao)}}function v(E,x){try{l.peek().handleText(E)}catch(y){h(y,x)}}function B(E,x){E.trim()&&v(E,x)}var w=r.getPackages().reduce(function(E,x){return E[x.uri]=x.prefix,E},{"http://www.w3.org/XML/1998/namespace":"xml"});return a.ns(w).on("openTag",function(E,x,y,b){var S=E.attrs||{},k=Object.keys(S).reduce(function(C,I){var N=x(S[I]);return C[I]=N,C},{}),M={name:E.name,originalName:E.originalName,attributes:k,ns:E.ns};g(M,b)}).on("question",m).on("closeTag",d).on("cdata",v).on("text",function(E,x,y){B(x(E),y)}).on("error",c).on("warn",h),new Promise(function(E,x){var y;try{a.parse(i),u()}catch(C){y=C}var b=n.element;!y&&!b&&(y=zt("failed to parse document as <"+n.type.$descriptor.name+">"));var S=o.warnings,k=o.references,M=o.elementsById;return y?(y.warnings=S,x(y)):E({rootElement:b,elementsById:M,references:k,warnings:S})})};wo.prototype.handler=function(i){return new bo(this.model,i)};function Xd(){var i=[];return Object.defineProperty(i,"peek",{value:function(){return this[this.length-1]}}),i}var Zd=`<?xml version="1.0" encoding="UTF-8"?>
`,ef=/<|>|'|"|&|\n\r|\n/g,uc=/<|>|&/g;function tf(i){var e={},t={},n={},r=[],s=[];this.byUri=function(o){return t[o]||i&&i.byUri(o)},this.add=function(o,a){t[o.uri]=o,a?r.push(o):s.push(o),this.mapPrefix(o.prefix,o.uri)},this.uriByPrefix=function(o){return e[o||"xmlns"]},this.mapPrefix=function(o,a){e[o||"xmlns"]=a},this.getNSKey=function(o){return o.prefix!==void 0?o.uri+"|"+o.prefix:o.uri},this.logUsed=function(o){var a=o.uri,l=this.getNSKey(o);n[l]=this.byUri(a),i&&i.logUsed(o)},this.getUsed=function(o){function a(h){var u=l.getNSKey(h);return n[u]}var l=this,c=[].concat(r,s);return c.filter(a)}}function nf(i){return i.charAt(0).toLowerCase()+i.slice(1)}function rf(i,e){return ac(e)?nf(i):i}function dc(i,e){i.super_=e,i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}function fc(i){return An(i)?i:(i.prefix?i.prefix+":":"")+i.localName}function sf(i){return i.getUsed().filter(function(e){return e.prefix!=="xml"}).map(function(e){var t="xmlns"+(e.prefix?":"+e.prefix:"");return{name:t,value:e.uri}})}function of(i,e){return e.isGeneric?de({localName:e.ns.localName},i):de({localName:rf(e.ns.localName,e.$pkg)},i)}function af(i,e){return de({localName:e.ns.localName},i)}function lf(i){var e=i.$descriptor;return po(e.properties,function(t){var n=t.name;if(t.isVirtual||!ec(i,n))return!1;var r=i[n];return r===t.default||r===null?!1:t.isMany?r.length:!0})}var cf={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},hf={"<":"lt",">":"gt","&":"amp"};function pc(i,e,t){return i=An(i)?i:""+i,i.replace(e,function(n){return"&"+t[n]+";"})}function uf(i){return pc(i,ef,cf)}function df(i){return pc(i,uc,hf)}function ff(i){return po(i,function(e){return e.isAttr})}function pf(i){return po(i,function(e){return!e.isAttr})}function vo(i){this.tagName=i}vo.prototype.build=function(i){return this.element=i,this};vo.prototype.serializeTo=function(i){i.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function dn(){}dn.prototype.serializeValue=dn.prototype.serializeTo=function(i){i.append(this.escape?df(this.value):this.value)};dn.prototype.build=function(i,e){return this.value=e,i.type==="String"&&e.search(uc)!==-1&&(this.escape=!0),this};function xo(i){this.tagName=i}dc(xo,dn);xo.prototype.serializeTo=function(i){i.appendIndent().append("<"+this.tagName+">"),this.serializeValue(i),i.append("</"+this.tagName+">").appendNewLine()};function ie(i,e){this.body=[],this.attrs=[],this.parent=i,this.propertyDescriptor=e}ie.prototype.build=function(i){this.element=i;var e=i.$descriptor,t=this.propertyDescriptor,n,r,s=e.isGeneric;return s?n=this.parseGeneric(i):n=this.parseNsAttributes(i),t?this.ns=this.nsPropertyTagName(t):this.ns=this.nsTagName(e),this.tagName=this.addTagName(this.ns),s||(r=lf(i),this.parseAttributes(ff(r)),this.parseContainments(pf(r))),this.parseGenericAttributes(i,n),this};ie.prototype.nsTagName=function(i){var e=this.logNamespaceUsed(i.ns);return of(e,i)};ie.prototype.nsPropertyTagName=function(i){var e=this.logNamespaceUsed(i.ns);return af(e,i)};ie.prototype.isLocalNs=function(i){return i.uri===this.ns.uri};ie.prototype.nsAttributeName=function(i){var e;if(An(i)?e=Ie(i):e=i.ns,i.inherited)return{localName:e.localName};var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),this.isLocalNs(t)?{localName:e.localName}:de({localName:e.localName},t)};ie.prototype.parseGeneric=function(i){var e=this,t=this.body,n=[];return V(i,function(r,s){var o;s==="$body"?t.push(new dn().build({type:"String"},r)):s==="$children"?V(r,function(a){t.push(new ie(e).build(a))}):s.indexOf("$")!==0&&(o=e.parseNsAttribute(i,s,r),o&&n.push({name:s,value:r}))}),n};ie.prototype.parseNsAttribute=function(i,e,t){var n=i.$model,r=Ie(e),s;if(r.prefix==="xmlns"&&(s={prefix:r.localName,uri:t}),!r.prefix&&r.localName==="xmlns"&&(s={uri:t}),!s)return{name:e,value:t};if(n&&n.getPackage(t))this.logNamespace(s,!0,!0);else{var o=this.logNamespaceUsed(s,!0);this.getNamespaces().logUsed(o)}};ie.prototype.parseNsAttributes=function(i,e){var t=this,n=i.$attrs,r=[];return V(n,function(s,o){var a=t.parseNsAttribute(i,o,s);a&&r.push(a)}),r};ie.prototype.parseGenericAttributes=function(i,e){var t=this;V(e,function(n){if(n.name!==Tr)try{t.addAttribute(t.nsAttributeName(n.name),n.value)}catch(r){console.warn("missing namespace information for ",n.name,"=",n.value,"on",i,r)}})};ie.prototype.parseContainments=function(i){var e=this,t=this.body,n=this.element;V(i,function(r){var s=n.get(r.name),o=r.isReference,a=r.isMany;if(a||(s=[s]),r.isBody)t.push(new dn().build(r,s[0]));else if(rc(r.type))V(s,function(h){t.push(new xo(e.addTagName(e.nsPropertyTagName(r))).build(r,h))});else if(o)V(s,function(h){t.push(new vo(e.addTagName(e.nsPropertyTagName(r))).build(h))});else{var l=cc(r),c=Gd(r);V(s,function(h){var u;l?u=new Lr(e,r):c?u=new ie(e,r):u=new ie(e),t.push(u.build(h))})}})};ie.prototype.getNamespaces=function(i){var e=this.namespaces,t=this.parent,n;return e||(n=t&&t.getNamespaces(),i||!n?this.namespaces=e=new tf(n):e=n),e};ie.prototype.logNamespace=function(i,e,t){var n=this.getNamespaces(t),r=i.uri,s=i.prefix,o=n.byUri(r);return(!o||t)&&n.add(i,e),n.mapPrefix(s,r),i};ie.prototype.logNamespaceUsed=function(i,e){var t=this.element,n=t.$model,r=this.getNamespaces(e),s=i.prefix,o=i.uri,a,l,c;if(!s&&!o)return{localName:i.localName};if(c=zd[s]||n&&(n.getPackage(s)||{}).uri,o=o||c||r.uriByPrefix(s),!o)throw new Error("no namespace uri given for prefix <"+s+">");if(i=r.byUri(o),!i){for(a=s,l=1;r.uriByPrefix(a);)a=s+"_"+l++;i=this.logNamespace({prefix:a,uri:o},c===o)}return s&&r.mapPrefix(s,o),i};ie.prototype.parseAttributes=function(i){var e=this,t=this.element;V(i,function(n){var r=t.get(n.name);if(n.isReference)if(!n.isMany)r=r.id;else{var s=[];V(r,function(o){s.push(o.id)}),r=s.join(" ")}e.addAttribute(e.nsAttributeName(n),r)})};ie.prototype.addTagName=function(i){var e=this.logNamespaceUsed(i);return this.getNamespaces().logUsed(e),fc(i)};ie.prototype.addAttribute=function(i,e){var t=this.attrs;An(e)&&(e=uf(e));var n=Td(t,function(s){return s.name.localName===i.localName&&s.name.uri===i.uri&&s.name.prefix===i.prefix}),r={name:i,value:e};n!==-1?t.splice(n,1,r):t.push(r)};ie.prototype.serializeAttributes=function(i){var e=this.attrs,t=this.namespaces;t&&(e=sf(t).concat(e)),V(e,function(n){i.append(" ").append(fc(n.name)).append('="').append(n.value).append('"')})};ie.prototype.serializeTo=function(i){var e=this.body[0],t=e&&e.constructor!==dn;i.appendIndent().append("<"+this.tagName),this.serializeAttributes(i),i.append(e?">":" />"),e&&(t&&i.appendNewLine().indent(),V(this.body,function(n){n.serializeTo(i)}),t&&i.unindent().appendIndent(),i.append("</"+this.tagName+">")),i.appendNewLine()};function Lr(i,e){ie.call(this,i,e)}dc(Lr,ie);Lr.prototype.parseNsAttributes=function(i){var e=ie.prototype.parseNsAttributes.call(this,i),t=i.$descriptor;if(t.name===this.propertyDescriptor.type)return e;var n=this.typeNs=this.nsTagName(t);this.getNamespaces().logUsed(this.typeNs);var r=i.$model.getPackage(n.uri),s=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Tr),(n.prefix?n.prefix+":":"")+s+t.ns.localName),e};Lr.prototype.isLocalNs=function(i){return i.uri===(this.typeNs||this.ns).uri};function gf(){this.value="",this.write=function(i){this.value+=i}}function mf(i,e){var t=[""];this.append=function(n){return i.write(n),this},this.appendNewLine=function(){return e&&i.write(`
`),this},this.appendIndent=function(){return e&&i.write(t.join("  ")),this},this.indent=function(){return t.push(""),this},this.unindent=function(){return t.pop(),this}}function Af(i){i=de({format:!1,preamble:!0},i||{});function e(t,n){var r=n||new gf,s=new mf(r,i.format);if(i.preamble&&s.append(Zd),new ie().build(t).serializeTo(s),!n)return r.value}return{toXML:e}}function Or(i,e){Ke.call(this,i,e)}Or.prototype=Object.create(Ke.prototype);Or.prototype.fromXML=function(i,e,t){An(e)||(t=e,e="dmn:Definitions");var n=new wo(de({model:this,lax:!0},t)),r=n.handler(e);return n.fromXML(i,r)};Or.prototype.toXML=function(i,e){var t=new Af(e);return new Promise(function(n,r){try{var s=t.toXML(i);return n({xml:s})}catch(o){return r(o)}})};var yf="DC",bf="dc",wf="http://www.omg.org/spec/DMN/20180521/DC/",vf=[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],xf=[],Ef=[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}],Cf={name:yf,prefix:bf,uri:wf,types:vf,associations:xf,enumerations:Ef},Bf="DI",kf="di",Sf="http://www.omg.org/spec/DMN/20180521/DI/",Mf=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],Df=[],If=[],Rf={tagAlias:"lowerCase"},Tf={name:Bf,prefix:kf,uri:Sf,types:Mf,associations:Df,enumerations:If,xml:Rf},Ff="DMN",Lf="dmn",Of="https://www.omg.org/spec/DMN/20191111/MODEL/",Pf=[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],Nf=[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],Qf=[],qf={tagAlias:"lowerCase"},_f={name:Ff,prefix:Lf,uri:Of,types:Pf,enumerations:Nf,associations:Qf,xml:qf},Hf="DMNDI",Uf="dmndi",jf="https://www.omg.org/spec/DMN/20191111/DMNDI/",Yf=[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],Wf=[],zf=[],Gf={name:Hf,prefix:Uf,uri:jf,types:Yf,associations:Wf,enumerations:zf},Vf="bpmn.io DI for DMN",Jf="http://bpmn.io/schema/dmn/biodi/2.0",Kf="biodi",$f={tagAlias:"lowerCase"},Xf=[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}],Zf={name:Vf,uri:Jf,prefix:Kf,xml:$f,types:Xf},ep={dc:Cf,di:Tf,dmn:_f,dmndi:Gf,biodi:Zf};function tp(i,e){var t=de({},ep,i);return new Or(t,e)}function rr(i){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var e=arguments.length;if(e>=1&&Ir(arguments[e-1])){var t=arguments[e-1];console.warn(new Error("Passing callbacks to "+np(i.name)+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var n=Array.prototype.slice.call(arguments,0,-1);i.apply(this,n).then(function(r){var s=Object.keys(r)[0];return t(null,r[s])},function(r){return t(r,r.warnings)})}else return i.apply(this,arguments)}}function np(i){return i.replace("bound ","")}const ip={width:"100%",height:"100%",position:"relative"};class rp{constructor(e={}){ae(this,"_viewsChanged",()=>{this._emit("views.changed",{views:this._views,activeView:this._activeView})});this._eventBus=new co,this._viewsChanged=dd(this._viewsChanged,0),this._views=[],this._viewers={},this.open=rr(this.open.bind(this)),this.importXML=rr(this.importXML.bind(this)),this.saveXML=rr(this.saveXML.bind(this)),this._init(e)}importXML(e,t){var n=this;return t=t||{open:!0},new Promise(function(s,o){var a=n._activeView;n._clear().then(()=>{e=n._emit("import.parse.start",{xml:e})||e;var l;n._moddle.fromXML(e,"dmn:Definitions").then(c=>{var h=c.rootElement,u=c.references,d=c.elementsById;if(l=c.warnings,h=n._emit("import.parse.complete",r({error:null,definitions:h,elementsById:d,references:u,warnings:l}))||h,n._setDefinitions(h),!t.open){n._emit("import.done",{error:null,warnings:l}),s({warnings:l});return}var f=n._getInitialView(n._views,a);if(!f){var p=new Error("no displayable contents");return n._emit("import.done",{error:p,warnings:l}),p.warnings=l,o(p)}n.open(f).then(A=>({warnings:A.warnings})).catch(A=>({error:A,warnings:A.warnings})).then(A=>{var m=[].concat(l,A.warnings);n._emit("import.done",{error:A.error,warnings:m}),A.error?(A.error.warnings=m,o(A.error)):s({warnings:m})})}).catch(c=>(l=c.warnings,c=sp(c,e)||op(c)||c,n._emit("import.parse.complete",r({error:c,warnings:l})),n._emit("import.done",{error:c,warnings:l}),c.warnings=l,o(c)))}).catch(l=>(n._emit("import.done",{error:l,warnings:[]}),l.warnings=[],o(l)))});function r(s){var o=n._eventBus.createEvent(s);return Object.defineProperty(o,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:s.warnings,references:s.references,elementsById:s.elementsById}}}),o}}getDefinitions(){return this._definitions}getActiveView(){return this._activeView}getActiveViewer(){var e=this.getActiveView();return e&&this._getViewer(e)}getView(e){return this._views.filter(function(t){return t.element===e})[0]}getViews(){return this._views}saveXML(e){var t=this;e=e||{};var n=this._definitions;return new Promise(function(r,s){if(!n){s(new Error("no definitions loaded"));return}n=t._emit("saveXML.start",{definitions:n})||n,t._moddle.toXML(n,e).then(function(o){var a=o.xml;return a=t._emit("saveXML.serialized",{xml:a})||a,{xml:a}}).catch(o=>({error:o})).then(o=>{t._emit("saveXML.done",o),o.error?s(o.error):r({xml:o.xml})})})}on(...e){this._eventBus.on(...e)}off(...e){this._eventBus.off(...e)}once(...e){this._eventBus.once(...e)}attachTo(e){e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=hi(e)),e.appendChild(this._container),this._emit("attach",{})}detach(){this._emit("detach",{}),un(this._container)}destroy(){Object.keys(this._viewers).forEach(e=>{var t=this._viewers[e];ua(t,"destroy")}),un(this._container)}_init(e){this._options=e,this._moddle=this._createModdle(e),this._viewers={},this._views=[];const t=vt('<div class="dmn-js-parent"></div>'),n=Me({},ip,e);Me(t.style,{width:ca(n.width),height:ca(n.height),position:n.position}),this._container=t,e.container&&this.attachTo(e.container)}_clear(){return this._switchView(null)}open(e){return this._switchView(e)}_setDefinitions(e){this._definitions=e,this._updateViews()}_updateViews(){var e=this._definitions;if(!e){this._views=[],this._switchView(null);return}var t=this._getViewProviders(),n=[e,...e.drgElement||[]],r=this._views,s=[];for(var o of n){var a=qt(t,function(f){return typeof f.opens=="string"?f.opens===o.$type:f.opens(o)});if(a){var l={element:o,id:o.id,name:o.name,type:a.id};s.push(l)}}var c=this._activeView,h;if(c&&(h=qt(s,function(f){return Mi(c,f)})||this._getInitialView(s),!h)){this._switchView(null);return}var u=!Mi(c,h)||ha(c,h),d=r.length!==s.length||!fd(s,function(f){return qt(r,function(p){return Mi(p,f)&&!ha(p,f)})});this._activeView=h,this._views=s,(u||d)&&this._viewsChanged()}_getInitialView(e,t){var n;return t&&(n=qt(e,function(r){return Mi(r,t)})||qt(e,function(r){return r.type===t})),n||e[0]}_switchView(e){var t=this;return new Promise(function(n,r){var s=(h,u)=>{t._viewsChanged(),h?r(h):n(u)},o=t.getActiveView(),a,l=e&&t._getViewer(e),c=e&&e.element;if(o&&(a=t._getViewer(o),a!==l&&(ua(a,"clear"),a.detach())),t._activeView=e,l){a!==l&&l.attachTo(t._container),t._emit("import.render.start",{view:e,element:c}),l.open(c).then(h=>{t._emit("import.render.complete",{view:e,error:null,warnings:h.warnings}),s(null,h)}).catch(h=>{t._emit("import.render.complete",{view:e,error:h,warnings:h.warnings}),s(h,null)});return}s()})}_getViewer(e){var t=e.type,n=this._viewers[t];return n||(n=this._viewers[t]=this._createViewer(e.type),this._emit("viewer.created",{type:t,viewer:n})),n}_createViewer(e){var t=qt(this._getViewProviders(),function(o){return o.id===e});if(!t)throw new Error("no provider for view type <"+e+">");var n=t.constructor,r=this._options[e]||{},s=this._options.common||{};return new n({...s,...r,additionalModules:[...r.additionalModules||[],{_parent:["value",this],moddle:["value",this._moddle]}]})}_emit(...e){return this._eventBus.fire(...e)}_createModdle(e){return new tp(e.moddleExtensions)}_getViewProviders(){return[]}}function ca(i){return i+(ho(i)?"px":"")}function sp(i,e){if(i.message!=="failed to parse document as <dmn:Definitions>")return null;var t=e.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')!==-1&&"1.1"||e.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')!==-1&&"1.2";return t?(i=new Error("unsupported DMN "+t+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+t+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",i),i):null}function op(i){var e=/unparsable content <([^>]+)> detected([\s\S]*)$/,t=e.exec(i.message);return t?(i.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+t[2],i):null}function Mi(i,e){return nr(i)?nr(e)?i.element===e.element||i.id===e.id:!1:!nr(e)}function ha(i,e){return!i||!e||i.name!==e.name}function ua(i,e){Ir(i[e])&&i[e]()}function U(i,e){var t=Gt(i);return t&&typeof t.$instanceOf=="function"&&t.$instanceOf(e)}function Gt(i){return i&&i.businessObject||i}function ap(i){return Gt(i).name}function gc(i){var e=Gt(i);if(U(e,"dmn:Decision"))return e.get("decisionLogic");if(U(e,"dmn:BusinessKnowledgeModel")){var t=e.get("encapsulatedLogic");return t&&t.get("body")}}var lp=new pd({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0});function cp(i,e){var t=[];function n(g){var v=g.gfx;if(v)throw new Error("already rendered "+g.id);return i.element(g)}function r(g){return i.root(g)}function s(g){try{var v=g.di&&n(g);return v}catch(B){m(B.message,{element:g,error:B})}}function o(g,v){var B=g.dmnDI;if(!B)throw new Error("no dmndi:DMNDI");var w=B.diagrams||[];if(v&&w.indexOf(v)===-1)throw new Error("diagram not part of dmndi:DMNDI");if(!v&&w&&w.length&&(v=w[0]),!v)throw new Error("no diagram to display");g.di=v,u(v),r(g),a(g.get("drgElement")),l(g.get("artifact")),A()}function a(g){et(g,function(v){s(v),h(v)})}function l(g){et(g,function(v){U(v,"dmn:Association")?c(v):s(v)})}function c(g){p(function(){s(g)})}function h(g){et(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(v){et(g[v],function(B){p(function(){s(B)})})})}function u(g){et(g.diagramElements,d)}function d(g){f(g)}function f(g){var v=g.dmnElementRef;v?v.di?m("multiple DI elements defined for element",{element:v}):(lp.bind(v,"di"),v.di=g):m("no DMN element referenced in element",{element:g})}function p(g){t.push(g)}function A(){et(t,function(g){g()})}function m(g,v){i.error(g,v)}return{handleDefinitions:o}}function hp(i,e,t){var n=i.get("drdImporter"),r=i.get("eventBus"),s,o=[];function a(l){var c={root:function(u){return n.root(u)},element:function(u,d){return n.add(u,d)},error:function(u,d){o.push({message:u,context:d})}},h=new cp(c);h.handleDefinitions(l)}r.fire("import.start",{definitions:e});try{a(e)}catch(l){s=l}r.fire("import.done",{error:s,warnings:o}),t(s,o)}var Eo="$NO_OP",up="a runtime error occured! Use Inferno in development environment to find the error.",fr=Array.isArray;function Co(i){var e=typeof i;return e==="string"||e==="number"}function H(i){return pr(i)||te(i)}function Vt(i){return te(i)||i===!1||dp(i)||pr(i)}function _(i){return typeof i=="function"}function Mn(i){return typeof i=="string"}function ys(i){return typeof i=="number"}function te(i){return i===null}function dp(i){return i===!0}function pr(i){return i===void 0}function fp(i){throw i||(i=up),new Error("Inferno Error: "+i)}function ui(i,e){var t={};if(i)for(var n in i)t[n]=i[n];if(e)for(var r in e)t[r]=e[r];return t}var ri="$";function Bo(i,e,t,n,r,s,o,a){return{childFlags:i,children:e,className:t,dom:null,flags:n,key:r===void 0?null:r,parentVNode:null,props:s===void 0?null:s,ref:o===void 0?null:o,type:a}}function D(i,e,t,n,r,s,o,a){var l=r===void 0?1:r,c=Bo(l,n,t,i,o,s,a,e);return l===0&&yc(c,c.children),c}function K(i,e,t,n,r){(i&2)>0&&(i=e.prototype&&_(e.prototype.render)?4:8);var s=e.defaultProps;if(!H(s)){t||(t={});for(var o in s)pr(t[o])&&(t[o]=s[o])}if((i&8)>0){var a=e.defaultHooks;if(!H(a))if(!r)r=a;else for(var l in a)pr(r[l])&&(r[l]=a[l])}var c=Bo(1,null,null,i,n,t,r,e),h=tt.createVNode;return _(h)&&h(c),c}function Ye(i,e){return Bo(1,H(i)?"":i,null,16,e,null,null,null)}function bs(i){var e=i.props;if(e){var t=i.flags;t&481&&(e.children!==void 0&&H(i.children)&&yc(i,e.children),e.className!==void 0&&(i.className=e.className||null,e.className=void 0)),e.key!==void 0&&(i.key=e.key,e.key=void 0),e.ref!==void 0&&(t&8?i.ref=ui(i.ref,e.ref):i.ref=e.ref,e.ref=void 0)}return i}function Ee(i){var e,t=i.flags;if(t&14){var n,r=i.props;if(!te(r)){n={};for(var s in r)n[s]=r[s]}e=K(t,i.type,n,i.key,i.ref)}else t&481?e=D(t,i.type,i.className,i.children,i.childFlags,i.props,i.key,i.ref):t&16?e=Ye(i.children,i.key):t&1024&&(e=i);return e}function mc(){return Ye("",null)}function Ac(i,e,t,n){for(var r=i.length;t<r;t++){var s=i[t];if(!Vt(s)){var o=n+ri+t;if(fr(s))Ac(s,e,0,o);else{if(Co(s))s=Ye(s,o);else{var a=s.key,l=Mn(a)&&a[0]===ri;(!te(s.dom)||l)&&(s=Ee(s)),te(a)||l?s.key=o:s.key=n+a}e.push(s)}}}}function yc(i,e){var t,n=1;if(Vt(e))t=e;else if(Mn(e))n=2,t=Ye(e);else if(ys(e))n=2,t=Ye(e+"");else if(fr(e)){var r=e.length;if(r===0)t=null,n=1;else{(Object.isFrozen(e)||e.$===!0)&&(e=e.slice()),n=8;for(var s=0;s<r;s++){var o=e[s];if(Vt(o)||fr(o)){t=t||e.slice(0,s),Ac(e,t,s,"");break}else if(Co(o))t=t||e.slice(0,s),t.push(Ye(o,ri+s));else{var a=o.key,l=te(o.dom),c=te(a),h=!c&&Mn(a)&&a[0]===ri;!l||c||h?(t=t||e.slice(0,s),(!l||h)&&(o=Ee(o)),(c||h)&&(o.key=ri+s),t.push(o)):t&&t.push(o)}}t=t||e,t.$=!0}}else t=e,te(e.dom)||(t=Ee(e)),n=2;return i.children=t,i.childFlags=n,i}var tt={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},rn="http://www.w3.org/1999/xlink",Vr="http://www.w3.org/XML/1998/namespace",pp="http://www.w3.org/2000/svg",da={"xlink:actuate":rn,"xlink:arcrole":rn,"xlink:href":rn,"xlink:role":rn,"xlink:show":rn,"xlink:title":rn,"xlink:type":rn,"xml:base":Vr,"xml:lang":Vr,"xml:space":Vr},Ae={},bt=[];function Pr(i,e){i.appendChild(e)}function Di(i,e,t){H(t)?Pr(i,e):i.insertBefore(e,t)}function gp(i,e){return e?document.createElementNS(pp,i):document.createElement(i)}function ko(i,e,t){i.replaceChild(e,t)}function mp(i,e){i.removeChild(e)}function So(i){for(var e;(e=i.shift())!==void 0;)e()}var Ii={},Jr={};function bc(i,e,t){var n=Ii[i],r=t.$EV;e?(n||(Jr[i]=wp(i),Ii[i]=0),r||(r=t.$EV={}),r[i]||Ii[i]++,r[i]=e):r&&r[i]&&(Ii[i]--,n===1&&(document.removeEventListener(wc(i),Jr[i]),Jr[i]=null),r[i]=e)}function Ap(i){return _(i.composedPath)?i.composedPath()[0]:i.target}function yp(i,e,t,n){for(var r=Ap(i);!te(r);){if(e&&r.disabled)return;var s=r.$EV;if(s){var o=s[t];if(o&&(n.dom=r,o.event?o.event(o.data,i):o(i),i.cancelBubble))return}r=r.parentNode}}function wc(i){return i.substr(2).toLowerCase()}function bp(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function wp(i){var e=function(n){var r=n.type,s=r==="click"||r==="dblclick";if(s&&n.button!==0)return n.stopPropagation(),!1;n.stopPropagation=bp;var o={dom:document};Object.defineProperty(n,"currentTarget",{configurable:!0,get:function(){return o.dom}}),yp(n,s,i,o)};return document.addEventListener(wc(i),e),e}function vc(i,e){var t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function vp(i,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&vc(i,e.dangerouslySetInnerHTML.__html))}function fa(i,e,t){if(i[e]){var n=i[e];n.event?n.event(n.data,t):n(t)}else{var r=e.toLowerCase();i[r]&&i[r](t)}}function vi(i,e){var t=function(r){r.stopPropagation();var s=this.$V;if(s){var o=s.props||Ae,a=s.dom;if(Mn(i))fa(o,i,r);else for(var l=0;l<i.length;l++)fa(o,i[l],r);if(_(e)){var c=this.$V,h=c.props||Ae;e(h,a,!1,c)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function Mo(i){return i==="checkbox"||i==="radio"}var xp=vi("onInput",Do),Ep=vi(["onClick","onChange"],Do);function xc(i){i.stopPropagation()}xc.wrapped=!0;function Cp(i,e){Mo(e.type)?(i.onchange=Ep,i.onclick=xc):i.oninput=xp}function Do(i,e){var t=i.type,n=i.value,r=i.checked,s=i.multiple,o=i.defaultValue,a=!H(n);t&&t!==e.type&&e.setAttribute("type",t),!H(s)&&s!==e.multiple&&(e.multiple=s),!H(o)&&!a&&(e.defaultValue=o+""),Mo(t)?(a&&(e.value=n),H(r)||(e.checked=r)):a&&e.value!==n?(e.defaultValue=n,e.value=n):H(r)||(e.checked=r)}function pa(i,e){var t=i.type;if(t==="optgroup"){var n=i.children,r=i.childFlags;if(r&12)for(var s=0,o=n.length;s<o;s++)Kr(n[s],e);else r===2&&Kr(n,e)}else Kr(i,e)}function Kr(i,e){var t=i.props||Ae,n=i.dom;n.value=t.value,fr(e)&&e.indexOf(t.value)!==-1||t.value===e?n.selected=!0:(!H(e)||!H(t.selected))&&(n.selected=t.selected||!1)}var Bp=vi("onChange",Ec);function kp(i){i.onchange=Bp}function Ec(i,e,t,n){var r=!!i.multiple;!H(i.multiple)&&r!==e.multiple&&(e.multiple=r);var s=n.childFlags;if((s&1)===0){var o=n.children,a=i.value;if(t&&H(a)&&(a=i.defaultValue),s&12)for(var l=0,c=o.length;l<c;l++)pa(o[l],a);else s===2&&pa(o,a)}}var Sp=vi("onInput",Cc),Mp=vi("onChange");function Dp(i,e){i.oninput=Sp,e.onChange&&(i.onchange=Mp)}function Cc(i,e,t){var n=i.value,r=e.value;if(H(n)){if(t){var s=i.defaultValue;!H(s)&&s!==r&&(e.defaultValue=s,e.value=s)}}else r!==n&&(e.defaultValue=n,e.value=n)}function Bc(i,e,t,n,r,s){i&64?Do(n,t):i&256?Ec(n,t,r,e):i&128&&Cc(n,t,r),s&&(t.$V=e)}function Ip(i,e,t){i&64?Cp(e,t):i&256?kp(e):i&128&&Dp(e,t)}function kc(i){return i.type&&Mo(i.type)?!H(i.checked):!H(i.value)}function _e(i,e){cn(i),e&&i.dom&&(mp(e,i.dom),i.dom=null)}function cn(i){var e=i.flags;if(e&481){var t=i.ref,n=i.props;_(t)&&t(null);var r=i.children,s=i.childFlags;if(s&12?Io(r):s===2&&cn(r),!te(n))for(var o in n)switch(o){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":bc(o,null,i.dom);break}}else{var a=i.children;if(a)if(e&14){var l=i.ref;e&4?(_(a.componentWillUnmount)&&a.componentWillUnmount(),_(l)&&l(null),a.$UN=!0,a.$LI&&cn(a.$LI)):(!H(l)&&_(l.onComponentWillUnmount)&&l.onComponentWillUnmount(i.dom,i.props||Ae),cn(a))}else e&1024&&_e(a,i.type)}}function Io(i){for(var e=0,t=i.length;e<t;e++)cn(i[e])}function sr(i,e){Io(e),i.textContent=""}function Rp(i,e){return function(t){i(e.data,t)}}function Tp(i,e,t){var n=i.toLowerCase();if(!_(e)&&!H(e)){var r=e.event;r&&_(r)&&(t[n]=Rp(r,e))}else{var s=t[n];(!s||!s.wrapped)&&(t[n]=e)}}function ga(i,e){switch(i){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return e;default:return e+"px"}}function Fp(i,e,t){var n=t.style,r,s;if(Mn(e)){n.cssText=e;return}if(!H(i)&&!Mn(i)){for(r in e)s=e[r],s!==i[r]&&(n[r]=ys(s)?ga(r,s):s);for(r in i)H(e[r])&&(n[r]="")}else for(r in e)s=e[r],n[r]=ys(s)?ga(r,s):s}function ws(i,e,t,n,r,s,o){switch(i){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":bc(i,t,n);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":n.autofocus=!!t;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[i]=!!t;break;case"defaultChecked":case"value":case"volume":if(s&&i==="value")return;var a=H(t)?"":t;n[i]!==a&&(n[i]=a);break;case"dangerouslySetInnerHTML":var l=e&&e.__html||"",c=t&&t.__html||"";l!==c&&!H(c)&&!vc(n,c)&&(te(o)||(o.childFlags&12?Io(o.children):o.childFlags===2&&cn(o.children),o.children=null,o.childFlags=1),n.innerHTML=c);break;default:i[0]==="o"&&i[1]==="n"?Tp(i,t,n):H(t)?n.removeAttribute(i):i==="style"?Fp(e,t,n):r&&da[i]?n.setAttributeNS(da[i],i,t):n.setAttribute(i,t);break}}function Sc(i,e,t,n,r){var s=!1,o=(e&448)>0;o&&(s=kc(t),s&&Ip(e,n,t));for(var a in t)ws(a,null,t[a],n,r,s,null);o&&Bc(e,i,n,t,!0,s)}function Mc(i,e,t,n){var r=new e(t,n);if(i.children=r,r.$V=i,r.$BS=!1,r.context=n,r.props===Ae&&(r.props=t),r.$UN=!1,_(r.componentWillMount)){if(r.$BR=!0,r.componentWillMount(),r.$PSS){var s=r.state,o=r.$PS;if(te(s))r.state=o;else for(var a in o)s[a]=o[a];r.$PSS=!1,r.$PS=null}r.$BR=!1}_(tt.beforeRender)&&tt.beforeRender(r);var l=xi(r.render(t,r.state,n),i),c;return _(r.getChildContext)&&(c=r.getChildContext()),H(c)?r.$CX=n:r.$CX=ui(n,c),_(tt.afterRender)&&tt.afterRender(r),r.$LI=l,r}function xi(i,e){return Vt(i)?i=mc():Co(i)?i=Ye(i,null):(i.dom&&(i=Ee(i)),i.flags&14&&(i.parentVNode=e)),i}function Re(i,e,t,n){var r=i.flags;if(r&481)return Dc(i,e,t,n);if(r&14)return Lp(i,e,t,n,(r&4)>0);if(r&512||r&16)return vs(i,e);if(r&1024)return Re(i.children,i.type,t,!1),i.dom=vs(mc(),e)}function vs(i,e){var t=i.dom=document.createTextNode(i.children);return te(e)||Pr(e,t),t}function Dc(i,e,t,n){var r=i.flags,s=i.children,o=i.props,a=i.className,l=i.ref,c=i.childFlags;n=n||(r&32)>0;var h=gp(i.type,n);if(i.dom=h,!H(a)&&a!==""&&(n?h.setAttribute("class",a):h.className=a),te(e)||Pr(e,h),(c&1)===0){var u=n===!0&&i.type!=="foreignObject";c===2?Re(s,h,t,u):c&12&&si(s,h,t,u)}return te(o)||Sc(i,r,o,h,n),_(l)&&Ro(h,l),h}function si(i,e,t,n){for(var r=0,s=i.length;r<s;r++){var o=i[r];te(o.dom)||(i[r]=o=Ee(o)),Re(o,e,t,n)}}function Lp(i,e,t,n,r){var s,o=i.type,a=i.props||Ae,l=i.ref;if(r){var c=Mc(i,o,a,t);i.dom=s=Re(c.$LI,null,c.$CX,n),Ic(i,l,c),c.$UPD=!1}else{var h=xi(o(a,t),i);i.children=h,i.dom=s=Re(h,null,t,n),Rc(a,l,s)}return te(e)||Pr(e,s),s}function Op(i){return function(){i.$UPD=!0,i.componentDidMount(),i.$UPD=!1}}function Ic(i,e,t){_(e)&&e(t),_(t.componentDidMount)&&bt.push(Op(t))}function Pp(i,e,t){return function(){return i.onComponentDidMount(e,t)}}function Rc(i,e,t){H(e)||(_(e.onComponentWillMount)&&e.onComponentWillMount(i),_(e.onComponentDidMount)&&bt.push(Pp(e,t,i)))}function Ro(i,e){bt.push(function(){return e(i)})}function Np(i,e,t,n,r){var s=i.type,o=i.ref,a=i.props||Ae;if(r){var l=Mc(i,s,a,t),c=l.$LI;di(c,e,l.$CX,n),i.dom=c.dom,Ic(i,o,l),l.$UPD=!1}else{var h=xi(s(a,t),i);di(h,e,t,n),i.children=h,i.dom=h.dom,Rc(a,o,e)}}function Qp(i,e,t,n){var r=i.children,s=i.props,o=i.className,a=i.flags,l=i.ref;if(n=n||(a&32)>0,e.nodeType!==1||e.tagName.toLowerCase()!==i.type){var c=Dc(i,null,t,n);i.dom=c,ko(e.parentNode,c,e)}else{i.dom=e;var h=e.firstChild,u=i.childFlags;if((u&1)===0){for(var d=null;h;)d=h.nextSibling,h.nodeType===8&&(h.data==="!"?e.replaceChild(document.createTextNode(""),h):e.removeChild(h)),h=d;if(h=e.firstChild,u===2)te(h)?Re(r,e,t,n):(d=h.nextSibling,di(r,h,t,n),h=d);else if(u&12)for(var f=0,p=r.length;f<p;f++){var A=r[f];te(h)?Re(A,e,t,n):(d=h.nextSibling,di(A,h,t,n),h=d)}for(;h;)d=h.nextSibling,e.removeChild(h),h=d}else!te(e.firstChild)&&!vp(e,s)&&(e.textContent="",a&448&&(e.defaultValue=""));te(s)||Sc(i,a,s,e,n),H(o)?e.className!==""&&e.removeAttribute("class"):n?e.setAttribute("class",o):e.className=o,_(l)&&Ro(e,l)}}function qp(i,e){if(e.nodeType!==3){var t=vs(i,null);i.dom=t,ko(e.parentNode,t,e)}else{var n=i.children;e.nodeValue!==n&&(e.nodeValue=n),i.dom=e}}function di(i,e,t,n){var r=i.flags;r&14?Np(i,e,t,n,(r&4)>0):r&481?Qp(i,e,t,n):r&16?qp(i,e):r&512?i.dom=e:fp()}function _p(i,e,t){var n=e.firstChild;if(!te(n))for(Vt(i)||di(i,n,Ae,!1),n=e.firstChild;n=n.nextSibling;)e.removeChild(n);bt.length>0&&So(bt),e.$V=i,_(t)&&t()}function To(i,e,t,n,r){cn(i),ko(t,Re(e,null,n,r),i.dom)}function kt(i,e,t,n,r){var s=e.flags|0;i.flags!==s||s&2048?To(i,e,t,n,r):s&481?jp(i,e,t,n,r,s):s&14?Yp(i,e,t,n,r,(s&4)>0):s&16?Wp(i,e):s&512?e.dom=i.dom:Up(i,e,n)}function Hp(i,e){i.textContent!==e.children&&(i.textContent=e.children)}function Up(i,e,t){var n=i.type,r=e.type,s=e.children;if(Tc(i.childFlags,e.childFlags,i.children,s,n,t,!1),e.dom=i.dom,n!==r&&!Vt(s)){var o=s.dom;n.removeChild(o),r.appendChild(o)}}function jp(i,e,t,n,r,s){var o=e.type;if(i.type!==o)To(i,e,t,n,r);else{var a=i.dom,l=i.props,c=e.props,h=!1,u=!1,d;if(e.dom=a,r=r||(s&32)>0,l!==c){var f=l||Ae;if(d=c||Ae,d!==Ae){h=(s&448)>0,h&&(u=kc(d));for(var p in d){var A=f[p],m=d[p];A!==m&&ws(p,A,m,a,r,u,i)}}if(f!==Ae)for(var g in f)!d.hasOwnProperty(g)&&!H(f[g])&&ws(g,f[g],null,a,r,u,i)}var v=i.children,B=e.children,w=e.ref,E=i.className,x=e.className;s&4096?Hp(a,B):Tc(i.childFlags,e.childFlags,v,B,a,n,r&&o!=="foreignObject"),h&&Bc(s,e,a,d,!1,u),E!==x&&(H(x)?a.removeAttribute("class"):r?a.setAttribute("class",x):a.className=x),_(w)&&i.ref!==w&&Ro(a,w)}}function Tc(i,e,t,n,r,s,o){switch(i){case 2:switch(e){case 2:kt(t,n,r,s,o);break;case 1:_e(t,r);break;default:_e(t,r),si(n,r,s,o);break}break;case 1:switch(e){case 2:Re(n,r,s,o);break;case 1:break;default:si(n,r,s,o);break}break;default:if(e&12){var a=t.length,l=n.length;a===0?l>0&&si(n,r,s,o):l===0?sr(r,t):e===8&&i===8?Gp(t,n,r,s,o,a,l):zp(t,n,r,s,o,a,l)}else e===1?sr(r,t):e===2&&(sr(r,t),Re(n,r,s,o));break}}function Fc(i,e,t,n,r,s,o,a,l){var c=i.state,h=i.props;t.children=i;var u;if(!i.$UN){if(h!==n||n===Ae){if(!l&&_(i.componentWillReceiveProps)){if(i.$BR=!0,i.componentWillReceiveProps(n,s),i.$UN)return;i.$BR=!1}i.$PSS&&(e=ui(e,i.$PS),i.$PSS=!1,i.$PS=null)}var d=!!i.shouldComponentUpdate;if(a||!d||d&&i.shouldComponentUpdate(n,e,s)){_(i.componentWillUpdate)&&(i.$BS=!0,i.componentWillUpdate(n,e,s),i.$BS=!1),i.props=n,i.state=e,i.context=s,_(tt.beforeRender)&&tt.beforeRender(i),u=i.render(n,e,s),_(tt.afterRender)&&tt.afterRender(i);var f=u!==Eo,p;if(_(i.getChildContext)&&(p=i.getChildContext()),H(p)?p=s:p=ui(s,p),i.$CX=p,f){var A=i.$LI,m=xi(u,t);kt(A,m,r,p,o),i.$LI=m,_(i.componentDidUpdate)&&i.componentDidUpdate(h,c)}}else i.props=n,i.state=e,i.context=s;t.dom=i.$LI.dom}}function Yp(i,e,t,n,r,s){var o=e.type,a=i.key,l=e.key;if(i.type!==o||a!==l)To(i,e,t,n,r);else{var c=e.props||Ae;if(s){var h=i.children;h.$UPD=!0,h.$V=e,Fc(h,h.state,e,c,t,n,r,!1,!1),h.$UPD=!1}else{var u=!0,d=i.props,f=e.ref,p=!H(f),A=i.children;if(e.dom=i.dom,e.children=A,p&&_(f.onComponentShouldUpdate)&&(u=f.onComponentShouldUpdate(d,c)),u!==!1){p&&_(f.onComponentWillUpdate)&&f.onComponentWillUpdate(d,c);var m=o(c,n);m!==Eo&&(m=xi(m,e),kt(A,m,t,n,r),e.children=m,e.dom=m.dom,p&&_(f.onComponentDidUpdate)&&f.onComponentDidUpdate(d,c))}else A.flags&14&&(A.parentVNode=e)}}}function Wp(i,e){var t=e.children,n=i.dom;t!==i.children&&(n.nodeValue=t),e.dom=n}function zp(i,e,t,n,r,s,o){for(var a=s>o?o:s,l=0,c,h;l<a;l++)c=e[l],h=i[l],c.dom&&(c=e[l]=Ee(c)),kt(h,c,t,n,r),i[l]=c;if(s<o)for(l=a;l<o;l++)c=e[l],c.dom&&(c=e[l]=Ee(c)),Re(c,t,n,r);else if(s>o)for(l=a;l<s;l++)_e(i[l],t)}function Gp(i,e,t,n,r,s,o){var a=s-1,l=o-1,c,h=0,u=i[h],d=e[h],f;e:{for(;u.key===d.key;){if(d.dom&&(e[h]=d=Ee(d)),kt(u,d,t,n,r),i[h]=d,h++,h>a||h>l)break e;u=i[h],d=e[h]}for(u=i[a],d=e[l];u.key===d.key;){if(d.dom&&(e[l]=d=Ee(d)),kt(u,d,t,n,r),i[a]=d,a--,l--,h>a||h>l)break e;u=i[a],d=e[l]}}if(h>a){if(h<=l){f=l+1;for(var p=f<o?e[f].dom:null;h<=l;)d=e[h],d.dom&&(e[h]=d=Ee(d)),h++,Di(t,Re(d,null,n,r),p)}}else if(h>l)for(;h<=a;)_e(i[h++],t);else{var A=h,m=h,g=a-h+1,v=l-h+1,B=[];for(c=0;c<v;c++)B.push(0);var w=g===s,E=!1,x=0,y=0;if(o<4||(g|v)<32)for(c=A;c<=a;c++)if(u=i[c],y<v){for(h=m;h<=l;h++)if(d=e[h],u.key===d.key){if(B[h-m]=c+1,w)for(w=!1;c>A;)_e(i[A++],t);x>h?E=!0:x=h,d.dom&&(e[h]=d=Ee(d)),kt(u,d,t,n,r),y++;break}!w&&h>l&&_e(u,t)}else w||_e(u,t);else{var b={};for(c=m;c<=l;c++)b[e[c].key]=c;for(c=A;c<=a;c++)if(u=i[c],y<v)if(h=b[u.key],h!==void 0){if(w)for(w=!1;c>A;)_e(i[A++],t);d=e[h],B[h-m]=c+1,x>h?E=!0:x=h,d.dom&&(e[h]=d=Ee(d)),kt(u,d,t,n,r),y++}else w||_e(u,t);else w||_e(u,t)}if(w)sr(t,i),si(e,t,n,r);else if(E){var S=Vp(B);for(h=S.length-1,c=v-1;c>=0;c--)B[c]===0?(x=c+m,d=e[x],d.dom&&(e[x]=d=Ee(d)),f=x+1,Di(t,Re(d,null,n,r),f<o?e[f].dom:null)):h<0||c!==S[h]?(x=c+m,d=e[x],f=x+1,Di(t,d.dom,f<o?e[f].dom:null)):h--}else if(y!==v)for(c=v-1;c>=0;c--)B[c]===0&&(x=c+m,d=e[x],d.dom&&(e[x]=d=Ee(d)),f=x+1,Di(t,Re(d,null,n,r),f<o?e[f].dom:null))}}function Vp(i){var e=i.slice(),t=[0],n,r,s,o,a,l=i.length;for(n=0;n<l;n++){var c=i[n];if(c!==0){if(r=t[t.length-1],i[r]<c){e[n]=r,t.push(n);continue}for(s=0,o=t.length-1;s<o;)a=(s+o)/2|0,i[t[a]]<c?s=a+1:o=a;c<i[t[s]]&&(s>0&&(e[n]=t[s-1]),t[s]=n)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function gr(i,e,t){if(i!==Eo){var n=e.$V;if(H(n)?Vt(i)||(i.dom&&(i=Ee(i)),te(e.firstChild)?(Re(i,e,Ae,!1),e.$V=i):_p(i,e),n=i):H(i)?(_e(n,e),e.$V=null):(i.dom&&(i=Ee(i)),kt(n,i,e,Ae,!1),n=e.$V=i),bt.length>0&&So(bt),_(t)&&t(),_(tt.renderComplete)&&tt.renderComplete(n),n&&n.flags&14)return n.children}}function Jp(i,e){return D(1024,e,null,i,0,null,Vt(i)?null:i.key,null)}var ma=typeof Promise>"u"?null:Promise.resolve(),Kp=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function $p(i){return ma?ma.then(i):Kp(i)}function Aa(i,e,t,n){_(e)&&(e=e(i.state,i.props,i.context));var r=i.$PS;if(H(r))i.$PS=e;else for(var s in e)r[s]=e[s];if(!i.$PSS&&!i.$BR)if(!i.$UPD)i.$PSS=!0,i.$UPD=!0,Lc(i,n,t),i.$UPD=!1;else{var o=i.$QU;te(o)&&(o=i.$QU=[],$p(Xp(i,o))),_(t)&&o.push(t)}else i.$PSS=!0,i.$BR&&_(t)&&bt.push(t.bind(i))}function Xp(i,e){return function(){i.$QU=null,i.$UPD=!0,Lc(i,!1,function(){for(var t=0,n=e.length;t<n;t++)e[t].call(i)}),i.$UPD=!1}}function Lc(i,e,t){if(!i.$UN){if(e||!i.$BR){i.$PSS=!1;var n=i.$PS,r=i.state,s=ui(r,n),o=i.props,a=i.context;i.$PS=null;var l=i.$V,c=i.$LI,h=c.dom&&c.dom.parentNode;if(Fc(i,s,l,o,h,a,(l.flags&32)>0,e,!0),i.$UN)return;if((i.$LI.flags&1024)===0)for(var u=i.$LI.dom;!te(l=l.parentVNode);)(l.flags&14)>0&&(l.dom=u);bt.length>0&&So(bt)}else i.state=i.$PS,i.$PS=null;_(t)&&t.call(i)}}var fe=function(){function i(t,n){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=t||Ae,this.context=n||Ae}var e=i.prototype;return e.forceUpdate=function(n){this.$UN||Aa(this,{},n,!0)},e.setState=function(n,r){if(!this.$UN)if(!this.$BS)Aa(this,n,r,!1);else return},e.render=function(n,r,s){},i}();fe.defaultProps=void 0;var Oc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="#000000" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="#000000" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function Pc(i){var e='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100;">'+Oc+"</a>",t=vt(e);i.appendChild(t),gd.bind(t,"click",function(n){ig(),n.preventDefault()})}class Fo extends fe{constructor(e,t){super(e,t),this.node=null}componentDidMount(){Pc(this.node)}render(){return D(1,"div",null,null,1,null,null,e=>this.node=e)}}function Lo(i){return i.join(";")}var Zp=Lo(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),eg=Lo(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"]),tg=Lo(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"]),ng='<div class="bjs-powered-by-lightbox" style="'+Zp+'"><div class="backdrop" style="'+eg+'"></div><div class="notice" style="'+tg+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;">'+Oc+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',Wn;function ig(){Wn||(Wn=vt(ng),uo.bind(Wn,".backdrop","click",function(i){document.body.removeChild(Wn)})),document.body.appendChild(Wn)}var rg=new md,Ri="hsl(225, 10%, 15%)";function Oo(i,e,t,n,r,s){ir.call(this,e);var o=rg.next(),a=n.computeStyle,l={},c=i&&i.defaultFillColor||"white",h=i&&i.defaultStrokeColor||Ri,u=i&&i.defaultLabelColor;function d(y,b,S){var k=y+"-"+ba(b)+"-"+ba(S)+"-"+o;return l[k]||p(k,y,b,S),"url(#"+k+")"}function f(y,b){var S=Me({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},b.attrs),k=b.ref||{x:0,y:0},M=b.scale||1;S.strokeDasharray==="none"&&(S.strokeDasharray=[1e4,1]);var C=Ct("marker");Ze(b.element,S),tn(C,b.element),Ze(C,{id:y,viewBox:"0 0 20 20",refX:k.x,refY:k.y,markerWidth:20*M,markerHeight:20*M,orient:"auto"});var I=hi("defs",s._svg);I||(I=Ct("defs"),tn(s._svg,I)),tn(I,C),l[y]=C}function p(y,b,S,k){if(b==="association-start"){var M=Ct("path");Ze(M,{d:"M 11 5 L 1 10 L 11 15"}),f(y,{element:M,attrs:{fill:"none",stroke:k,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}else if(b==="association-end"){var C=Ct("path");Ze(C,{d:"M 1 5 L 11 10 L 1 15"}),f(y,{element:C,attrs:{fill:"none",stroke:k,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}else if(b==="information-requirement-end"){var I=Ct("path");Ze(I,{d:"M 1 5 L 11 10 L 1 15 Z"}),f(y,{element:I,attrs:{fill:k,stroke:"none"},ref:{x:11,y:10},scale:1})}else if(b==="knowledge-requirement-end"){var N=Ct("path");Ze(N,{d:"M 1 3 L 11 10 L 1 17"}),f(y,{element:N,attrs:{fill:"none",stroke:k,strokeWidth:2},ref:{x:11,y:10},scale:.8})}else if(b==="authority-requirement-end"){var se=Ct("circle");Ze(se,{cx:3,cy:3,r:3}),f(y,{element:se,attrs:{fill:k,stroke:"none"},ref:{x:3,y:3},scale:.9})}}function A(y,b,S,k,M,C){Jl(M)&&(C=M,M=0),M=M||0,C=a(C,{stroke:Ri,strokeWidth:2,fill:"white"});var I=Ct("rect");return Ze(I,{x:M,y:M,width:b-M*2,height:S-M*2,rx:k,ry:k}),Ze(I,C),tn(y,I),I}function m(y,b,S){var k=r.createText(b||"",S);return yd(k,"class","djs-label"),tn(y,k),k}function g(y,b,S,k){var M=ap(b);return k=Me({box:b,align:S,padding:5,style:{fill:wa(b,u,h)}},k),m(y,M,k)}function v(y,b,S){S=a(S,["no-fill"],{strokeWidth:2,stroke:Ri});var k=Ct("path");return Ze(k,{d:b}),Ze(k,S),tn(y,k),k}var B={"dmn:Decision":function(y,b){var S=A(y,b.width,b.height,0,{stroke:ut(b,h),fill:Qt(b,c)});return g(y,b,"center-middle"),S},"dmn:KnowledgeSource":function(y,b){var S=t.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:.075}}),k=v(y,S,{strokeWidth:2,fill:Qt(b,c),stroke:ut(b,h)});return g(y,b,"center-middle"),k},"dmn:BusinessKnowledgeModel":function(y,b){var S=t.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:.3}}),k=v(y,S,{strokeWidth:2,fill:Qt(b,c),stroke:ut(b,h)});return g(y,b,"center-middle"),k},"dmn:InputData":function(y,b){var S=A(y,b.width,b.height,22,{stroke:ut(b,h),fill:Qt(b,c)});return g(y,b,"center-middle"),S},"dmn:TextAnnotation":function(y,b){var S={fill:"none",stroke:"none"},k=A(y,b.width,b.height,0,0,S),M=t.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:0}});v(y,M,{stroke:ut(b,h)});var C=ya(b).text||"";return m(y,C,{style:{fill:wa(b,u,h)},box:b,align:"left-top",padding:5}),k},"dmn:Association":function(y,b){var S=ya(b),k=Qt(b,c),M=ut(b,h),C={stroke:M,strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"};return(S.associationDirection==="One"||S.associationDirection==="Both")&&(C.markerEnd=d("association-end",k,M)),S.associationDirection==="Both"&&(C.markerStart=d("association-start",k,M)),x(y,b.waypoints,C)},"dmn:InformationRequirement":function(y,b){var S=Qt(b,c),k=ut(b,h),M={stroke:k,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:d("information-requirement-end",S,k)};return x(y,b.waypoints,M)},"dmn:KnowledgeRequirement":function(y,b){var S=Qt(b,c),k=ut(b,h),M={stroke:k,strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:d("knowledge-requirement-end",S,k)};return x(y,b.waypoints,M)},"dmn:AuthorityRequirement":function(y,b){var S=Qt(b,c),k=ut(b,h),M={stroke:k,strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:d("authority-requirement-end",S,k)};return x(y,b.waypoints,M)}};function w(y,b){var S=B[b.type];return S?S(y,b):ir.prototype.drawShape.apply(this,[y,b])}function E(y,b){var S=b.type,k=B[S];return k?k(y,b):ir.prototype.drawConnection.apply(this,[y,b])}function x(y,b,S){S=a(S,["no-fill"],{stroke:Ri,strokeWidth:2,fill:"none"});var k=Ad(b,S);return tn(y,k),k}this.canRender=function(y){return U(y,"dmn:DMNElement")||U(y,"dmn:InformationRequirement")||U(y,"dmn:KnowledgeRequirement")||U(y,"dmn:AuthorityRequirement")},this.drawShape=w,this.drawConnection=E}Vl(Oo,ir);Oo.$inject=["config.drdRenderer","eventBus","pathMap","styles","textRenderer","canvas"];function ya(i){return i.businessObject}function ba(i){return i.replace(/[^0-9a-zA-z]+/g,"_")}function ut(i,e){return e}function Qt(i,e){return e}function wa(i,e,t){return e||ut(i,t)}var sg=12,og=1.2,ag=30;function Nc(i){var e=Me({fontFamily:"Arial, sans-serif",fontSize:sg,fontWeight:"normal",lineHeight:og},i&&i.defaultStyle||{}),t=parseInt(e.fontSize,10)-1,n=Me({},e,{fontSize:t},i&&i.externalStyle||{}),r=new bd({style:e});this.getExternalLabelBounds=function(s,o){var a=r.getDimensions(o,{box:{width:90,height:30,x:s.width/2+s.x,y:s.height/2+s.y},style:n});return{x:Math.round(s.x+s.width/2-a.width/2),y:Math.round(s.y),width:Math.ceil(a.width),height:Math.ceil(a.height)}},this.getTextAnnotationBounds=function(s,o){var a=r.getDimensions(o,{box:s,style:e,align:"left-top",padding:5});return{x:s.x,y:s.y,width:s.width,height:Math.max(ag,Math.round(a.height))}},this.createText=function(s,o){return r.createText(s,o||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return n}}Nc.$inject=["config.textRenderer"];function lg(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n=this.pathMap[e],r,s;t.abspos?(r=t.abspos.x,s=t.abspos.y):(r=t.containerWidth*t.position.mx,s=t.containerHeight*t.position.my);var o={};if(t.position){for(var a=t.containerHeight/n.height*t.yScaleFactor,l=t.containerWidth/n.width*t.xScaleFactor,c=0;c<n.heightElements.length;c++)o["y"+c]=n.heightElements[c]*a;for(var h=0;h<n.widthElements.length;h++)o["x"+h]=n.widthElements[h]*l}var u=dg(n.d,{mx:r,my:s,e:o});return u}}var cg=/\{([^{}]+)\}/g,hg=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function ug(i,e,t){var n=t;return e.replace(hg,function(r,s,o,a,l){s=s||a,n&&(s in n&&(n=n[s]),typeof n=="function"&&l&&(n=n()))}),n=(n==null||n==t?i:n)+"",n}function dg(i,e){return String(i).replace(cg,function(t,n){return ug(t,n,e)})}const fg={__init__:["drdRenderer"],drdRenderer:["type",Oo],textRenderer:["type",Nc],pathMap:["type",lg]};function yn(i,e,t,n){this._eventBus=i,this._canvas=e,this._elementRegistry=n,this._elementFactory=t}yn.$inject=["eventBus","canvas","elementFactory","elementRegistry"];yn.prototype.root=function(i){var e=this._elementFactory.createRoot(xs(i));return this._canvas.setRootElement(e),e};yn.prototype.add=function(i){var e=this._elementFactory,t=this._canvas,n=this._eventBus,r=i.di,s,o,a,l,c,h;if(r.$instanceOf("dmndi:DMNShape"))h=r.bounds,c=xs(i,{x:Math.round(h.x),y:Math.round(h.y),width:Math.round(h.width),height:Math.round(h.height)}),s=e.createShape(c),t.addShape(s),n.fire("drdElement.added",{element:s,di:r});else if(r.$instanceOf("dmndi:DMNEdge"))o=pg(r),a=this._getSource(i),l=this._getTarget(i),a&&l&&(c=xs(i,{hidden:!1,source:a,target:l,waypoints:o}),s=e.createConnection(c),t.addConnection(s),n.fire("drdElement.added",{element:s,di:r}));else throw new Error("unknown di for element "+i.id);return s};yn.prototype._getSource=function(i){var e,t;if(U(i,"dmn:Association")?t=i.sourceRef:U(i,"dmn:InformationRequirement")?t=i.requiredDecision||i.requiredInput:U(i,"dmn:KnowledgeRequirement")?t=i.requiredKnowledge:U(i,"dmn:AuthorityRequirement")&&(t=i.requiredDecision||i.requiredInput||i.requiredAuthority),t&&(e=t.href),e)return this._getShape(Qc(e))};yn.prototype._getTarget=function(i){return U(i,"dmn:Association")?i.targetRef&&this._getShape(Qc(i.targetRef.href)):this._getShape(i.$parent.id)};yn.prototype._getShape=function(i){return this._elementRegistry.get(i)};function xs(i,e){return Me({id:i.id,type:i.$type,businessObject:i},e)}function pg(i){var e=i.waypoint;if(e)return wd(e,function(t){var n={x:t.x,y:t.y};return Me({original:n},n)})}function Qc(i){return i.split("#").pop()}const gg={drdImporter:["type",yn]},mg={__depends__:[fg,gg]};function Nr(i,e,t){this._eventBus=i,this._canvas=e,this._translate=t,i.on("diagram.init",function(){this._init()},this),i.on("import.done",function(n){n.error||this.update()},this),this.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="'+this._translate("Definition name")+'" spellcheck="false"></div><div class="dmn-definitions-id" title="'+this._translate("Definition ID")+'" spellcheck="false"></div></div>'}Nr.$inject=["eventBus","canvas","translate"];Nr.prototype._init=function(){var i=this._canvas,e=this._eventBus,t=i.getContainer(),n=this._container=vt(this.HTML_MARKUP);t.appendChild(n),this.nameElement=hi(".dmn-definitions-name",this._container),this.idElement=hi(".dmn-definitions-id",this._container),uo.bind(n,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(r){r.stopPropagation()}),e.fire("definitionIdView.create",{html:n})};Nr.prototype.update=function(){var i=this._canvas.getRootElement().businessObject;this.nameElement.textContent=i.name,this.idElement.textContent=i.id};function qc(i,e){function t(n,r){var s=e.getContainer();Kl(s).toggle(n,r)}i.on("palette.create",function(){t("with-palette",!0)}),i.on("palette.changed",function(n){t("with-palette-two-column",n.twoColumn)})}qc.$inject=["eventBus","canvas"];const Ag={__depends__:[mn],__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",Nr],definitionPropertiesPaletteAdapter:["type",qc]};var va=[{className:"dmn-icon-decision-table",matches:function(i){var e=Gt(i);return U(e,"dmn:Decision")&&U(e.decisionLogic,"dmn:DecisionTable")},title:"Open decision table"},{className:"dmn-icon-literal-expression",matches:function(i){var e=gc(i);return U(e,"dmn:LiteralExpression")},title:"Open literal expression"}];class _c{constructor(e,t,n,r,s){this._injector=e,this._eventBus=t,this._overlays=n,this._translate=s,this._config=r||{enabled:!0},t.on(["shape.added"],({element:o})=>{for(let l=0;l<va.length;l++){const{matches:c,className:h,title:u}=va[l];var a=c&&c(o);a&&this.addOverlay(o,h,u)}})}addOverlay(e,t,n){const r=this._config.enabled!==!1,s=this._getOverlayNode(t,n,r),o=this._overlays.add(e,{position:{top:2,left:2},html:s});r&&(Kl(s).add("interactive"),this.bindEventListener(e,s,o))}_getOverlayNode(e,t,n){const r=document.createElement("div");if(r.className="drill-down-overlay",!n){const o=document.createElement("span");return o.className=e,r.appendChild(o),r}const s=document.createElement("button");return s.type="button",s.className=e,s.title=this._translate(t),r.appendChild(s),r}bindEventListener(e,t,n){const r=this._overlays,s=this._eventBus,o=r._overlayRoot;uo.bind(o,'[data-overlay-id="'+n+'"]',"click",()=>{s.fire("drillDown.click",{element:e})!==!1&&this.drillDown(e)})}drillDown(e){const t=this._injector.get("_parent",!1);if(!t)return!1;const n=t.getView(e.businessObject);return n?(t.open(n),!0):!1}}_c.$inject=["injector","eventBus","overlays","config.drillDown","translate"];const yg={__depends__:[$l,mn],__init__:["drillDown"],drillDown:["type",_c]};function Oe(i){this._container=this._createContainer(),Pc(this._container),this._init(this._container,i)}Vl(Oe,fo);Oe.prototype.saveSVG=rr(function(i){var e=this;return new Promise(function(t){var n=e.get("canvas"),r=n.getActiveLayer(),s=hi("defs",n._svg),o=xd(r),a=s&&s.outerHTML||"",l=r.getBBox(),c=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with dmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+a+o+"</svg>";t({svg:c})})});Oe.prototype.getModules=function(){return this._modules};Oe.prototype.destroy=function(){fo.prototype.destroy.call(this),un(this._container)};Oe.prototype.on=function(i,e,t,n){return this.get("eventBus").on(i,e,t,n)};Oe.prototype.off=function(i,e){this.get("eventBus").off(i,e)};Oe.prototype._init=function(i,e){var{additionalModules:t,canvas:n,...r}=e,s=e.modules||this.getModules(),o=[{drd:["value",this]}],a=[...o,...s,...t||[]],l={...r,canvas:{...n,container:i},modules:a};fo.call(this,l),e&&e.container&&this.attachTo(e.container)};Oe.prototype._emit=function(i,e){return this.get("eventBus").fire(i,e)};Oe.prototype._createContainer=function(){return vt('<div class="dmn-drd-container"></div>')};Oe.prototype.open=function(i){var e=this;return new Promise((t,n)=>{var r;try{return e._definitions&&e.clear(),e._definitions=i,hp(e,i,function(s,o){s?(s.warnings=o||[],n(s)):t({warnings:o||[]})})}catch(s){r=s}r?(r.warnings=r.warnings||[],n(r)):t({warnings:[]})})};Oe.prototype.attachTo=function(i){if(!i)throw new Error("parentNode required");this.detach();var e=this._container;i.appendChild(e),this._emit("attach",{}),this.get("canvas").resized()};Oe.prototype.detach=function(){var i=this._container,e=i.parentNode;e&&(this._emit("detach",{}),e.removeChild(i))};Oe.prototype._modules=[mg,mn,vd,$l,Ag,yg];class Qr{constructor(e){Me(this,e),Tt(this,"businessObject",{writable:!0})}}class bg extends Qr{constructor(e){super(e),Tt(this,"rows",{enumerable:!0,value:this.rows||[]}),Tt(this,"cols",{enumerable:!0,value:this.cols||[]})}}class wg extends Qr{constructor(e){super(e),Tt(this,"root",{writable:!0}),Tt(this,"cells",{enumerable:!0,value:this.cells||[]})}}class vg extends Qr{constructor(e){super(e),Tt(this,"root",{writable:!0}),Tt(this,"cells",{enumerable:!0,value:this.cells||[]})}}class xg extends Qr{constructor(e){super(e),Tt(this,"row",{writable:!0}),Tt(this,"col",{writable:!0})}}const Eg={root:bg,row:wg,col:vg,cell:xg};function Cg(i,e){const t=Eg[i];if(!t)throw new Error("unknown type "+i);return new t(e)}function Tt(i,e,t){Object.defineProperty(i,e,t)}class Bg{constructor(){this._uid=12}create(e,t={}){return t.id||(t.id=e+"_"+this._uid++),Cg(e,t)}createRoot(e){return this.create("root",e)}createRow(e){return this.create("row",e)}createCol(e){return this.create("col",e)}createCell(e){return this.create("cell",e)}}let Hc=class{constructor(e){this._eventBus=e,this._elements={},e.on("table.clear",this.clear.bind(this))}add(e,t){const{id:n}=e;this._elements[n]=e}remove(e){const t=e.id||e;delete this._elements[t]}get(e){return this._elements[e]}getAll(){return $r(this._elements)}forEach(e){$r(this._elements).forEach(t=>e(t))}filter(e){return $r(this._elements).filter(t=>e(t))}clear(){this._elements={}}updateId(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t}),this.remove(e),e.id=t,this.add(e)}_validateId(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}};Hc.$inject=["eventBus"];function $r(i){return Object.keys(i).map(function(e){return i[e]})}let Uc=class{constructor(e){this._listeners={},e.on("elements.changed",({elements:t})=>{this.elementsChanged(t)}),e.on("root.remove",t=>{const n=t.root.id;this._listeners[n]&&e.once("root.add",r=>{const s=r.root.id;this.updateId(n,s)})}),e.on("element.updateId",({element:t,newId:n})=>{this.updateId(t.id,n)})}elementsChanged(e){const t={},n=e.length;for(let r=0;r<n;r++){const{id:s}=e[r];if(t[s])return;t[s]=!0;const o=this._listeners[s]&&this._listeners[s].length;if(o)for(let a=0;a<o;a++)this._listeners[s][a]&&this._listeners[s][a]()}}onElementsChanged(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}offElementsChanged(e,t){if(this._listeners[e])if(t){const n=this._listeners[e].indexOf(t);n!==-1&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}updateId(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}};Uc.$inject=["eventBus"];const kg=1e3;let Sg=class{constructor(){this._listeners={}}getComponent(e,t){const n=this._listeners[e];if(!n)return;let r;for(let s=0;s<n.length&&(r=n[s].callback(t),!r);s++);return r}getComponents(e,t){const n=this._listeners[e],r=[];if(!n)return r;for(let s=0;s<n.length;s++){const o=n[s].callback(t);o&&r.push(o)}return r.length,r}onGetComponent(e,t,n){if(Ir(t)&&(n=t,t=kg),!ho(t))throw new Error("priority must be a number");const r=this._getListeners(e);let s,o;const a={priority:t,callback:n};for(o=0;s=r[o];o++)if(s.priority<t){r.splice(o,0,a);return}r.push(a)}offGetComponent(e,t){const n=this._getListeners(e);let r,s,o;if(t)for(o=n.length-1;r=n[o];o--)s=r.callback,s===t&&n.splice(o,1);else n.length=0}_getListeners(e){let t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}};class Mg extends fe{constructor(e){super(e);const t=this._injector=e.injector;this._sheet=t.get("sheet"),this._changeSupport=t.get("changeSupport"),this._components=t.get("components"),this._eventBus=t.get("eventBus");const n=t.get("throttle");this.onElementsChanged=this.onElementsChanged.bind(this),this.onScroll=n(this.onScroll.bind(this))}onElementsChanged(){this.forceUpdate()}onScroll(){this._eventBus.fire("sheet.scroll")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}componentWillMount(){const{id:e}=this._sheet.getRoot();this._changeSupport.onElementsChanged(e,this.onElementsChanged)}componentWillUnmount(){const{id:e}=this._sheet.getRoot();this._changeSupport.offElementsChanged(e,this.onElementsChanged)}render(){const{rows:e,cols:t}=this._sheet.getRoot(),n=this._components.getComponents("table.before"),r=this._components.getComponents("table.after"),s=this._components.getComponent("table.head"),o=this._components.getComponent("table.body"),a=this._components.getComponent("table.foot");return D(1,"div","tjs-container",[n&&n.map((l,c)=>K(2,l,null,c)),D(1,"div","tjs-table-container",D(1,"table","tjs-table",[s&&K(2,s,{rows:e,cols:t}),o&&K(2,o,{rows:e,cols:t}),a&&K(2,a,{rows:e,cols:t})],0),2,{onScroll:this.onScroll}),r&&r.map((l,c)=>K(2,l,null,c))],0)}}let jc=class{constructor(e,t,n,r,s){const{container:o}=n;this._container=o,r.on("root.added",()=>{gr(K(2,Mg,{injector:s}),o)}),r.on("root.remove",()=>{gr(null,o)})}getContainer(){return this._container}};jc.$inject=["changeSupport","components","config.renderer","eventBus","injector"];const Yc={__init__:["changeSupport","components","renderer"],changeSupport:["type",Uc],components:["type",Sg],renderer:["type",jc]};class Wc{constructor(e,t){this._elementRegistry=e,this._eventBus=t,this._root=null,t.on("table.clear",()=>{this.setRoot(null)})}setRoot(e){if(this._root){const t=this._root;this._eventBus.fire("root.remove",{root:t}),this._root=null,this._eventBus.fire("root.removed",{root:t})}e&&this._eventBus.fire("root.add",{root:e}),this._root=e,e&&this._eventBus.fire("root.added",{root:e})}getRoot(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}addRow(e,t){const n=this.getRoot();if(n.cols.length!=e.cells.length)throw new Error("number of cells is not equal to number of cols");return typeof t>"u"&&(t=n.rows.length),Ti(t,n.rows,e),e.root=n,this._elementRegistry.add(e),e.cells.forEach((r,s)=>{this._elementRegistry.add(r),r.row=e,r.col=n.cols[s],Ti(t,n.cols[s].cells,r)}),this._eventBus.fire("row.add",{row:e}),e}removeRow(e){const t=this.getRoot();typeof e=="string"&&(e=this._elementRegistry.get(e));const n=t.rows.indexOf(e);n!==-1&&(Fi(n,t.rows),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach((r,s)=>{this._elementRegistry.remove(r),r.col=void 0,Fi(n,t.cols[s].cells)}),this._eventBus.fire("row.remove",{row:e}))}addCol(e,t){const n=this.getRoot();if(this._elementRegistry.add(e),n.rows.length!=e.cells.length)throw new Error("number of cells is not equal to number of rows");return typeof t>"u"&&(t=n.cols.length),Ti(t,n.cols,e),e.root=n,e.cells.forEach((r,s)=>{this._elementRegistry.add(r),r.col=e,r.row=n.rows[s],Ti(t,n.rows[s].cells,r)}),this._eventBus.fire("col.add",{col:e}),e}removeCol(e){const t=this.getRoot();typeof e=="string"&&(e=this._elementRegistry.get(e));const n=t.cols.indexOf(e);n!==-1&&(Fi(n,t.cols),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach((r,s)=>{this._elementRegistry.remove(r),r.row=void 0,Fi(n,t.rows[s].cells)}),this._eventBus.fire("col.remove",{col:e}))}resized(){this._eventBus.fire("sheet.resized")}}Wc.$inject=["elementRegistry","eventBus"];function Ti(i,e,t){return e.splice(i,0,t)}function Fi(i,e){return e.splice(i,1)}function zc(i=!0){const e=typeof i=="number"?i:i?300:0;return e?t=>Ed(t,e):t=>t}zc.$inject=["config.throttle"];const Dg={__depends__:[Yc],__init__:["elementFactory","sheet"],elementFactory:["type",Bg],elementRegistry:["type",Hc],eventBus:["type",co],sheet:["type",Wc],throttle:["factory",zc]};class Ig{constructor(e={}){let{injector:t}=e;if(!t){let{modules:n,config:r}=this._init(e);t=Rg(r,n)}this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}_init(e){let{modules:t,...n}=e;return{modules:t,config:n}}destroy(){const e=this.get("eventBus");e.fire("table.destroy"),e.fire("diagram.destroy")}clear(){const e=this.get("eventBus");e.fire("table.clear"),e.fire("diagram.clear")}}function Rg(i,e){const t=[{config:["value",i]},Dg].concat(e||[]),n=new Xl(t);return n.init(),n}function Xr(i){if(!i)return"<null>";const e=i.id?` id="${i.id}"`:"";return`<${i.$type}${e} />`}function Tg(i,e){function t(l,c,h){var u=l.gfx;if(u)throw new Error(`already rendered ${Xr(l)}`);return i.element(l,c,h)}function n(l){return i.table(l)}function r(l){l.id||(l.id="decision");const c=l.decisionLogic;if(c){if(!c.output)throw new Error(`missing output for ${Xr(c)}`);const h=n(c);c.input&&s(c.input,h,c),s(c.output,h,c),o(c.rule,h,c)}else throw new Error(`no table for ${Xr(l)}`)}function s(l,c,h){et(l,function(u){t(u,c,h)})}function o(l,c,h){et(l,function(u){t(u,c,h),a(u.inputEntry,u),a(u.outputEntry,u)})}function a(l,c,h){et(l,function(u){t(u,c,h)})}return{handleDecision:r}}function Fg(i,e,t){const n=i.get("tableImporter"),r=i.get("eventBus"),s=i.get("sheet");i.get("modeling",!1);let o,a=[];function l(c){const h={create(d,f,p,A){return n.create(d,f,p,A)},table(d){return n.add(d)},element(d,f,p){return n.add(d,f,p)},error(d,f){a.push({message:d,context:f})}};new Tg(h).handleDecision(c)}r.fire("import.render.start",{decision:e});try{l(e)}catch(c){o=c}r.fire("import.render.complete",{error:o,warnings:a}),r.fire("elements.changed",{elements:[s.getRoot()]}),t(o,a)}function Lg(){return{elements:[],index:{}}}function xa(i,e){const{elements:t,index:n}=i;return n[e]?i:{elements:[...t,e],index:{...n,[e]:!0}}}function Og(i,e){return i.elements.join(e)}function Gc(...i){let e=Lg();return i.forEach(function(t){const n=typeof t;n==="string"&&t.length>0?e=xa(e,t):n==="object"&&t!==null&&Object.keys(t).forEach(function(r){t[r]&&(e=xa(e,r))})}),Og(e," ")}function Ei(i){const e=i.constructor;return Vc(e,i)}function Vc(i,e){const t=i.$inject;if(!t)return;const{injector:n}=e.context,r=[...t,function(...s){for(const o in s){const a=t[o],l=s[o];e[a]=l}}];n.invoke(r)}function Pg(i,...e){return(function(...t){let n;return e.forEach(function(r){if(n=r.call(i,...t),typeof n<"u")return!1}),n}).bind(i)}function qr(i,e){Object.keys(e).forEach(function(t){if(t==="$inject"||t==="__init")return;const n=e[t];t==="constructor"&&n.call(i,i.props,i.context);const r=i[t];if(typeof r<"u"){if(typeof r!="function")throw new Error(`failed to mixin <${t}>: cannot combine with non-fn component value`);i[t]=Pg(i,r,n)}else i[t]=n.bind(i)}),"$inject"in e&&Vc(e,i),"__init"in e&&e.__init.call(i,i.props,i.context)}const Jc={getSelectionClasses(){const{selected:i,selectedSecondary:e,focussed:t}=this.state;return Gc({selected:i,"selected-secondary":e,focussed:t})},selectionChanged(i){this.setState(i)},componentWillUpdate(i){i.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate(i){i.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount(){this.updateSelectionSubscription(!0)},componentWillUnmount(){this.updateSelectionSubscription(!1)},updateSelectionSubscription(i){const{elementId:e}=this.props;e&&e&&this.eventBus[i?"on":"off"](`selection.${e}.changed`,this.selectionChanged)}};Jc.$inject=["eventBus"];class Ng extends fe{constructor(e,t){super(e,t),qr(this,Jc),Ei(this)}getRenderProps(...e){const{className:t,elementId:n,coords:r,...s}=this.props,o={className:Gc(...e,this.getSelectionClasses(),t)};return n&&(o["data-element-id"]=n),r&&(o["data-coords"]=r),{...o,...s}}}class Es extends Ng{constructor(e,t){super(e,t),this.state={}}render(){const{children:e}=this.props,t=this.getRenderProps("cell");return bs(D(1,"td",null,e,0,{...t}))}}const _r={slotFill(i,e){const{type:t,context:n,...r}=i,s=this.components.getComponent(t,n)||e;return s?bs(K(2,s,{...n,...r})):null},slotFills(i){const{type:e,context:t,...n}=i;return this.components.getComponents(e,t).map(s=>bs(K(2,s,{...t,...n})))}};_r.$inject=["components"];const Ea=400;class Kc extends fe{constructor(t,n){super(t,n);ae(this,"onElementsChanged",()=>{this.forceUpdate()});qr(this,_r),Ei(this)}componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot(),this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot(),this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}render(){const r=(this.getRoot().businessObject.get("annotationsWidth")||Ea)+"px";return D(1,"th","annotation header",[this.slotFills({type:"cell-inner",context:{cellType:"annotations",col:this.sheet.getRoot(),minWidth:Ea}}),this.translate("Annotations")],0,{style:{width:r}})}}Kc.$inject=["changeSupport","sheet","translate"];function Qg(i){const{row:e}=i,{id:t,description:n}=e.businessObject;return K(2,Es,{className:"annotation",elementId:t,children:n||"-"})}function $c(i){i.onGetComponent("cell",({cellType:e})=>{if(e==="after-label-cells")return Kc;if(e==="after-rule-cells")return Qg})}$c.$inject=["components"];const qg={__init__:["annotationsProvider"],annotationsProvider:["type",$c]};function zn(i,e){return Me({id:i.id,type:i.$type,businessObject:i},e)}class Xc{constructor(e,t,n){this._elementFactory=e,this._eventBus=t,this._sheet=n}add(e){let t;if(U(e,"dmn:DecisionTable"))t=this._elementFactory.createRoot(zn(e)),this._sheet.setRoot(t);else if(U(e,"dmn:InputClause"))t=this._elementFactory.createCol(zn(e)),this._sheet.addCol(t);else if(U(e,"dmn:OutputClause"))t=this._elementFactory.createCol(zn(e)),this._sheet.addCol(t);else if(U(e,"dmn:DecisionRule")){e.inputEntry||(e.inputEntry=[]),e.outputEntry||(e.outputEntry=[]);const n=[...e.inputEntry,...e.outputEntry].map(r=>this._elementFactory.createCell(zn(r)));t=this._elementFactory.createRow(Me(zn(e),{cells:n})),this._sheet.addRow(t)}return this._eventBus.fire("dmnElement.added",{element:t}),t}}Xc.$inject=["elementFactory","eventBus","sheet"];const _g={__depends__:[mn],tableImporter:["type",Xc]},Hg={__depends__:[_g,Yc]};class Ug extends fe{constructor(t,n){super(t,n);ae(this,"onElementsChanged",()=>{this.forceUpdate()});qr(this,_r),this._sheet=n.injector.get("sheet"),this._changeSupport=n.changeSupport}componentWillMount(){const t=this._sheet.getRoot();this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}componentWillUnmount(){const t=this._sheet.getRoot();this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}render(){const t=this._sheet.getRoot();if(!U(t,"dmn:DMNElement"))return null;const n=Gt(t),r=n.input,s=n.output;return D(1,"thead",null,D(1,"tr",null,[D(1,"th","index-column"),this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),r&&r.map((o,a)=>{const l=o.width||"192px";return this.slotFill({type:"cell",context:{cellType:"input-header",input:o,index:a,inputsLength:r.length,width:l},key:o.id},jg)}),s.map((o,a)=>this.slotFill({type:"cell",context:{cellType:"output-header",output:o,index:a,outputsLength:s.length},key:o.id},Yg)),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),2)}}function jg(i,e){const{input:t,className:n,index:r}=i,{label:s,inputExpression:o,inputValues:a}=t,l=e.injector.get("translate"),c=(n||"")+" input-cell";return D(1,"th",c,[D(1,"div","clause",l(r===0?"When":"And"),0),s?D(1,"div","input-label",s,0,{title:l("Input label: ")+s}):D(1,"div","input-expression",o.text,0,{title:l("Input expression: ")+o.text}),D(1,"div","input-variable",a&&a.text||o.typeRef,0,{title:a&&a.text?l("Input values"):l("Input type")})],0,{"data-col-id":t.id},t.id)}function Yg(i,e){const{output:t,className:n,index:r}=i,{label:s,name:o,outputValues:a,typeRef:l}=t,c=e.injector.get("translate"),h=(n||"")+" output-cell";return D(1,"th",h,[D(1,"div","clause",c(r===0?"Then":"And"),0),s?D(1,"div","output-label",s,0,{title:c("Output label")}):D(1,"div","output-name",o,0,{title:c("Output name")}),D(1,"div","output-variable",a&&a.text||l,0,{title:a&&a.text?c("Output values"):c("Output type")})],0,null,t.id)}function Zc(i){i.onGetComponent("table.head",()=>Ug)}Zc.$inject=["components"];const Wg={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",Zc]};class eh extends fe{constructor(e,t){super(e,t),this._translate=t.injector.get("translate"),Ei(this)}render(){const e=this.sheet.getRoot();if(!U(e,"dmn:DMNElement"))return null;const{name:t}=e.businessObject.$parent,n=this.components.getComponent("hit-policy")||zg;return D(1,"div","decision-table-properties",[D(1,"div","decision-table-name",t,0,{title:this._translate("Decision name: ")+t}),D(1,"div","decision-table-header-separator"),K(2,n)],4)}}eh.$inject=["sheet","components"];function zg(){return null}const Gg=500;class th{constructor(e){e.onGetComponent("table.before",Gg,()=>eh)}}th.$inject=["components"];const Vg={__init__:["decisionTableProperties"],decisionTableProperties:["type",th]};class Jg extends fe{render(){const{row:e,rowIndex:t}=this.props,{components:n}=this.context,r=n.getComponents("cell-inner",{cellType:"rule-index",row:e,rowIndex:t});return D(1,"td","rule-index",[r&&r.map(s=>K(2,s,{row:e,rowIndex:t})),t+1],0,{"data-element-id":e.id,"data-row-id":e.id})}}class nh{constructor(e){e.onGetComponent("cell",({cellType:t})=>{if(t==="before-rule-cells")return Jg})}}nh.$inject=["components"];const Kg={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",nh]},$g=[{label:"FEEL",value:"feel"}];class ih{constructor(e){this._injector=e;const t=e.get("config.expressionLanguages")||{};this._config={options:$g,defaults:{editor:"feel"}},t.options&&(this._config.options=t.options);const n=this._getLegacyDefaults();Me(this._config.defaults,n,t.defaults)}getDefault(e){const{defaults:t}=this._config,n=t[e]||t.editor;return this._getLanguageByValue(n)||this.getAll()[0]}getLabel(e){const t=this._getLanguageByValue(e);return t?t.label:e}getAll(){return this._config.options}_getLegacyDefaults(){const e={},t=this._injector,n=t.get("config.defaultInputExpressionLanguage"),r=t.get("config.defaultOutputExpressionLanguage");return n&&(e.inputCell=n),r&&(e.outputCell=r),e}_getLanguageByValue(e){return qt(this.getAll(),t=>e===t.value)}}ih.$inject=["injector"];const Xg={__init__:["expressionLanguages"],expressionLanguages:["type",ih]};class Zg extends fe{render({rows:e,cols:t}){const{components:n}=this.context;return D(1,"tbody",null,e.map((r,s)=>{const o=n.getComponent("row",{rowType:"rule"});return o&&K(2,o,{row:r,rowIndex:s,cols:t},r.id)}),0)}}class em extends fe{constructor(e,t){super(e,t),qr(this,_r)}render(){const{row:e,rowIndex:t,cols:n}=this.props,{cells:r}=e;return D(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:e,rowIndex:t}}),r.map((s,o)=>this.slotFill({type:"cell",context:{cellType:"rule",cell:s,rowIndex:t,colIndex:o},key:s.id,row:e,col:n[o]})),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:e,rowIndex:t}})],0)}}class tm extends fe{render(){const{cell:e,row:t,col:n}=this.props;return U(e,"dmn:UnaryTests")?K(2,Es,{className:"input-cell",elementId:e.id,"data-row-id":t.id,"data-col-id":n.id,children:e.businessObject.text}):K(2,Es,{className:"output-cell",elementId:e.id,"data-row-id":t.id,"data-col-id":n.id,children:e.businessObject.text})}}class rh{constructor(e){e.onGetComponent("table.body",()=>Zg),e.onGetComponent("row",({rowType:t})=>{if(t==="rule")return em}),e.onGetComponent("cell",({cellType:t})=>{if(t==="rule")return tm})}}rh.$inject=["components"];const nm={__depends__:[Xg],__init__:["decisionRules"],decisionRules:["type",rh]},im=[{label:"Unique",value:{hitPolicy:"UNIQUE",aggregation:void 0},explanation:"No overlap is possible and all rules are disjoint. Only a single rule can be matched"},{label:"First",value:{hitPolicy:"FIRST",aggregation:void 0},explanation:"Rules may overlap. The first matching rule will be chosen"},{label:"Priority",value:{hitPolicy:"PRIORITY",aggregation:void 0},explanation:"Rules may overlap. The one with the highest priority will be chosen"},{label:"Any",value:{hitPolicy:"ANY",aggregation:void 0},explanation:"Rules may overlap. Their output have to match"},{label:"Collect",value:{hitPolicy:"COLLECT",aggregation:void 0},explanation:"Collects the values of all matching rules"},{label:"Collect (Sum)",value:{hitPolicy:"COLLECT",aggregation:"SUM"},explanation:"Collects the values of all matching rules and sums up to a single value"},{label:"Collect (Min)",value:{hitPolicy:"COLLECT",aggregation:"MIN"},explanation:"Collects the values of all matching rules and uses the lowest value"},{label:"Collect (Max)",value:{hitPolicy:"COLLECT",aggregation:"MAX"},explanation:"Collects the values of all matching rules and uses the highest value"},{label:"Collect (Count)",value:{hitPolicy:"COLLECT",aggregation:"COUNT"},explanation:"Collects the values of all matching rules and counts the number of them"},{label:"Rule order",value:{hitPolicy:"RULE ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in rule order"},{label:"Output order",value:{hitPolicy:"OUTPUT ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in decreasing output priority order"}];class sh extends fe{constructor(e,t){super(e,t),this._translate=t.injector.get("translate"),Ei(this)}getRoot(){return this.sheet.getRoot()}render(){const e=this.getRoot(),t=e.businessObject,{aggregation:n,hitPolicy:r}=t,s=qt(im,o=>rm(o.value,{aggregation:n,hitPolicy:r}));return D(1,"div","hit-policy header",[D(1,"label","dms-label",this._translate("Hit policy:"),0),D(1,"span","hit-policy-value",this._translate(s.label),0)],4,{title:this._translate(s.explanation)})}}sh.$inject=["sheet"];function rm(i,e){return i.hitPolicy===e.hitPolicy&&i.aggregation===e.aggregation}function oh(i){i.onGetComponent("hit-policy",()=>sh)}oh.$inject=["components"];const sm={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",oh]};let om=class extends fe{constructor(t,n){super(t,n);ae(this,"onClick",()=>{this._eventBus.fire("showDrd")});const{injector:r}=n;this._translate=r.get("translate"),this._eventBus=r.get("eventBus")}render(){return D(1,"div","view-drd",D(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,t=>this.node=t)}},ah=class{constructor(e,t,n,r){this._injector=n,this._sheet=r,e.onGetComponent("table.before",()=>{if(this.canViewDrd())return om}),t.on("showDrd",()=>{const s=n.get("_parent",!1),o=r.getRoot(),a=Ca(o);if(!a)return;const l=s.getView(a);s.open(l)})}canViewDrd(){const e=this._injector.get("_parent",!1);if(!e)return!1;const t=this._sheet.getRoot(),n=Ca(t);return!!e.getView(n)}};ah.$inject=["components","eventBus","injector","sheet"];function Ca(i){const{businessObject:e}=i;return e?e.$parent.$parent:void 0}const am={__init__:["viewDrd"],viewDrd:["type",ah]};let lh=class{constructor(e){e.onGetComponent("table.before",()=>Fo)}};lh.$inject=["components"];const lm={__init__:["poweredBy"],poweredBy:["type",lh]};let cm=class Cs extends Ig{constructor(e={}){const t=Cs._createContainer();super(Me(e,{renderer:{container:t}})),this._container=t}open(e){var t=this;return new Promise((n,r)=>{var s;try{return t._decision&&t.clear(),t._decision=e,Fg(t,e,function(o,a){o?(o.warnings=a||[],r(o)):n({warnings:a||[]})})}catch(o){s=o}s?(s.warnings=s.warnings||[],r(s)):n({warnings:[]})})}_init(e){let{modules:t,additionalModules:n,...r}=e,s=t||this.getModules(),o=n||[],a=[{decisionTable:["value",this]}];return{modules:[lm,...s,...o,...a],config:r}}on(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}off(e,t){this.get("eventBus").off(e,t)}_emit(e,t){return this.get("eventBus").fire(e,t)}attachTo(e){if(!e)throw new Error("parentNode required");this.detach();const t=this._container;e.appendChild(t),this._emit("attach",{})}detach(){const e=this._container;e.parentNode&&(this._emit("detach",{}),un(e))}destroy(){super.destroy(),this.detach()}getModules(){return Cs._getModules()}static _getModules(){return[qg,Hg,mn,Wg,Vg,Kg,nm,sm,am]}static _createContainer(){return vt('<div class="dmn-decision-table-container"></div>')}};class ch{constructor(e){this._listeners={},e.on("elements.changed",({elements:t})=>{this.elementsChanged(t)}),e.on("element.updateId",({element:t,newId:n})=>{this.updateId(t.id,n)})}elementsChanged(e){const t={},n=e.length;for(let r=0;r<n;r++){const{id:s}=e[r];if(t[s])return;t[s]=!0;const o=this._listeners[s]&&this._listeners[s].length;if(o)for(let a=0;a<o;a++)this._listeners[s][a]&&this._listeners[s][a]()}}onElementsChanged(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}offElementsChanged(e,t){if(this._listeners[e])if(t){const n=this._listeners[e].indexOf(t);n!==-1&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}updateId(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}ch.$inject=["eventBus"];const hm=1e3;class um{constructor(){this._listeners={}}getComponent(e,t){const n=this._listeners[e];if(!n)return;let r;for(let s=0;s<n.length&&(r=n[s].callback(t),!r);s++);return r}getComponents(e,t){const n=this._listeners[e];if(!n)return;const r=[];for(let s=0;s<n.length;s++){const o=n[s].callback(t);o&&r.push(o)}if(r.length)return r}onGetComponent(e,t,n){if(Ir(t)&&(n=t,t=hm),!ho(t))throw new Error("priority must be a number");const r=this._getListeners(e);let s,o;const a={priority:t,callback:n};for(o=0;s=r[o];o++)if(s.priority<t){r.splice(o,0,a);return}r.push(a)}offGetComponent(e,t){const n=this._getListeners(e);let r,s,o;if(t)for(o=n.length-1;r=n[o];o--)s=r.callback,s===t&&n.splice(o,1);else n.length=0}_getListeners(e){let t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}class dm extends fe{constructor(e){super(e);const t=this._injector=e.injector;this._changeSupport=t.get("changeSupport"),this._components=t.get("components"),this._renderer=t.get("renderer")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}render(){const e=this._components.getComponents("viewer");return D(1,"div","viewer-container",e&&e.map((t,n)=>K(2,t,null,n)),0)}}class hh{constructor(e,t,n,r,s){const{container:o}=n;this._container=o,r.on("renderer.mount",()=>{gr(K(2,dm,{injector:s}),o)}),r.on("renderer.unmount",()=>{gr(null,o)})}getContainer(){return this._container}}hh.$inject=["changeSupport","components","config.renderer","eventBus","injector"];const fm={__init__:["changeSupport","components","renderer"],changeSupport:["type",ch],components:["type",um],eventBus:["type",co],renderer:["type",hh]};let uh=class{constructor(e={}){let{injector:t}=e;if(!t){let{modules:n,config:r}=this._init(e);t=pm(r,n)}this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("viewer.init")}_init(e){let{modules:t,...n}=e;return{modules:t,config:n}}destroy(){this.get("eventBus").fire("viewer.destroy")}clear(){this.get("eventBus").fire("viewer.clear")}};function pm(i,e){const t=[{config:["value",i]},fm].concat(e||[]),n=new Xl(t);return n.init(),n}class dh{constructor(e,t){this._eventBus=t,this._viewer=e}getDecision(){return this._viewer.getDecision()}updateId(e,t){var n=this.getDecision();if(e!==n)throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:e,newId:t}),e.id=t}}dh.$inject=["viewer","eventBus"];const gm={__init__:["elementRegistry"],elementRegistry:["type",dh]};class mm extends fe{constructor(e,t){super(e,t),this._viewer=t.injector.get("viewer")}render(){const{name:e}=this._viewer.getDecision();return D(1,"div","decision-properties",D(1,"h3","decision-name",e,0),2)}}const Am=1500;let fh=class{constructor(e){e.onGetComponent("viewer",Am,()=>mm)}};fh.$inject=["components"];const ym={__init__:["decisionProperties"],decisionProperties:["type",fh]};class bm extends fe{constructor(e,t){super(e,t),this._translate=t.injector.get("translate"),this._viewer=t.injector.get("viewer")}render(){const{decisionLogic:e,variable:t}=this._viewer.getDecision();return D(1,"div","literal-expression-properties",D(1,"table",null,[D(1,"tr",null,[D(1,"td",null,this._translate("Variable name:"),0),D(1,"td",null,D(1,"span",null,t.name||"-",0),2)],4),D(1,"tr",null,[D(1,"td",null,this._translate("Variable type:"),0),D(1,"td",null,D(1,"span",null,this._translate(t.typeRef||"")||"-",0),2)],4),D(1,"tr",null,[D(1,"td",null,this._translate("Expression language:"),0),D(1,"td",null,D(1,"span",null,e.expressionLanguage||"-",0),2)],4)],4),2)}}const wm=500;class ph{constructor(e){e.onGetComponent("viewer",wm,()=>bm)}}ph.$inject=["components"];const vm={__depends__:[],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",ph]},xm=2e3;let gh=class{constructor(e){e.onGetComponent("viewer",xm,()=>Fo)}};gh.$inject=["components"];const Em={__init__:["poweredBy"],poweredBy:["type",gh]};class Cm extends fe{constructor(e,t){super(e,t),this._viewer=t.injector.get("viewer")}render(){const{text:e}=this._viewer.getDecision().decisionLogic;return D(1,"div","textarea",D(1,"div","content",e,0),2)}}class mh{constructor(e){e.onGetComponent("viewer",()=>Cm)}}mh.$inject=["components"];const Bm={__init__:["textarea"],textarea:["type",mh]};let Ah=class extends fe{constructor(t,n){super(t,n);ae(this,"onClick",()=>{this._eventBus.fire("showDrd")});const{injector:r}=n;this._translate=r.get("translate"),this._eventBus=r.get("eventBus")}render(){return D(1,"div","view-drd",D(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,t=>this.node=t)}};Ah.$inject=["translate"];const km=2e3;let yh=class{constructor(e,t,n,r){this._injector=r,this._viewer=t,e.onGetComponent("viewer",km,()=>{if(this.canViewDrd())return Ah}),n.on("showDrd",()=>{const s=r.get("_parent",!1),o=this.getDefinitions(),a=s.getView(o);s.open(a)})}canViewDrd(){const e=this._injector.get("_parent",!1);if(!e)return;const t=this.getDefinitions();return!!e.getView(t)}getDefinitions(){return Sm(this._viewer.getDecision())}};yh.$inject=["components","viewer","eventBus","injector"];function Sm(i){return i.$parent}const Mm={__init__:["viewDrd"],viewDrd:["type",yh]};let Dm=class Bs extends uh{constructor(e={}){const t=Bs._createContainer();super(Me(e,{renderer:{container:t}})),this._container=t}open(e){var t=this;return new Promise(function(n,r){var s;try{t._decision&&(t.clear(),t.get("eventBus").fire("renderer.unmount")),t._decision=e,t.get("eventBus").fire("import",e),t.get("eventBus").fire("renderer.mount")}catch(o){s=o}s?(s.warnings=s.warnings||[],r(s)):n({warnings:[]})})}_init(e){let{modules:t,additionalModules:n,...r}=e,s=t||this.getModules(),o=n||[],a=[{viewer:["value",this]}];return{modules:[...s,...o,...a],config:r}}on(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}off(e,t){this.get("eventBus").off(e,t)}_emit(e,t){return this.get("eventBus").fire(e,t)}getDecision(){return this._decision}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}detach(){const e=this._container;e.parentNode&&(this._emit("detach",{}),un(e))}destroy(){super.destroy(),this.detach()}getModules(){return Bs._getModules()}static _getModules(){return[gm,mn,ym,vm,Em,Bm,Mm]}static _createContainer(){return vt('<div class="dmn-literal-expression-container"></div>')}};class bh{constructor(e){e.onGetComponent("viewer",()=>Im),e.onGetComponent("viewer",()=>Rm),e.onGetComponent("viewer",()=>Tm)}}ae(bh,"$inject",["components"]);function Im(i,{injector:e}){const n=e.get("components").getComponents("header");return D(1,"div","dmn-boxed-expression-section dmn-boxed-expression-header",n&&n.map((r,s)=>K(2,r,null,s)),0)}function Rm(i,{injector:e}){const n=e.get("components").getComponents("body");return D(1,"div","dmn-boxed-expression-section dmn-boxed-expression-body",n&&n.map((r,s)=>K(2,r,null,s)),0)}function Tm(i,{injector:e}){const n=e.get("components").getComponents("footer");return D(1,"div","dmn-boxed-expression-section dmn-boxed-expression-footer",n&&n.map((r,s)=>K(2,r,null,s)),0)}class wh{constructor(e){e.onGetComponent("viewer",()=>{const t=e.getComponents("table.before")||[];return()=>D(1,"div",null,t.map((n,r)=>K(2,n,null,r)),0)})}}ae(wh,"$inject",["components"]);const Fm={__init__:["viewRenderer","tableJsSupport"],viewRenderer:["type",bh],tableJsSupport:["type",wh]},Lm=2e3;class vh{constructor(e){e.onGetComponent("viewer",Lm,()=>Fo)}}vh.$inject=["components"];const Om={__init__:["poweredBy"],poweredBy:["type",vh]};class xh{constructor(e){e.onGetComponent("expression",({expression:t})=>{if(U(t,"dmn:LiteralExpression"))return Pm})}}ae(xh,"$inject",["components"]);function Pm({expression:i},e){const n=e.injector.get("literalExpression").getText(i);return D(1,"div","textarea",D(1,"div","content",n,0),2)}class Eh{getText(e){return e.get("text")}}const Nm={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",xh],literalExpression:["type",Eh]};class Qm{getParameters(e){return e.get("formalParameter")}getBody(e){return e.get("body")}getKind(e){return e.get("kind")||"FEEL"}}class Ch{constructor(e){e.onGetComponent("expression",({expression:t})=>{if(U(t,"dmn:FunctionDefinition"))return qm})}}ae(Ch,"$inject",["components"]);function qm({expression:i},e){const t=e.injector.get("functionDefinition"),n=t.getKind(i),r=t.getParameters(i),s=t.getBody(i);return D(1,"div","function-definition",[K(2,Hm,{kind:n}),K(2,Um,{parameters:r}),K(2,Ym,{expression:s})],4)}const _m={FEEL:"F",Java:"J",PMML:"P"};function Hm({kind:i},e){const t=e.injector.get("translate");return D(1,"div","function-definition-kind",_m[i],0,{title:t("Function kind: {kind}",{kind:i})})}function Um({parameters:i}){return D(1,"div","function-definition-parameters",D(1,"div",null,[Ye("("),i.reduce((e,t)=>e.concat(K(2,jm,{parameter:t}),", "),[]).slice(0,-1),Ye(")")],0),2)}function jm({parameter:i}){const{name:e,typeRef:t}=i,n=e||"<unnamed>";return D(1,"span",null,t?`${n}: ${t}`:n,0)}function Ym({expression:i},e){const t=e.components.getComponent("expression",{expression:i});return D(1,"div","function-definition-body",K(2,t,{expression:i}),2)}const Wm={__init__:["functionDefinitionComponent"],functionDefinition:["type",Qm],functionDefinitionComponent:["type",Ch]};class Bh extends fe{constructor(t,n){super(t,n);ae(this,"onClick",()=>{this._eventBus.fire("showDrd")});const{injector:r}=n;this._translate=r.get("translate"),this._eventBus=r.get("eventBus")}render(){return D(1,"div","view-drd",D(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,t=>this.node=t)}}Bh.$inject=["translate"];const zm=2e3;class kh{constructor(e,t,n){this._injector=n,e.onGetComponent("viewer",zm,()=>{if(this.canViewDrd())return Bh}),t.on("showDrd",()=>{const r=n.get("_parent",!1),s=r.getDefinitions(),o=r.getView(s);r.open(o)})}canViewDrd(){const e=this._injector.get("_parent",!1);if(!e)return;const t=e.getDefinitions();return!!e.getView(t)}}kh.$inject=["components","eventBus","injector"];const Gm={__init__:["viewDrd"],viewDrd:["type",kh]};function Vm(i,e){const t=e.injector.get("viewer"),{name:n}=t.getRootElement();return D(1,"div","element-properties",D(1,"h2","element-name",n,0),2)}class Sh{constructor(e){e.onGetComponent("header",()=>Vm)}}Sh.$inject=["components"];const Jm={__init__:["elementProperties"],elementProperties:["type",Sh]},Km=100;class Mh{constructor(e){e.onGetComponent("body",()=>$m),e.onGetComponent("expression",Km,()=>Zm)}}ae(Mh,"$inject",["components"]);function $m(i,{injector:e}){const t=e.get("components"),r=e.get("viewer").getRootElement(),s=Xm(r),o=t.getComponent("expression",{expression:s});return K(2,o,{expression:s})}function Xm(i){if(U(i,"dmn:Decision"))return i.get("decisionLogic");if(U(i,"dmn:BusinessKnowledgeModel"))return i.get("encapsulatedLogic")}function Zm({expression:i}){return D(1,"div",null,D(1,"span",null,[Ye("Expression of type "),i.$type,Ye(" is not supported.")],0,{style:"color:red;"}),2)}const eA={__init__:["elementLogic"],elementLogic:["type",Mh]};class Dh{constructor(e){this._viewer=e}getName(){const e=this.getVariable(),t=this._getElement();return(e?e.get("name"):null)||t.get("name")}getType(){const e=this.getVariable();return e?e.get("typeRef"):"Any"}_getElement(){return this._viewer.getRootElement()}getVariable(){return this._getElement().get("variable")}}ae(Dh,"$inject",["viewer"]);class Ih{constructor(e){e.onGetComponent("footer",()=>tA)}}ae(Ih,"$inject",["components"]);function tA(i,e){const t=e.injector.get("elementVariable"),n=e.injector.get("translate"),r=t.getName(),s=t.getType();return D(1,"div","element-variable",[D(1,"h2",null,Ye("Result"),2),D(1,"div","element-variable-name",[D(1,"span","element-variable-name-label",n("Variable name"),0),D(1,"span",null,r,0)],4),D(1,"div","element-variable-type",[D(1,"span","element-variable-type-label",n("Variable type"),0),D(1,"span",null,s,0)],4)],4)}const nA={__init__:["elementVariableComponent"],elementVariable:["type",Dh],elementVariableComponent:["type",Ih]};let iA=class Rh extends uh{constructor(e={}){const t=Rh._createContainer();super(Me(e,{renderer:{container:t}})),this._container=t}open(e){const t=this.get("eventBus");return new Promise((n,r)=>{let s;try{this.getRootElement()&&(this.clear(),t.fire("renderer.unmount")),this._setRootElement(e),t.fire("import",e),t.fire("renderer.mount")}catch(o){s=o}s?(s.warnings=s.warnings||[],r(s)):n({warnings:[]})})}_init(e){let{modules:t,additionalModules:n,...r}=e,s=t||this.getModules(),o=n||[],a=[{viewer:["value",this]}];return{modules:[...s,...o,...a],config:r}}on(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}off(e,t){this.get("eventBus").off(e,t)}_emit(e,t){return this.get("eventBus").fire(e,t)}getRootElement(){return this._root}_setRootElement(e){this._root=e}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}detach(){const e=this._container;e.parentNode&&(this._emit("detach",{}),un(e))}destroy(){super.destroy(),this.detach()}getModules(){return[Fm,mn,Om,Gm,Jm,eA,Wm,Nm,nA]}static _createContainer(){return vt('<div class="dmn-boxed-expression-container"></div>')}};const Ba="id";class rA extends Cd{constructor(e){super(e),this.executed("element.updateProperties",this.updateIds.bind(this))}updateIds({context:e}){const{element:t,oldProperties:n,properties:r}=e,s=Gt(t);if(this.shouldSkipUpdate(s,n,r))return;const o=oA(s);o.get("drgElement").forEach(c=>{aA(c,n.id,r.id)}),o.get("artifact").forEach(c=>{lA(c,n.id,r.id)})}shouldSkipUpdate(e,t,n){return!sA(t,n)||!U(e,"dmn:DRGElement")&&!U(e,"dmn:TextAnnotation")}}rA.$inject=["eventBus"];function sA(i,e){return Ba in i&&Ba in e}function oA(i){let e=i;for(;!U(e,"dmn:Definitions");)e=e.$parent;return e}function aA(i,e,t){et({authorityRequirement:()=>{i.authorityRequirement.forEach(r=>{const{requiredAuthority:s,requiredDecision:o,requiredInput:a}=r;s&&s.href===`#${e}`&&(s.href=`#${t}`),o&&o.href===`#${e}`&&(o.href=`#${t}`),a&&a.href===`#${e}`&&(a.href=`#${t}`)})},informationRequirement:()=>{i.informationRequirement.forEach(r=>{const{requiredDecision:s,requiredInput:o}=r;s&&s.href===`#${e}`&&(s.href=`#${t}`),o&&o.href===`#${e}`&&(o.href=`#${t}`)})},knowledgeRequirement:()=>{i.knowledgeRequirement.forEach(r=>{const{requiredKnowledge:s}=r;s&&s.href===`#${e}`&&(s.href=`#${t}`)})}},(r,s)=>{i[s]&&r()})}function lA(i,e,t){et({sourceRef:()=>{const{sourceRef:r}=i;r.href===`#${e}`&&(r.href=`#${t}`)},targetRef:()=>{const{targetRef:r}=i;r.href===`#${e}`&&(r.href=`#${t}`)}},(r,s)=>{i[s]&&r()})}const ks="id";class cA{constructor(e,t){this._elementRegistry=e,this._moddle=t}execute(e){const{element:t,properties:n}=e,r=Gt(t),{changed:s,oldProperties:o}=this.updateProperties(r,n);return e.oldProperties=o,[...s,t]}revert(e){const{element:t,oldProperties:n}=e;var r=Gt(t),{changed:s}=this.updateProperties(r,n);return[...s,t]}updateProperties(e,t){const n=this._moddle.ids;return Bd(t,(r,s,o)=>{const a=e.get(o);if(ka(s)){if(!ka(a))throw new Error(`non-existing property <${o}>: cannot update values`);let{changed:l,oldProperties:c}=this.updateProperties(a,s);return{changed:[...r.changed,...l,a],oldProperties:{...r.oldProperties,[o]:c}}}return o===ks&&hA(e,s)&&(n.unclaim(e[ks]),this._elementRegistry.updateId(e,s),n.claim(s,e)),e.set(o,s),{changed:r.changed,oldProperties:{...r.oldProperties,[o]:a}}},{changed:[],oldProperties:{}})}}cA.$inject=["elementRegistry","moddle"];function hA(i,e){return i[ks]!==e}function ka(i){return nr(i)&&Jl(i)}window.getSelection();var Li={exports:{}},Sa;function uA(){if(Sa)return Li.exports;Sa=1;function i(n,r,s){var o=n.start,a=o,c=s.length-r.length;s.length-r.length;var l=r.substring(o);s.lastIndexOf(l)===s.length-l.length&&(r=r.substring(0,r.length-l.length),s=s.substring(0,s.length-l.length));var c=e(r,s);return c&&(c.type==="remove"?a=c.newStart:a=c.newEnd),t(a)}Li.exports=i;function e(n,r){var s,o,a,l=0,c,h,u=0;for(r.length>n.length?(o=r,c=n):(o=n,c=r);l<o.length;)a=o.charAt(l),h=c.charAt(u),a!==h?(s||(s={l_start:l,s_start:u}),l++):(s&&!s.complete&&(s.l_end=l,s.s_end=u,s.complete=!0),u++,l++);if(s&&!s.complete&&(s.complete=!0,s.s_end=c.length,s.l_end=o.length),!!s)return r.length>n.length?{newStart:s.l_start,newEnd:s.l_end,type:"add"}:{newStart:s.s_start,newEnd:s.s_end,type:r.length<n.length?"remove":"replace"}}function t(n,r){return{start:n,end:r===void 0?n:r}}return Li.exports.range=t,Li.exports}uA();let Ss=[],Th=[];(()=>{let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<i.length;e++)(e%2?Th:Ss).push(t=t+i[e])})();function dA(i){if(i<768)return!1;for(let e=0,t=Ss.length;;){let n=e+t>>1;if(i<Ss[n])t=n;else if(i>=Th[n])e=n+1;else return!0;if(e==t)return!1}}function Ma(i){return i>=127462&&i<=127487}const Da=8205;function fA(i,e,t=!0,n=!0){return(t?Fh:pA)(i,e,n)}function Fh(i,e,t){if(e==i.length)return e;e&&Lh(i.charCodeAt(e))&&Oh(i.charCodeAt(e-1))&&e--;let n=Zr(i,e);for(e+=Ia(n);e<i.length;){let r=Zr(i,e);if(n==Da||r==Da||t&&dA(r))e+=Ia(r),n=r;else if(Ma(r)){let s=0,o=e-2;for(;o>=0&&Ma(Zr(i,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function pA(i,e,t){for(;e>0;){let n=Fh(i,e-2,t);if(n<e)return n;e--}return 0}function Zr(i,e){let t=i.charCodeAt(e);if(!Oh(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return Lh(n)?(t-55296<<10)+(n-56320)+65536:t}function Lh(i){return i>=56320&&i<57344}function Oh(i){return i>=55296&&i<56320}function Ia(i){return i<65536?1:2}class W{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Dn(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),ft.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Dn(this,e,t);let n=[];return this.decompose(e,t,n,0),ft.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new oi(this),s=new oi(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}iter(e=1){return new oi(this,e)}iterRange(e,t=this.length){return new Ph(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Nh(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?W.empty:e.length<=32?new ce(e):ft.from(ce.split(e,[]))}}class ce extends W{constructor(e,t=gA(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?n:a)>=e)return new mA(r,a,n,o);r=a+1,n++}}decompose(e,t,n,r){let s=e<=0&&t>=this.length?this:new ce(Ra(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=n.pop(),a=or(s.text,o.text.slice(),0,s.length);if(a.length<=32)n.push(new ce(a,o.length+s.length));else{let l=a.length>>1;n.push(new ce(a.slice(0,l)),new ce(a.slice(l)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof ce))return super.replace(e,t,n);[e,t]=Dn(this,e,t);let r=or(this.text,or(n.text,Ra(this.text,0,e)),t),s=this.length+n.length-(t-e);return r.length<=32?new ce(r,s):ft.from(ce.split(r,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=Dn(this,e,t);let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=n),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let s of e)n.push(s),r+=s.length+1,n.length==32&&(t.push(new ce(n,r)),n=[],r=-1);return r>-1&&t.push(new ce(n,r)),t}}class ft extends W{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=n+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,n,r);r=a+1,n=l+1}}decompose(e,t,n,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?n.push(a):a.decompose(e-o,t-o,n,c)}o=l+1}}replace(e,t,n){if([e,t]=Dn(this,e,t),n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,n),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let h=this.children.slice();return h[r]=l,new ft(h,this.length-(t-e)+n.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Dn(this,e,t);let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=n),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,n)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ft))return 0;let n=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return n;let l=this.children[r],c=e.children[s];if(l!=c)return n+l.scanIdentical(c,t);n+=l.length+1}}static from(e,t=e.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let f of e)n+=f.lines;if(n<32){let f=[];for(let p of e)p.flatten(f);return new ce(f,t)}let r=Math.max(32,n>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,h=[];function u(f){let p;if(f.lines>s&&f instanceof ft)for(let A of f.children)u(A);else f.lines>o&&(l>o||!l)?(d(),a.push(f)):f instanceof ce&&l&&(p=h[h.length-1])instanceof ce&&f.lines+p.lines<=32?(l+=f.lines,c+=f.length+1,h[h.length-1]=new ce(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>r&&d(),l+=f.lines,c+=f.length+1,h.push(f))}function d(){l!=0&&(a.push(h.length==1?h[0]:ft.from(h,c)),c=-1,l=h.length=0)}for(let f of e)u(f);return d(),a.length==1?a[0]:new ft(a,t)}}W.empty=new ce([""],0);function gA(i){let e=-1;for(let t of i)e+=t.length+1;return e}function or(i,e,t=0,n=1e9){for(let r=0,s=0,o=!0;s<i.length&&r<=n;s++){let a=i[s],l=r+a.length;l>=t&&(l>n&&(a=a.slice(0,n-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Ra(i,e,t){return or(i,[""],e,t)}class oi{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ce?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],s=this.offsets[n],o=s>>1,a=r instanceof ce?r.text.length:r.children.length;if(o==(t>0?a:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof ce){let l=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof ce?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Ph{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new oi(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Nh{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(W.prototype[Symbol.iterator]=function(){return this.iter()},oi.prototype[Symbol.iterator]=Ph.prototype[Symbol.iterator]=Nh.prototype[Symbol.iterator]=function(){return this});class mA{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function Dn(i,e,t){return e=Math.max(0,Math.min(i.length,e)),[e,Math.max(e,Math.min(i.length,t))]}function St(i,e,t=!0,n=!0){return fA(i,e,t,n)}const Ms=/\r\n?|\n/;var Le=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(Le||(Le={}));class It{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,s),r+=s):r+=o,n+=s}}iterChangedRanges(e,t=!1){Ds(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new It(e)}composeDesc(e){return this.empty?e:e.empty?this:Qh(this,e)}mapDesc(e,t=!1){return e.empty?this:Is(this,e,t)}mapPos(e,t=-1,n=Le.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(n!=Le.Simple&&c>=e&&(n==Le.TrackDel&&r<e&&c>e||n==Le.TrackBefore&&r<e||n==Le.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let s=this.sections[n++],o=this.sections[n++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new It(e)}static create(e){return new It(e)}}class me extends It{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ds(this,(t,n,r,s,o)=>e=e.replace(r,r+(n-t),o),!1),e}mapDesc(e,t=!1){return Is(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;n.length<l;)n.push(W.empty);n.push(o?e.slice(s,s+o):W.empty)}s+=o}return new me(t,n)}compose(e){return this.empty?e:e.empty?this:Qh(this,e,!0)}map(e,t=!1){return e.empty?this:Is(this,e,t,!0)}iterChanges(e,t=!1){Ds(this,e,t)}get desc(){return It.create(this.sections)}filter(e){let t=[],n=[],r=[],s=new fi(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);Ce(r,h,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;Ce(t,h,u),u>0&&Ut(n,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);Ce(t,h,-1),Ce(r,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new me(t,n),filtered:It.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):r==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!r.length)return;o<t&&Ce(r,t-o,-1);let u=new me(r,s);a=a?a.compose(u.map(a)):u,r=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let u of h)c(u);else if(h instanceof me){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:u,to:d=u,insert:f}=h;if(u>d||u<0||d>t)throw new RangeError(`Invalid change range ${u} to ${d} (in doc of length ${t})`);let p=f?typeof f=="string"?W.of(f.split(n||Ms)):f:W.empty,A=p.length;if(u==d&&A==0)return;u<o&&l(),u>o&&Ce(r,u-o,-1),Ce(r,d-u,A),Ut(s,r,p),o=d}}return c(e),l(!a),a}static empty(e){return new me(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<r;)n.push(W.empty);n[r]=W.of(s.slice(1)),t.push(s[0],n[r].length)}}}return new me(t,n)}static createSet(e,t){return new me(e,t)}}function Ce(i,e,t,n=!1){if(e==0&&t<=0)return;let r=i.length-2;r>=0&&t<=0&&t==i[r+1]?i[r]+=e:r>=0&&e==0&&i[r]==0?i[r+1]+=t:n?(i[r]+=e,i[r+1]+=t):i.push(e,t)}function Ut(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(W.empty);i.push(t)}}function Ds(i,e,t){let n=i.inserted;for(let r=0,s=0,o=0;o<i.sections.length;){let a=i.sections[o++],l=i.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,h=s,u=W.empty;for(;c+=a,h+=l,l&&n&&(u=u.append(n[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)a=i.sections[o++],l=i.sections[o++];e(r,c,s,h,u),r=c,s=h}}}function Is(i,e,t,n=!1){let r=[],s=n?[]:null,o=new fi(i),a=new fi(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Ce(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(Ce(r,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(Ce(r,0,o.ins),s&&Ut(s,r,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let u=Math.min(h,a.len);c+=u,h-=u,a.forward(u)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;Ce(r,c,l<o.i?o.ins:0),s&&l<o.i&&Ut(s,r,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?me.createSet(r,s):It.create(r);throw new Error("Mismatched change set lengths")}}}function Qh(i,e,t=!1){let n=[],r=t?[]:null,s=new fi(i),o=new fi(e);for(let a=!1;;){if(s.done&&o.done)return r?me.createSet(n,r):It.create(n);if(s.ins==0)Ce(n,s.len,0,a),s.next();else if(o.len==0&&!o.done)Ce(n,0,o.ins,a),r&&Ut(r,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=n.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;Ce(n,l,h,a),r&&h&&Ut(r,n,o.text)}else o.ins==-1?(Ce(n,s.off?0:s.len,l,a),r&&Ut(r,n,s.textBit(l))):(Ce(n,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&Ut(r,n,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||n.length>c),s.forward2(l),o.forward(l)}}}}class fi{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?W.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?W.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ln{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new ln(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return F.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return F.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return F.range(e.anchor,e.head)}static create(e,t,n){return new ln(e,t,n)}}class F{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:F.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new F([this.main],0)}addRange(e,t=!0){return F.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,F.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new F(e.ranges.map(t=>ln.fromJSON(t)),e.main)}static single(e,t=e){return new F([F.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=n:s.from<n)return F.normalized(e.slice(),t);n=s.to}return new F(e,t)}static cursor(e,t=0,n,r){return ln.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(r??16777215)<<6)}static range(e,t,n,r){let s=(n??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?ln.create(t,e,48|s):ln.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(n);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?F.range(l,a):F.range(a,l))}}return new F(e,t)}}function qh(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Po=0;class P{constructor(e,t,n,r,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=Po++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new P(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:No),!!e.static,e.enables)}of(e){return new ar([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ar(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ar(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function No(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class ar{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=Po++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?c=!0:(((t=e[u.id])!==null&&t!==void 0?t:1)&1)==0&&h.push(e[u.id]);return{create(u){return u.values[o]=n(u),1},update(u,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||Rs(u,h)){let f=n(u);if(a?!Ta(f,u.values[o],r):!r(f,u.values[o]))return u.values[o]=f,1}return 0},reconfigure:(u,d)=>{let f,p=d.config.address[s];if(p!=null){let A=Ar(d,p);if(this.dependencies.every(m=>m instanceof P?d.facet(m)===u.facet(m):m instanceof Lt?d.field(m,!1)==u.field(m,!1):!0)||(a?Ta(f=n(u),A,r):r(f=n(u),A)))return u.values[o]=A,0}else f=n(u);return u.values[o]=f,1}}}}function Ta(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function Rs(i,e){let t=!1;for(let n of e)ai(i,n)&1&&(t=!0);return t}function AA(i,e,t){let n=t.map(l=>i[l.id]),r=t.map(l=>l.type),s=n.filter(l=>!(l&1)),o=i[e.id]>>1;function a(l){let c=[];for(let h=0;h<n.length;h++){let u=Ar(l,n[h]);if(r[h]==2)for(let d of u)c.push(d);else c.push(u)}return e.combine(c)}return{create(l){for(let c of n)ai(l,c);return l.values[o]=a(l),1},update(l,c){if(!Rs(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=Rs(l,n),u=c.config.facets[e.id],d=c.facet(e);if(u&&!h&&No(t,u))return l.values[o]=d,0;let f=a(l);return e.compare(f,d)?(l.values[o]=d,0):(l.values[o]=f,1)}}}const Oi=P.define({static:!0});class Lt{constructor(e,t,n,r,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new Lt(Po++,e.create,e.update,e.compare||((n,r)=>n===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Oi).find(n=>n.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,r)=>{let s=n.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(n.values[t]=o,1)},reconfigure:(n,r)=>{let s=n.facet(Oi),o=r.facet(Oi),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(n.values[t]=a.create(n),1):r.config.address[this.id]!=null?(n.values[t]=r.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Oi.of({field:this,create:e})]}get extension(){return this}}const on={lowest:4,low:3,default:2,high:1,highest:0};function Gn(i){return e=>new Hh(e,i)}const _h={highest:Gn(on.highest),high:Gn(on.high),default:Gn(on.default),low:Gn(on.low),lowest:Gn(on.lowest)};class Hh{constructor(e,t){this.inner=e,this.prec=t}}class Hr{of(e){return new Ts(this,e)}reconfigure(e){return Hr.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ts{constructor(e,t){this.compartment=e,this.inner=t}}class mr{constructor(e,t,n,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],s=Object.create(null),o=new Map;for(let d of yA(e,t,o))d instanceof Lt?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of r)a[d.id]=c.length<<1,c.push(f=>d.slot(f));let h=n==null?void 0:n.config.facets;for(let d in s){let f=s[d],p=f[0].facet,A=h&&h[d]||[];if(f.every(m=>m.type==0))if(a[p.id]=l.length<<1|1,No(A,f))l.push(n.facet(p));else{let m=p.combine(f.map(g=>g.value));l.push(n&&p.compare(m,n.facet(p))?n.facet(p):m)}else{for(let m of f)m.type==0?(a[m.id]=l.length<<1|1,l.push(m.value)):(a[m.id]=c.length<<1,c.push(g=>m.dynamicSlot(g)));a[p.id]=c.length<<1,c.push(m=>AA(m,p,f))}}let u=c.map(d=>d(a));return new mr(e,o,u,a,l,s)}}function yA(i,e,t){let n=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=n[l].indexOf(o);c>-1&&n[l].splice(c,1),o instanceof Ts&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Ts){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof Hh)s(o.inner,o.prec);else if(o instanceof Lt)n[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof ar)n[a].push(o),o.facet.extensions&&s(o.facet.extensions,on.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(i,on.default),n.reduce((o,a)=>o.concat(a))}function ai(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let r=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|r}function Ar(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const Uh=P.define(),Fs=P.define({combine:i=>i.some(e=>e),static:!0}),jh=P.define({combine:i=>i.length?i[0]:void 0,static:!0}),Yh=P.define(),Wh=P.define(),zh=P.define(),Gh=P.define({combine:i=>i.length?i[0]:!1});class jn{constructor(e,t){this.type=e,this.value=t}static define(){return new bA}}class bA{of(e){return new jn(this,e)}}class wA{constructor(e){this.map=e}of(e){return new ne(this,e)}}class ne{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ne(this.type,t)}is(e){return this.type==e}static define(e={}){return new wA(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let s=r.map(t);s&&n.push(s)}return n}}ne.reconfigure=ne.define();ne.appendConfig=ne.define();class ke{constructor(e,t,n,r,s,o){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&qh(n,t.newLength),s.some(a=>a.type==ke.time)||(this.annotations=s.concat(ke.time.of(Date.now())))}static create(e,t,n,r,s,o){return new ke(e,t,n,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ke.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ke.time=jn.define();ke.userEvent=jn.define();ke.addToHistory=jn.define();ke.remote=jn.define();function vA(i,e){let t=[];for(let n=0,r=0;;){let s,o;if(n<i.length&&(r==e.length||e[r]>=i[n]))s=i[n++],o=i[n++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Vh(i,e,t){var n;let r,s,o;return t?(r=e.changes,s=me.empty(e.changes.length),o=i.changes.compose(e.changes)):(r=e.changes.map(i.changes),s=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(n=i.selection)===null||n===void 0?void 0:n.map(r),effects:ne.mapEffects(i.effects,r).concat(ne.mapEffects(e.effects,s)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function Ls(i,e,t){let n=e.selection,r=En(e.annotations);return e.userEvent&&(r=r.concat(ke.userEvent.of(e.userEvent))),{changes:e.changes instanceof me?e.changes:me.of(e.changes||[],t,i.facet(jh)),selection:n&&(n instanceof F?n:F.single(n.anchor,n.head)),effects:En(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Jh(i,e,t){let n=Ls(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;n=Vh(n,Ls(i,e[s],o?n.changes.newLength:i.doc.length),o)}let r=ke.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return EA(t?xA(r):r)}function xA(i){let e=i.startState,t=!0;for(let r of e.facet(Yh)){let s=r(i);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:vA(t,s))}if(t!==!0){let r,s;if(t===!1)s=i.changes.invertedDesc,r=me.empty(e.doc.length);else{let o=i.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}i=ke.create(e,r,i.selection&&i.selection.map(s),ne.mapEffects(i.effects,s),i.annotations,i.scrollIntoView)}let n=e.facet(Wh);for(let r=n.length-1;r>=0;r--){let s=n[r](i);s instanceof ke?i=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ke?i=s[0]:i=Jh(e,En(s),!1)}return i}function EA(i){let e=i.startState,t=e.facet(zh),n=i;for(let r=t.length-1;r>=0;r--){let s=t[r](i);s&&Object.keys(s).length&&(n=Vh(n,Ls(e,s,i.changes.newLength),!0))}return n==i?i:ke.create(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const CA=[];function En(i){return i==null?CA:Array.isArray(i)?i:[i]}var Mt=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(Mt||(Mt={}));const BA=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Os;try{Os=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function kA(i){if(Os)return Os.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||BA.test(t)))return!0}return!1}function SA(i){return e=>{if(!/\S/.test(e))return Mt.Space;if(kA(e))return Mt.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return Mt.Word;return Mt.Other}}class G{constructor(e,t,n,r,s,o){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)ai(this,a<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return ai(this,n),Ar(this,n)}update(...e){return Jh(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:r}=t;for(let a of e.effects)a.is(Hr.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,c)=>r.set(c,l)),t=null),r.set(a.value.compartment,a.value.extension)):a.is(ne.reconfigure)?(t=null,n=a.value):a.is(ne.appendConfig)&&(t=null,n=En(n).concat(a.value));let s;t?s=e.startState.values.slice():(t=mr.resolve(n,r,this),s=new G(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(Fs)?e.newSelection:e.newSelection.asSingle();new G(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:F.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),s=[n.range],o=En(n.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(h);let u=r.mapDesc(c,!0);s.push(l.range.map(u)),r=r.compose(h),o=ne.mapEffects(o,h).concat(ne.mapEffects(En(l.effects),u))}return{changes:r,selection:F.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof me?e:me.of(e,this.doc.length,this.facet(G.lineSeparator))}toText(e){return W.of(e.split(this.facet(G.lineSeparator)||Ms))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(ai(this,t),Ar(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof Lt&&this.config.address[r.id]!=null&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return G.create({doc:e.doc,selection:F.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=mr.resolve(e.extensions||[],new Map),n=e.doc instanceof W?e.doc:W.of((e.doc||"").split(t.staticFacet(G.lineSeparator)||Ms)),r=e.selection?e.selection instanceof F?e.selection:F.single(e.selection.anchor,e.selection.head):F.single(0);return qh(r,n.length),t.staticFacet(Fs)||(r=r.asSingle()),new G(t,n,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(G.tabSize)}get lineBreak(){return this.facet(G.lineSeparator)||`
`}get readOnly(){return this.facet(Gh)}phrase(e,...t){for(let n of this.facet(G.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let r=[];for(let s of this.facet(Uh))for(let o of s(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return SA(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,a=e-n;for(;o>0;){let l=St(t,o,!1);if(s(t.slice(l,o))!=Mt.Word)break;o=l}for(;a<r;){let l=St(t,a);if(s(t.slice(a,l))!=Mt.Word)break;a=l}return o==a?null:F.range(o+n,a+n)}}G.allowMultipleSelections=Fs;G.tabSize=P.define({combine:i=>i.length?i[0]:4});G.lineSeparator=jh;G.readOnly=Gh;G.phrases=P.define({compare(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length==n.length&&t.every(r=>i[r]==e[r])}});G.languageData=Uh;G.changeFilter=Yh;G.transactionFilter=Wh;G.transactionExtender=zh;Hr.reconfigure=ne.define();function MA(i,e,t={}){let n={};for(let r of i)for(let s of Object.keys(r)){let o=r[s],a=n[s];if(a===void 0)n[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)n[r]===void 0&&(n[r]=e[r]);return n}class In{eq(e){return this==e}range(e,t=e){return Ps.create(e,t,this)}}In.prototype.startSide=In.prototype.endSide=0;In.prototype.point=!1;In.prototype.mapMode=Le.TrackDel;let Ps=class Kh{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Kh(e,t,n)}};function Ns(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class Qo{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let s=n?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,n,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,u=this.to[l]+e,d,f;if(h==u){let p=t.mapPos(h,c.startSide,c.mapMode);if(p==null||(d=f=p,c.startSide!=c.endSide&&(f=t.mapPos(h,c.endSide),f<d)))continue}else if(d=t.mapPos(h,c.startSide),f=t.mapPos(u,c.endSide),d>f||d==f&&c.startSide>0&&c.endSide<=0)continue;(f-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,f-d)),n.push(c),r.push(d-o),s.push(f-o))}return{mapped:n.length?new Qo(r,s,n,a):null,pos:o}}}class ee{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new ee(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(Ns)),this.isEmpty)return t.length?ee.of(t):this;let a=new $h(this,null,-1).goto(0),l=0,c=[],h=new Rn;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];h.addInner(u.from,u.to,u.value)||c.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(Ps.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?ee.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),t.push(l),n.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:u}=l.map(a,e);h&&(r=Math.max(r,h.maxPoint),t.push(h),n.push(u))}}let s=this.nextLayer.map(e);return t.length==0?s:new ee(n,t,s||ee.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return pi.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return pi.from(e).goto(t)}static compare(e,t,n,r,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=Fa(o,a,n),c=new Vn(o,l,s),h=new Vn(a,l,s);n.iterGaps((u,d,f)=>La(c,u,h,d,f,r)),n.empty&&n.length==0&&La(c,0,h,0,0,r)}static eq(e,t,n=0,r){r==null&&(r=999999999);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Fa(s,o),l=new Vn(s,a,0).goto(n),c=new Vn(o,a,0).goto(n);for(;;){if(l.to!=c.to||!Qs(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,t,n,r,s=-1){let o=new Vn(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,n);if(o.point){let h=o.activeForPoint(o.to),u=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,l);r.point(a,c,o.point,h,u,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>n)return l+(o.point&&o.to>n?1:0);a=o.to,o.next()}}static of(e,t=!1){let n=new Rn;for(let r of e instanceof Ps?[e]:t?DA(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return ee.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=ee.empty;r=r.nextLayer)t=new ee(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}ee.empty=new ee([],[],null,-1);function DA(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(Ns(e,n)>0)return i.slice().sort(Ns);e=n}return i}ee.empty.nextLayer=ee.empty;class Rn{finishChunk(e){this.chunks.push(new Qo(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Rn)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(ee.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=ee.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Fa(i,e,t){let n=new Map;for(let s of i)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=n.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class $h{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class pi{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new $h(o,t,n,s));return r.length==1?r[0]:new pi(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)es(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)es(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),es(this.heap,0)}}}function es(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let r=i[n];if(n+1<i.length&&r.compare(i[n+1])>=0&&(r=i[n+1],n++),t.compare(r)<0)break;i[n]=t,i[e]=r,e=n}}class Vn{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=pi.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Pi(this.active,e),Pi(this.activeTo,e),Pi(this.activeRank,e),this.minActive=Oa(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Ni(this.active,t,n),Ni(this.activeTo,t,r),Ni(this.activeRank,t,s),e&&Ni(e,t,this.cursor.from),this.minActive=Oa(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Pi(n,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function La(i,e,t,n,r,s){i.goto(e),t.goto(n);let o=n+r,a=n,l=n-e;for(;;){let c=i.to+l-t.to,h=c||i.endSide-t.endSide,u=h<0?i.to+l:t.to,d=Math.min(u,o);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&Qs(i.activeForPoint(i.to),t.activeForPoint(t.to))||s.comparePoint(a,d,i.point,t.point):d>a&&!Qs(i.active,t.active)&&s.compareRange(a,d,i.active,t.active),u>o)break;(c||i.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(u),a=u,h<=0&&i.next(),h>=0&&t.next()}}function Qs(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function Pi(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function Ni(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function Oa(i,e){let t=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||i[r].endSide-i[t].endSide)<0&&(t=r,n=e[r]);return t}function IA(i,e,t,n){for(let r=0,s=0;;){if(s>=e)return r;if(r==i.length)break;s+=i.charCodeAt(r)==9?t-s%t:1,r=St(i,r)}return i.length}const qs="",Pa=typeof Symbol>"u"?"__"+qs:Symbol.for(qs),_s=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Jt{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],u=/^@(\w+)\b/.exec(o[0]),d=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))s(f.split(/,\s*/).map(A=>o.map(m=>A.replace(/&/,m))).reduce((A,m)=>A.concat(m)),p,l);else if(p&&typeof p=="object"){if(!u)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(r(f),p,h,d)}else p!=null&&h.push(f.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+p+";")}(h.length||d)&&l.push((n&&!u&&!c?o.map(n):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Na[Pa]||1;return Na[Pa]=e+1,qs+e.toString(36)}static mount(e,t,n){let r=e[_s],s=n&&n.nonce;r?s&&r.setNonce(s):r=new RA(e,s),r.mount(Array.isArray(t)?t:[t],e)}}let Qa=new Map;class RA{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Qa.get(n);if(s)return e[_s]=s;this.sheet=new r.CSSStyleSheet,Qa.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[_s]=this}mount(e,t){let n=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),n)for(let c=0;c<a.rules.length;c++)n.insertRule(a.rules[c],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Tn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Hs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'};for(var we=0;we<10;we++)Tn[48+we]=Tn[96+we]=String(we);for(var we=1;we<=24;we++)Tn[we+111]="F"+we;for(var we=65;we<=90;we++)Tn[we]=String.fromCharCode(we+32),Hs[we]=String.fromCharCode(we);for(var ts in Tn)Hs.hasOwnProperty(ts)||(Hs[ts]=Tn[ts]);function gi(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function Us(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function lr(i,e){if(!e.anchorNode)return!1;try{return Us(i,e.anchorNode)}catch{return!1}}function mi(i){return i.nodeType==3?pn(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function li(i,e,t,n){return t?qa(i,e,t,n,-1)||qa(i,e,t,n,1):!1}function fn(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function yr(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}function qa(i,e,t,n,r){for(;;){if(i==t&&e==n)return!0;if(e==(r<0?0:wt(i))){if(i.nodeName=="DIV")return!1;let s=i.parentNode;if(!s||s.nodeType!=1)return!1;e=fn(i)+(r<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[e+(r<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=r<0?wt(i):0}else return!1}}function wt(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Ur(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function TA(i){let e=i.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function Xh(i,e){let t=e.width/i.offsetWidth,n=e.height/i.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-i.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-i.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function FA(i,e,t,n,r,s,o,a){let l=i.ownerDocument,c=l.defaultView||window;for(let h=i,u=!1;h&&!u;)if(h.nodeType==1){let d,f=h==l.body,p=1,A=1;if(f)d=TA(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let v=h.getBoundingClientRect();({scaleX:p,scaleY:A}=Xh(h,v)),d={left:v.left,right:v.left+h.clientWidth*p,top:v.top,bottom:v.top+h.clientHeight*A}}let m=0,g=0;if(r=="nearest")e.top<d.top?(g=e.top-(d.top+o),t>0&&e.bottom>d.bottom+g&&(g=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(g=e.bottom-d.bottom+o,t<0&&e.top-g<d.top&&(g=e.top-(d.top+o)));else{let v=e.bottom-e.top,B=d.bottom-d.top;g=(r=="center"&&v<=B?e.top+v/2-B/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-B+o)-d.top}if(n=="nearest"?e.left<d.left?(m=e.left-(d.left+s),t>0&&e.right>d.right+m&&(m=e.right-d.right+s)):e.right>d.right&&(m=e.right-d.right+s,t<0&&e.left<d.left+m&&(m=e.left-(d.left+s))):m=(n=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:n=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,m||g)if(f)c.scrollBy(m,g);else{let v=0,B=0;if(g){let w=h.scrollTop;h.scrollTop+=g/A,B=(h.scrollTop-w)*A}if(m){let w=h.scrollLeft;h.scrollLeft+=m/p,v=(h.scrollLeft-w)*p}e={left:e.left-v,top:e.top-B,right:e.right-v,bottom:e.bottom-B},v&&Math.abs(v-m)<1&&(n="nearest"),B&&Math.abs(B-g)<1&&(r="nearest")}if(f)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function LA(i){let e=i.ownerDocument,t,n;for(let r=i.parentNode;r&&!(r==e.body||t&&n);)if(r.nodeType==1)!n&&r.scrollHeight>r.clientHeight&&(n=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:n}}class OA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?wt(t):0),n,Math.min(e.focusOffset,n?wt(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let xn=null;function Zh(i){if(i.setActive)return i.setActive();if(xn)return i.focus(xn);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(xn==null?{get preventScroll(){return xn={preventScroll:!0},!0}}:void 0),!xn){xn=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],s=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let _a;function pn(i,e,t=e){let n=_a||(_a=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function Cn(i,e,t,n){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=n);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,i.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,i.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function PA(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function eu(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function NA(i,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,wt(t));;)if(n){if(t.nodeType!=1)return!1;let r=t.childNodes[n-1];r.contentEditable=="false"?n--:(t=r,n=wt(t))}else{if(t==i)return!0;n=fn(t),t=t.parentNode}}function tu(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}function nu(i,e){for(let t=i,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=wt(t)}else if(t.parentNode&&!yr(t))n=fn(t),t=t.parentNode;else return null}}function iu(i,e){for(let t=i,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!yr(t))n=fn(t)+1,t=t.parentNode;else return null}}class Be{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Be(e.parentNode,fn(e),t)}static after(e,t){return new Be(e.parentNode,fn(e)+1,t)}}const qo=[];class ${constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:n.firstChild)){let a=$.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=r?r.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=Ha(s);else n.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=Ha(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=wt(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!$.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=n,h=n;l<this.children.length;l++){let u=this.children[l],d=c+u.length;if(c<e&&d>t)return u.domBoundsAround(e,t,c);if(d>=e&&r==-1&&(r=l,s=c),c>t&&u.dom.parentNode==this.dom){o=l,a=h;break}h=d,c=d+u.breakAfter}return{from:s,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=qo){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&n.indexOf(s)<0&&s.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ru(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}$.prototype.breakAfter=0;function Ha(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class ru{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function su(i,e,t,n,r,s,o,a,l){let{children:c}=i,h=c.length?c[e]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(e==n&&h&&!o&&!d&&s.length<2&&h.merge(t,r,s.length?u:null,t==0,a,l))){if(n<c.length){let f=c[n];f&&(r<f.length||f.breakAfter&&(u!=null&&u.breakAfter))?(e==n&&(f=f.split(r),r=0),!d&&u&&f.merge(0,r,u,!0,0,l)?s[s.length-1]=f:((r||f.children.length&&!f.children[0].length)&&f.merge(0,r,null,!1,0,l),s.push(f))):f!=null&&f.breakAfter&&(u?u.breakAfter=1:o=1),n++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<n&&s.length;)if(c[n-1].become(s[s.length-1]))n--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,a,l)&&e--,(e<n||s.length)&&i.replaceChildren(e,n,s)}}function ou(i,e,t,n,r,s){let o=i.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),u=e-t;for(let d of n)u+=d.length;i.length+=u,su(i,c,h,a,l,n,0,r,s)}let Ue=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},js=typeof document<"u"?document:{documentElement:{style:{}}};const Ys=/Edge\/(\d+)/.exec(Ue.userAgent),au=/MSIE \d/.test(Ue.userAgent),Ws=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ue.userAgent),jr=!!(au||Ws||Ys),Ua=!jr&&/gecko\/(\d+)/i.test(Ue.userAgent),ns=!jr&&/Chrome\/(\d+)/.exec(Ue.userAgent),ja="webkitFontSmoothing"in js.documentElement.style,lu=!jr&&/Apple Computer/.test(Ue.vendor),Ya=lu&&(/Mobile\/\w+/.test(Ue.userAgent)||Ue.maxTouchPoints>2);var T={mac:Ya||/Mac/.test(Ue.platform),ie:jr,ie_version:au?js.documentMode||6:Ws?+Ws[1]:Ys?+Ys[1]:0,gecko:Ua,gecko_version:Ua?+(/Firefox\/(\d+)/.exec(Ue.userAgent)||[0,0])[1]:0,chrome:!!ns,chrome_version:ns?+ns[1]:0,ios:Ya,android:/Android\b/.test(Ue.userAgent),webkit:ja,safari:lu,webkit_version:ja?+(/\bAppleWebKit\/(\d+)/.exec(Ue.userAgent)||[0,0])[1]:0,tabSize:js.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const QA=256;class it extends ${constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof it)||this.length-(t-e)+n.length>QA||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new it(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Be(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return qA(this.dom,e,t)}}class Ft extends ${constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let r of t)r.setParent(this)}setAttrs(e){if(eu(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,s,o){return n&&(!(n instanceof Ft&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(ou(this,e,t,n?n.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,s=0;for(let a of this.children){let l=n+a.length;l>e&&t.push(n<e?a.split(e-n):a),r<0&&n>=e&&(r=s),n=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Ft(this.mark,t,o)}domAtPos(e){return cu(this,e)}coordsAt(e,t){return uu(this,e,t)}}function qA(i,e,t){let n=i.nodeValue.length;e>n&&(e=n);let r=e,s=e,o=0;e==0&&t<0||e==n&&t>=0?T.chrome||T.gecko||(e?(r--,o=1):s<n&&(s++,o=-1)):t<0?r--:s<n&&s++;let a=pn(i,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return T.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Ur(l,o<0):l||null}class jt extends ${static create(e,t,n){return new jt(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=jt.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,s,o){return n&&(!(n instanceof jt)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof jt&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return W.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):W.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Be.before(this.dom):Be.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return Ur(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Fn extends ${constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Fn&&e.side==this.side}split(){return new Fn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Be.before(this.dom):Be.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return W.empty}get isHidden(){return!0}}it.prototype.children=jt.prototype.children=Fn.prototype.children=qo;function cu(i,e){let t=i.dom,{children:n}=i,r=0;for(let s=0;r<n.length;r++){let o=n[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=n[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<n.length;s++){let o=n[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Be(t,0)}function hu(i,e,t){let n,{children:r}=i;t>0&&e instanceof Ft&&r.length&&(n=r[r.length-1])instanceof Ft&&n.mark.eq(e.mark)?hu(n,e.children[0],t-1):(r.push(e),e.setParent(i)),i.length+=e.length}function uu(i,e,t){let n=null,r=-1,s=null,o=-1;function a(c,h){for(let u=0,d=0;u<c.children.length&&d<=h;u++){let f=c.children[u],p=d+f.length;p>=h&&(f.children.length?a(f,h-d):(!s||s.isHidden&&t>0)&&(p>h||d==p&&f.getSide()>0)?(s=f,o=h-d):(d<h||d==p&&f.getSide()<0&&!f.isHidden)&&(n=f,r=h-d)),d=p}}a(i,e);let l=(t<0?n:s)||n||s;return l?l.coordsAt(Math.max(0,l==n?r:o),t):_A(i)}function _A(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=mi(e);return t[t.length-1]||null}function zs(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}const Wa=Object.create(null);function br(i,e,t){if(i==e)return!0;i||(i=Wa),e||(e=Wa);let n=Object.keys(i),r=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let s of n)if(s!=t&&(r.indexOf(s)==-1||i[s]!==e[s]))return!1;return!0}function Gs(i,e,t){let n=!1;if(e)for(let r in e)t&&r in t||(n=!0,r=="style"?i.style.cssText="":i.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(n=!0,r=="style"?i.style.cssText=t[r]:i.setAttribute(r,t[r]));return n}function HA(i){let e=Object.create(null);for(let t=0;t<i.attributes.length;t++){let n=i.attributes[t];e[n.name]=n.value}return e}class Yr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var yt=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(yt||(yt={}));class oe extends In{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Ci(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Kt(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,r;if(e.isBlockGap)n=-5e8,r=4e8;else{let{start:s,end:o}=du(e,t);n=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Kt(e,n,r,t,e.widget||null,!0)}static line(e){return new Bi(e)}static set(e,t=!1){return ee.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}oe.none=ee.empty;class Ci extends oe{constructor(e){let{start:t,end:n}=du(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Ci&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&br(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Ci.prototype.point=!1;class Bi extends oe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Bi&&this.spec.class==e.spec.class&&br(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Bi.prototype.mapMode=Le.TrackBefore;Bi.prototype.point=!0;class Kt extends oe{constructor(e,t,n,r,s,o){super(t,n,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Le.TrackBefore:Le.TrackAfter:Le.TrackDel}get type(){return this.startSide!=this.endSide?yt.WidgetRange:this.startSide<=0?yt.WidgetBefore:yt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Kt&&UA(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Kt.prototype.point=!0;function du(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t??e,end:n??e}}function UA(i,e){return i==e||!!(i&&e&&i.compare(e))}function cr(i,e,t,n=0){let r=t.length-1;r>=0&&t[r]+n>=i?t[r]=Math.max(t[r],e):t.push(i,e)}class ue extends ${constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,s,o){if(n){if(!(n instanceof ue))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),ou(this,e,t,n?n.children.slice():[],s,o),!0}split(e){let t=new ue;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){br(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){hu(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=zs(t,this.attrs||{})),n&&(this.attrs=zs({class:n},this.attrs||{}))}domAtPos(e){return cu(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(eu(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Gs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&$.get(r)instanceof Ft;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=$.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!T.ios||!this.children.some(s=>s instanceof it))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof it)||/[^ -~]/.test(n.text))return null;let r=mi(n.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=uu(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof ue&&this.children.length==0&&e.children.length==0&&br(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let s=e.children[n],o=r+s.length;if(o>=t){if(s instanceof ue)return s;if(o>t)break}r=o+s.breakAfter}return null}}class Rt extends ${constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,s,o){return n&&(!(n instanceof Rt)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Be.before(this.dom):Be.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Rt(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return qo}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):W.empty}domBoundsAround(){return null}become(e){return e instanceof Rt&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof Vs?null:Ur(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class Vs extends Yr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ci{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Rt&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ue),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Qi(new Fn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Rt)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Qi(new it(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Kt){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof Kt)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Rt(n.widget||Ln.block,a,n));else{let l=jt.create(n.widget||Ln.inline,a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<t||n.startSide>0),h=!l.isEditable&&(e<t||s>r.length||n.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(u.append(Qi(new Fn(1),r),s),s=r.length+Math.max(0,s-r.length)),u.append(Qi(l,r),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,r,s){let o=new ci(e,t,n,s);return o.openEnd=ee.spans(r,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Qi(i,e){for(let t of e)i=new Ft(t,[i],i.length);return i}class Ln extends Yr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ln.inline=new Ln("span");Ln.block=new Ln("div");var pe=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(pe||(pe={}));const gn=pe.LTR,_o=pe.RTL;function fu(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const jA=fu("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),YA=fu("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Js=Object.create(null),lt=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);Js[e]=t,Js[t]=-e}function pu(i){return i<=247?jA[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?YA[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const WA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Yt{get dir(){return this.level%2?_o:gn}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==n)return o;(s<0||(r!=0?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function gu(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++){let n=i[t],r=e[t];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!gu(n.inner,r.inner))return!1}return!0}const J=[];function zA(i,e,t,n,r){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:e,a=s<n.length?n[s].from:t,l=s?256:r;for(let c=o,h=l,u=l;c<a;c++){let d=pu(i.charCodeAt(c));d==512?d=h:d==8&&u==4&&(d=16),J[c]=d==4?2:d,d&7&&(u=d),h=d}for(let c=o,h=l,u=l;c<a;c++){let d=J[c];if(d==128)c<a-1&&h==J[c+1]&&h&24?d=J[c]=h:J[c]=256;else if(d==64){let f=c+1;for(;f<a&&J[f]==64;)f++;let p=c&&h==8||f<t&&J[f]==8?u==1?1:8:256;for(let A=c;A<f;A++)J[A]=p;c=f-1}else d==8&&u==1&&(J[c]=1);h=d,d&7&&(u=d)}}}function GA(i,e,t,n,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=n.length;o++){let c=o?n[o-1].to:e,h=o<n.length?n[o].from:t;for(let u=c,d,f,p;u<h;u++)if(f=Js[d=i.charCodeAt(u)])if(f<0){for(let A=a-3;A>=0;A-=3)if(lt[A+1]==-f){let m=lt[A+2],g=m&2?r:m&4?m&1?s:r:0;g&&(J[u]=J[lt[A]]=g),a=A;break}}else{if(lt.length==189)break;lt[a++]=u,lt[a++]=d,lt[a++]=l}else if((p=J[u])==2||p==1){let A=p==r;l=A?0:1;for(let m=a-3;m>=0;m-=3){let g=lt[m+2];if(g&2)break;if(A)lt[m+2]|=2;else{if(g&4)break;lt[m+2]|=4}}}}}function VA(i,e,t,n){for(let r=0,s=n;r<=t.length;r++){let o=r?t[r-1].to:i,a=r<t.length?t[r].from:e;for(let l=o;l<a;){let c=J[l];if(c==256){let h=l+1;for(;;)if(h==a){if(r==t.length)break;h=t[r++].to,a=r<t.length?t[r].from:e}else if(J[h]==256)h++;else break;let u=s==1,d=(h<e?J[h]:n)==1,f=u==d?u?1:2:n;for(let p=h,A=r,m=A?t[A-1].to:i;p>l;)p==m&&(p=t[--A].from,m=A?t[A-1].to:i),J[--p]=f;l=h}else s=c,l++}}}function Ks(i,e,t,n,r,s,o){let a=n%2?2:1;if(n%2==r%2)for(let l=e,c=0;l<t;){let h=!0,u=!1;if(c==s.length||l<s[c].from){let A=J[l];A!=a&&(h=!1,u=A==16)}let d=!h&&a==1?[]:null,f=h?n:n+1,p=l;e:for(;;)if(c<s.length&&p==s[c].from){if(u)break e;let A=s[c];if(!h)for(let m=A.to,g=c+1;;){if(m==t)break e;if(g<s.length&&s[g].from==m)m=s[g++].to;else{if(J[m]==a)break e;break}}if(c++,d)d.push(A);else{A.from>l&&o.push(new Yt(l,A.from,f));let m=A.direction==gn!=!(f%2);$s(i,m?n+1:n,r,A.inner,A.from,A.to,o),l=A.to}p=A.to}else{if(p==t||(h?J[p]!=a:J[p]==a))break;p++}d?Ks(i,l,p,n+1,r,d,o):l<p&&o.push(new Yt(l,p,f)),l=p}else for(let l=t,c=s.length;l>e;){let h=!0,u=!1;if(!c||l>s[c-1].to){let A=J[l-1];A!=a&&(h=!1,u=A==16)}let d=!h&&a==1?[]:null,f=h?n:n+1,p=l;e:for(;;)if(c&&p==s[c-1].to){if(u)break e;let A=s[--c];if(!h)for(let m=A.from,g=c;;){if(m==e)break e;if(g&&s[g-1].to==m)m=s[--g].from;else{if(J[m-1]==a)break e;break}}if(d)d.push(A);else{A.to<l&&o.push(new Yt(A.to,l,f));let m=A.direction==gn!=!(f%2);$s(i,m?n+1:n,r,A.inner,A.from,A.to,o),l=A.from}p=A.from}else{if(p==e||(h?J[p-1]!=a:J[p-1]==a))break;p--}d?Ks(i,p,l,n+1,r,d,o):p<l&&o.push(new Yt(p,l,f)),l=p}}function $s(i,e,t,n,r,s,o){let a=e%2?2:1;zA(i,r,s,n,a),GA(i,r,s,n,a),VA(r,s,n,a),Ks(i,r,s,e,t,n,o)}function JA(i,e,t){if(!i)return[new Yt(0,0,e==_o?1:0)];if(e==gn&&!t.length&&!WA.test(i))return mu(i.length);if(t.length)for(;i.length>J.length;)J[J.length]=256;let n=[],r=e==gn?0:1;return $s(i,r,r,t,0,i.length,n),n}function mu(i){return[new Yt(0,i,0)]}let Au="";function KA(i,e,t,n,r){var s;let o=n.head-i.from,a=Yt.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),l=e[a],c=l.side(r,t);if(o==c){let d=a+=r?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!r,t),c=l.side(r,t)}let h=St(i.text,o,l.forward(r,t));(h<l.from||h>l.to)&&(h=c),Au=i.text.slice(Math.min(o,h),Math.max(o,h));let u=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return u&&h==c&&u.level+(r?0:1)<l.level?F.cursor(u.side(!r,t)+i.from,u.forward(r,t)?1:-1,u.level):F.cursor(h+i.from,l.forward(r,t)?-1:1,l.level)}function $A(i,e,t){for(let n=e;n<t;n++){let r=pu(i.charCodeAt(n));if(r==1)return gn;if(r==2||r==4)return _o}return gn}const yu=P.define(),bu=P.define(),wu=P.define(),vu=P.define(),Xs=P.define(),xu=P.define(),Eu=P.define(),Ho=P.define(),Uo=P.define(),Cu=P.define({combine:i=>i.some(e=>e)}),XA=P.define({combine:i=>i.some(e=>e)}),Bu=P.define();class Bn{constructor(e,t="nearest",n="nearest",r=5,s=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Bn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Bn(F.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const qi=ne.define({map:(i,e)=>i.map(e)}),ku=ne.define();function je(i,e,t){let n=i.facet(vu);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Bt=P.define({combine:i=>i.length?i[0]:!0});let ZA=0;const Xn=P.define();class rt{constructor(e,t,n,r,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=s(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:s,decorations:o}=t||{};return new rt(ZA++,e,n,r,a=>{let l=[Xn.of(a)];return o&&l.push(Ai.of(c=>{let h=c.plugin(a);return h?o(h):oe.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return rt.define(n=>new e(n),t)}}class is{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(je(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){je(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){je(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Su=P.define(),jo=P.define(),Ai=P.define(),Mu=P.define(),Yo=P.define(),Du=P.define();function za(i,e){let t=i.state.facet(Du);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(i):s),r=[];return ee.spans(n,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,h=o-e.from,u=r;for(let d=a.length-1;d>=0;d--,l--){let f=a[d].spec.bidiIsolate,p;if(f==null&&(f=$A(e.text,c,h)),l>0&&u.length&&(p=u[u.length-1]).to==c&&p.direction==f)p.to=h,u=p.inner;else{let A={from:c,to:h,direction:f,inner:[]};u.push(A),u=A.inner}}}}),r}const Iu=P.define();function Wo(i){let e=0,t=0,n=0,r=0;for(let s of i.state.facet(Iu)){let o=s(i);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:t,top:n,bottom:r}}const Zn=P.define();class We{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new We(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let u=t[s],d=t[s+1],f=Math.max(a,u),p=Math.min(h,d);if(f<=p&&new We(f+c,p+c,f,p).addToSet(n),d>h)break;s+=2}if(!l)return n;new We(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,a=l.toB}}}class wr{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=me.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new We(s,o,a,l))),this.changedRanges=r}static create(e,t,n){return new wr(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Ga extends ${get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=oe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ue],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new We(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:h})=>h<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!o0(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?t0(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:h}=this.hasComposition;n=new We(c,h,e.changes.mapPos(c,-1),e.changes.mapPos(h,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(T.ie||T.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=r0(o,a,e.changes);return n=We.extendWithRanges(n,l),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=T.chrome||T.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Rt&&o.widget instanceof Vs&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:h,toB:u}=a,d,f,p,A;if(n&&n.range.fromB<u&&n.range.toB>h){let w=ci.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),E=ci.build(this.view.state.doc,n.range.toB,u,this.decorations,this.dynamicDecorationMap);f=w.breakAtStart,p=w.openStart,A=E.openEnd;let x=this.compositionView(n);E.breakAtStart?x.breakAfter=1:E.content.length&&x.merge(x.length,x.length,E.content[0],!1,E.openStart,0)&&(x.breakAfter=E.content[0].breakAfter,E.content.shift()),w.content.length&&x.merge(0,0,w.content[w.content.length-1],!0,0,w.openEnd)&&w.content.pop(),d=w.content.concat(x).concat(E.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:A}=ci.build(this.view.state.doc,h,u,this.decorations,this.dynamicDecorationMap));let{i:m,off:g}=s.findPos(c,1),{i:v,off:B}=s.findPos(l,-1);su(this,v,B,m,g,d,f,p,A)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(ku)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new it(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Ft(r,[t],t.length);let n=new ue;return n.append(t,0),n}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=$.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)n=r.childPos(n.off,1),r=r.children[n.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,s=!r&&!(this.view.state.facet(Bt)||this.dom.tabIndex>-1)&&lr(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(T.gecko&&a.empty&&!this.hasComposition&&e0(l)){let u=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(u,l.node.childNodes[l.offset]||null)),l=c=new Be(u,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!li(l.node,l.offset,h.anchorNode,h.anchorOffset)||!li(c.node,c.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{T.android&&T.chrome&&this.dom.contains(h.focusNode)&&s0(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=gi(this.view.root);if(u)if(a.empty){if(T.gecko){let d=n0(l.node,l.offset);if(d&&d!=3){let f=(d==1?nu:iu)(l.node,l.offset);f&&(l=new Be(f.node,f.offset))}}u.collapse(l.node,l.offset),a.bidiLevel!=null&&u.caretBidiLevel!==void 0&&(u.caretBidiLevel=a.bidiLevel)}else if(u.extend){u.collapse(l.node,l.offset);try{u.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Be(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new Be(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&li(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=gi(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=ue.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);n.collapse(h.node,h.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,s)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let r=e.offset;!n&&r<t.childNodes.length;r++){let s=$.get(t.childNodes[r]);s instanceof ue&&(n=s.domAtPos(0))}for(let r=e.offset-1;!n&&r>=0;r--){let s=$.get(t.childNodes[r]);s instanceof ue&&(n=s.domAtPos(s.length))}return n?new Be(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=$.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(n<r.length||r instanceof ue)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!n||a instanceof ue&&!(n instanceof ue&&t>=0)))n=a,r=c;else if(n&&c==e&&l==e&&a instanceof Rt&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(n=null)}s=c}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof ue))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(n,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}n=l}if(!(r instanceof it))return null;let s=St(r.text,n);if(s==n)return null;let o=pn(r.dom,n,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==pe.LTR;for(let c=0,h=0;h<this.children.length;h++){let u=this.children[h],d=c+u.length;if(d>r)break;if(c>=n){let f=u.dom.getBoundingClientRect();if(t.push(f.height),o){let p=u.dom.lastChild,A=p?mi(p):[];if(A.length){let m=A[A.length-1],g=l?m.right-f.left:f.right-m.left;g>a&&(a=g,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?pe.RTL:pe.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ue){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=mi(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ru(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>n){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(oe.replace({widget:new Vs(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return oe.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Ai).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,r=this.view.state.facet(Mu).map((s,o)=>{let a=typeof s=="function";return a&&(n=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(ee.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(Bu))try{if(c(this.view,e.range,e))return!0}catch(h){je(this.view.state,h,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!n)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let s=Wo(this.view),o={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;FA(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==pe.LTR)}}function e0(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}function Ru(i,e){let t=i.observer.selectionRange;if(!t.focusNode)return null;let n=nu(t.focusNode,t.focusOffset),r=iu(t.focusNode,t.focusOffset),s=n||r;if(r&&n&&r.node!=n.node){let a=$.get(r.node);if(!a||a instanceof it&&a.text!=r.node.nodeValue)s=r;else if(i.docView.lastCompositionAfterCursor){let l=$.get(n.node);!l||l instanceof it&&l.text!=n.node.nodeValue||(s=r)}}if(i.docView.lastCompositionAfterCursor=s!=n,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function t0(i,e,t){let n=Ru(i,t);if(!n)return null;let{node:r,from:s,to:o}=n,a=r.nodeValue;if(/[\n\r]/.test(a)||i.state.doc.sliceString(n.from,n.to)!=a)return null;let l=e.invertedDesc,c=new We(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let u=r.parentNode;;u=u.parentNode){let d=$.get(u);if(d instanceof Ft)h.push({node:u,deco:d.mark});else{if(d instanceof ue||u.nodeName=="DIV"&&u.parentNode==i.contentDOM)return{range:c,text:r,marks:h,line:u};if(u!=i.contentDOM)h.push({node:u,deco:new Ci({inclusive:!0,attributes:HA(u),tagName:u.tagName.toLowerCase()})});else return null}}}function n0(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}let i0=class{constructor(){this.changes=[]}compareRange(e,t){cr(e,t,this.changes)}comparePoint(e,t){cr(e,t,this.changes)}boundChange(e){cr(e,e,this.changes)}};function r0(i,e,t){let n=new i0;return ee.compare(i,e,t,n),n.changes}function s0(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function o0(i,e){let t=!1;return e&&i.iterChangedRanges((n,r)=>{n<e.to&&r>e.from&&(t=!0)}),t}function a0(i,e,t=1){let n=i.charCategorizer(e),r=i.doc.lineAt(e),s=e-r.from;if(r.length==0)return F.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=St(r.text,s,!1):a=St(r.text,s);let l=n(r.text.slice(o,a));for(;o>0;){let c=St(r.text,o,!1);if(n(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=St(r.text,a);if(n(r.text.slice(a,c))!=l)break;a=c}return F.range(o+r.from,a+r.from)}function l0(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function c0(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function rs(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function Va(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Ja(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function Zs(i,e,t){let n,r,s,o,a=!1,l,c,h,u;for(let p=i.firstChild;p;p=p.nextSibling){let A=mi(p);for(let m=0;m<A.length;m++){let g=A[m];r&&rs(r,g)&&(g=Va(Ja(g,r.bottom),r.top));let v=l0(e,g),B=c0(t,g);if(v==0&&B==0)return p.nodeType==3?Ka(p,e,t):Zs(p,e,t);if(!n||o>B||o==B&&s>v){n=p,r=g,s=v,o=B;let w=B?t<g.top?-1:1:v?e<g.left?-1:1:0;a=!w||(w>0?m<A.length-1:m>0)}v==0?t>g.bottom&&(!h||h.bottom<g.bottom)?(l=p,h=g):t<g.top&&(!u||u.top>g.top)&&(c=p,u=g):h&&rs(h,g)?h=Ja(h,g.bottom):u&&rs(u,g)&&(u=Va(u,g.top))}}if(h&&h.bottom>=t?(n=l,r=h):u&&u.top<=t&&(n=c,r=u),!n)return{node:i,offset:0};let d=Math.max(r.left,Math.min(r.right,e));if(n.nodeType==3)return Ka(n,d,t);if(a&&n.contentEditable!="false")return Zs(n,d,t);let f=Array.prototype.indexOf.call(i.childNodes,n)+(e>=(r.left+r.right)/2?1:0);return{node:i,offset:f}}function Ka(i,e,t){let n=i.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<n;a++){let l=pn(i,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let u=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&u<s){let d=e>=(h.left+h.right)/2,f=d;if((T.chrome||T.gecko)&&pn(i,a).getBoundingClientRect().left==h.right&&(f=!d),u<=0)return{node:i,offset:a+(f?1:0)};r=a+(f?1:0),s=u}}}return{node:i,offset:r>-1?r:o>0?i.nodeValue.length:0}}function Tu(i,e,t,n=-1){var r,s;let o=i.contentDOM.getBoundingClientRect(),a=o.top+i.viewState.paddingTop,l,{docHeight:c}=i.viewState,{x:h,y:u}=e,d=u-a;if(d<0)return 0;if(d>c)return i.state.doc.length;for(let w=i.viewState.heightOracle.textHeight/2,E=!1;l=i.elementAtHeight(d),l.type!=yt.Text;)for(;d=n>0?l.bottom+w:l.top-w,!(d>=0&&d<=c);){if(E)return t?null:0;E=!0,n=-n}u=a+d;let f=l.from;if(f<i.viewport.from)return i.viewport.from==0?0:t?null:$a(i,o,l,h,u);if(f>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:$a(i,o,l,h,u);let p=i.dom.ownerDocument,A=i.root.elementFromPoint?i.root:p,m=A.elementFromPoint(h,u);m&&!i.contentDOM.contains(m)&&(m=null),m||(h=Math.max(o.left+1,Math.min(o.right-1,h)),m=A.elementFromPoint(h,u),m&&!i.contentDOM.contains(m)&&(m=null));let g,v=-1;if(m&&((r=i.docView.nearest(m))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(h,u);w&&({offsetNode:g,offset:v}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(h,u);w&&({startContainer:g,startOffset:v}=w,(!i.contentDOM.contains(g)||T.safari&&h0(g,v,h)||T.chrome&&u0(g,v,h))&&(g=void 0))}g&&(v=Math.min(wt(g),v))}if(!g||!i.docView.dom.contains(g)){let w=ue.find(i.docView,f);if(!w)return d>l.top+l.height/2?l.to:l.from;({node:g,offset:v}=Zs(w.dom,h,u))}let B=i.docView.nearest(g);if(!B)return null;if(B.isWidget&&((s=B.dom)===null||s===void 0?void 0:s.nodeType)==1){let w=B.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?B.posAtStart:B.posAtEnd}else return B.localPosFromDOM(g,v)+B.posAtStart}function $a(i,e,t,n,r){let s=Math.round((n-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let a=i.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(i.defaultLineHeight-a)*.5)/a);s+=l*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+IA(o,s,i.state.tabSize)}function h0(i,e,t){let n;if(i.nodeType!=3||e!=(n=i.nodeValue.length))return!1;for(let r=i.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return pn(i,n-1,n).getBoundingClientRect().left>t}function u0(i,e,t){if(e!=0)return!1;for(let r=i;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let n=i.nodeType==1?i.getBoundingClientRect():pn(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function d0(i,e){let t=i.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==yt.Text))return n}return t}function f0(i,e,t,n){let r=d0(i,e.head),s=!n||r.type!=yt.Text||!(i.lineWrapping||r.widgetLineBreaks)?null:i.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=i.dom.getBoundingClientRect(),a=i.textDirectionAt(r.from),l=i.posAtCoords({x:t==(a==pe.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return F.cursor(l,t?-1:1)}return F.cursor(t?r.to:r.from,t?-1:1)}function Xa(i,e,t,n){let r=i.state.doc.lineAt(e.head),s=i.bidiSpans(r),o=i.textDirectionAt(r.from);for(let a=e,l=null;;){let c=KA(r,s,o,a,t),h=Au;if(!c){if(r.number==(t?i.state.doc.lines:1))return a;h=`
`,r=i.state.doc.line(r.number+(t?1:-1)),s=i.bidiSpans(r),c=i.visualLineSide(r,!t)}if(l){if(!l(h))return a}else{if(!n)return c;l=n(h)}a=c}}function p0(i,e,t){let n=i.state.charCategorizer(e),r=n(t);return s=>{let o=n(s);return r==Mt.Space&&(r=o),r==o}}function g0(i,e,t,n){let r=e.head,s=t?1:-1;if(r==(t?i.state.doc.length:0))return F.cursor(r,e.assoc);let o=e.goalColumn,a,l=i.contentDOM.getBoundingClientRect(),c=i.coordsAtPos(r,e.assoc||-1),h=i.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let f=i.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,i.defaultCharacterWidth*(r-f.from))),a=(s<0?f.top:f.bottom)+h}let u=l.left+o,d=n??i.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=a+(d+f)*s,A=Tu(i,{x:u,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?A<r:A>r)){let m=i.docView.coordsForChar(A),g=!m||p<m.top?-1:1;return F.cursor(A,g,void 0,o)}}}function hr(i,e,t){for(;;){let n=0;for(let r of i)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=n||t||(e-s<o-e?-1:1);e=l<0?s:o,n=l}});if(!n)return e}}function ss(i,e,t){let n=hr(i.state.facet(Yo).map(r=>r(i)),t.from,e.head>t.from?-1:1);return n==t.from?t:F.cursor(n,n<t.from?1:-1)}const ei="";class m0{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(G.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ei}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let a=$.get(r),l=$.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:yr(r))||yr(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let t=$.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(A0(e,n.node,n.offset)?t:0))}}function A0(i,e,t){for(;;){if(!e||t<wt(e))return!1;if(e==i)return!0;t=fn(e)+1,e=e.parentNode}}class Za{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class y0{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let a=s||o?[]:v0(e),l=new m0(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=x0(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Us(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Us(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((T.ios||T.chrome)&&e.state.selection.main.empty&&l!=c&&(h.from>0||h.to<e.state.doc.length)){let u=Math.min(l,c),d=Math.max(l,c),f=h.from-u,p=h.to-d;(f==0||f==1||u==0)&&(p==0||p==-1||d==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=F.single(c,l)}}}function Fu(i,e){let t,{newSel:n}=e,r=i.state.selection.main,s=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||T.android&&e.text.length<a-o)&&(l=r.to,c="end");let h=w0(i.state.doc.sliceString(o,a,ei),e.text,l-o,c);h&&(T.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==ei+ei&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:W.of(e.text.slice(h.from,h.toB).split(ei))})}else n&&(!i.hasFocus&&i.state.facet(Bt)||n.main.eq(r))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!r.empty&&n&&n.main.empty?t={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,r.to)}:(T.mac||T.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=F.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:W.of([t.insert.toString().replace("."," ")])}):t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,r.to))}:T.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=F.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:W.of([" "])}),t)return zo(i,t,n,s);if(n&&!n.main.eq(r)){let o=!1,a="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(o=!0),a=i.inputState.lastSelectionOrigin),i.dispatch({selection:n,scrollIntoView:o,userEvent:a}),!0}else return!1}function zo(i,e,t,n=-1){if(T.ios&&i.inputState.flushIOSKey(e))return!0;let r=i.state.selection.main;if(T.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&i.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Cn(i.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Cn(i.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Cn(i.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let o,a=()=>o||(o=b0(i,e,t));return i.state.facet(xu).some(l=>l(i,e.from,e.to,s,a))||i.dispatch(a()),!0}function b0(i,e,t){let n,r=i.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&i.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";n=r.replaceSelection(i.state.toText(a+e.insert.sliceString(0,void 0,i.state.lineBreak)+l))}else{let a=r.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(r.selection.ranges.length>1&&i.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=i.state.sliceDoc(e.from,e.to),h,u=t&&Ru(i,t.main.head);if(u){let p=e.insert.length-(e.to-e.from);h={from:u.from,to:u.to-p}}else h=i.state.doc.lineAt(s.head);let d=s.to-e.to,f=s.to-s.from;n=r.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let A=p.to-d,m=A-c.length;if(p.to-p.from!=f||i.state.sliceDoc(m,A)!=c||p.to>=h.from&&p.from<=h.to)return{range:p};let g=r.changes({from:m,to:A,insert:e.insert}),v=p.to-s.to;return{changes:g,range:l?F.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):p.map(g)}})}else n={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,o+=".compose",i.inputState.compositionFirstChange&&(o+=".start",i.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:o,scrollIntoView:!0})}function w0(i,e,t,n){let r=Math.min(i.length,e.length),s=0;for(;s<r&&i.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&i.length==e.length)return null;let o=i.length,a=e.length;for(;o>0&&a>0&&i.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(n=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&i.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function v0(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:s}=i.observer.selectionRange;return t&&(e.push(new Za(t,n)),(r!=t||s!=n)&&e.push(new Za(r,s))),e}function x0(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?F.single(t+e,n+e):null}class E0{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,T.safari&&e.contentDOM.addEventListener("input",()=>null),T.gecko&&_0(e.contentDOM.ownerDocument)}handleEvent(e){!T0(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let r of n.observers)r(this.view,t);for(let r of n.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=C0(e),n=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=n[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in n)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&k0.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),T.android&&T.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return T.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Lu.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||B0.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Cn(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:T.safari&&!T.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function el(i,e){return(t,n)=>{try{return e.call(i,n,t)}catch(r){je(t.state,r)}}}function C0(i){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of i){let r=n.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&t(s).handlers.push(el(n.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&t(s).observers.push(el(n.value,o))}}for(let n in st)t(n).handlers.push(st[n]);for(let n in Ge)t(n).observers.push(Ge[n]);return e}const Lu=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],B0="dthko",k0=[16,17,18,20,91,92,224,225],_i=6;function Hi(i){return Math.max(0,i)*.7+8}function S0(i,e){return Math.max(Math.abs(i.clientX-e.clientX),Math.abs(i.clientY-e.clientY))}class M0{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=LA(e.contentDOM),this.atoms=e.state.facet(Yo).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(G.allowMultipleSelections)&&D0(e,t),this.dragging=R0(e,t)&&Nu(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&S0(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,r=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Wo(this.view);e.clientX-l.left<=r+_i?t=-Hi(r-e.clientX):e.clientX+l.right>=o-_i&&(t=Hi(e.clientX-o)),e.clientY-l.top<=s+_i?n=-Hi(s-e.clientY):e.clientY+l.bottom>=a-_i&&(n=Hi(e.clientY-a)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],s=null;if(r.empty){let o=hr(this.atoms,r.from,0);o!=r.from&&(s=F.cursor(o,-1))}else{let o=hr(this.atoms,r.from,-1),a=hr(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=F.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?F.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function D0(i,e){let t=i.state.facet(yu);return t.length?t[0](e):T.mac?e.metaKey:e.ctrlKey}function I0(i,e){let t=i.state.facet(bu);return t.length?t[0](e):T.mac?!e.altKey:!e.ctrlKey}function R0(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=gi(i.root);if(!n||n.rangeCount==0)return!0;let r=n.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function T0(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=$.get(t))&&n.ignoreEvent(e))return!1;return!0}const st=Object.create(null),Ge=Object.create(null),Ou=T.ie&&T.ie_version<15||T.ios&&T.webkit_version<604;function F0(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),Pu(i,t.value)},50)}function Wr(i,e,t){for(let n of i.facet(e))t=n(t,i);return t}function Pu(i,e){e=Wr(i.state,Ho,e);let{state:t}=i,n,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(eo!=null&&t.selection.ranges.every(l=>l.empty)&&eo==s.toString()){let l=-1;n=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let u=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:u},range:F.cursor(c.from+u.length)}})}else o?n=t.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:F.cursor(l.from+c.length)}}):n=t.replaceSelection(s);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Ge.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};st.keydown=(i,e)=>(i.inputState.setSelectionOrigin("select"),e.keyCode==27&&i.inputState.tabFocusMode!=0&&(i.inputState.tabFocusMode=Date.now()+2e3),!1);Ge.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};Ge.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};st.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of i.state.facet(wu))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=P0(i,e)),t){let n=!i.hasFocus;i.inputState.startMouseSelection(new M0(i,e,t,n)),n&&i.observer.ignore(()=>{Zh(i.contentDOM);let s=i.root.activeElement;s&&!s.contains(i.contentDOM)&&s.blur()});let r=i.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function tl(i,e,t,n){if(n==1)return F.cursor(e,t);if(n==2)return a0(i.state,e,t);{let r=ue.find(i.docView,e),s=i.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<i.state.doc.length&&a==s.to&&a++,F.range(o,a)}}let nl=(i,e,t)=>e>=t.top&&e<=t.bottom&&i>=t.left&&i<=t.right;function L0(i,e,t,n){let r=ue.find(i.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&nl(t,n,o))return-1;let a=r.coordsAt(s,1);return a&&nl(t,n,a)?1:o&&o.bottom>=n?-1:1}function il(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:L0(i,t,e.clientX,e.clientY)}}const O0=T.ie&&T.ie_version<=11;let rl=null,sl=0,ol=0;function Nu(i){if(!O0)return i.detail;let e=rl,t=ol;return rl=i,ol=Date.now(),sl=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(sl+1)%3:1}function P0(i,e){let t=il(i,e),n=Nu(e),r=i.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,a){let l=il(i,s),c,h=tl(i,l.pos,l.bias,n);if(t.pos!=l.pos&&!o){let u=tl(i,t.pos,t.bias,n),d=Math.min(u.from,h.from),f=Math.max(u.to,h.to);h=d<h.from?F.range(d,f):F.range(f,d)}return o?r.replaceRange(r.main.extend(h.from,h.to)):a&&n==1&&r.ranges.length>1&&(c=N0(r,l.pos))?c:a?r.addRange(h):F.create([h])}}}function N0(i,e){for(let t=0;t<i.ranges.length;t++){let{from:n,to:r}=i.ranges[t];if(n<=e&&r>=e)return F.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}st.dragstart=(i,e)=>{let{selection:{main:t}}=i.state;if(e.target.draggable){let r=i.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=t.to||o<=t.from)&&(t=F.range(s,o))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Wr(i.state,Uo,i.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};st.dragend=i=>(i.inputState.draggedContent=null,!1);function al(i,e,t,n){if(t=Wr(i.state,Ho,t),!t)return;let r=i.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=i.inputState,o=n&&s&&I0(i,e)?{from:s.from,to:s.to}:null,a={from:r,insert:t},l=i.state.changes(o?[o,a]:a);i.focus(),i.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),i.inputState.draggedContent=null}st.drop=(i,e)=>{if(!e.dataTransfer)return!1;if(i.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),r=0,s=()=>{++r==t.length&&al(i,e,n.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return al(i,e,n,!0),!0}return!1};st.paste=(i,e)=>{if(i.state.readOnly)return!0;i.observer.flush();let t=Ou?null:e.clipboardData;return t?(Pu(i,t.getData("text/plain")||t.getData("text/uri-list")),!0):(F0(i),!1)};function Q0(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function q0(i){let e=[],t=[],n=!1;for(let r of i.selection.ranges)r.empty||(e.push(i.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of i.selection.ranges){let o=i.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),r=o.number}n=!0}return{text:Wr(i,Uo,e.join(i.lineBreak)),ranges:t,linewise:n}}let eo=null;st.copy=st.cut=(i,e)=>{let{text:t,ranges:n,linewise:r}=q0(i.state);if(!t&&!r)return!1;eo=r?t:null,e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=Ou?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(Q0(i,t),!1)};const Qu=jn.define();function qu(i,e){let t=[];for(let n of i.facet(Eu)){let r=n(i,e);r&&t.push(r)}return t?i.update({effects:t,annotations:Qu.of(!0)}):null}function _u(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=qu(i.state,e);t?i.dispatch(t):i.update([])}},10)}Ge.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),_u(i)};Ge.blur=i=>{i.observer.clearSelectionRange(),_u(i)};Ge.compositionstart=Ge.compositionupdate=i=>{i.observer.editContext||(i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0))};Ge.compositionend=i=>{i.observer.editContext||(i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,T.chrome&&T.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50))};Ge.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};st.beforeinput=(i,e)=>{var t,n;if(e.inputType=="insertReplacementText"&&i.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=i.posAtDOM(a.startContainer,a.startOffset),c=i.posAtDOM(a.endContainer,a.endOffset);return zo(i,{from:l,to:c,insert:i.state.toText(s)},null),!0}}let r;if(T.chrome&&T.android&&(r=Lu.find(s=>s.inputType==e.inputType))&&(i.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return T.ios&&e.inputType=="deleteContentForward"&&i.observer.flushSoon(),T.safari&&e.inputType=="insertText"&&i.inputState.composing>=0&&setTimeout(()=>Ge.compositionend(i,e),20),!1};const ll=new Set;function _0(i){ll.has(i)||(ll.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const cl=["pre-wrap","normal","pre-line","break-spaces"];let On=!1;function hl(){On=!1}class H0{constructor(e){this.lineWrapping=e,this.doc=W.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return cl.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,n,r,s,o){let a=cl.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class U0{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class pt{constructor(e,t,n,r,s){this.from=e,this.length=t,this.top=n,this.height=r,this._content=s}get type(){return typeof this._content=="number"?yt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Kt?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new pt(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Z=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(Z||(Z={}));const ur=.001;class Te{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ur&&(On=!0),this.height=e)}replace(e,t,n){return Te.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let s=this,o=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:u}=r[a],d=s.lineAt(l,Z.ByPosNoHeight,n.setDoc(t),0,0),f=d.to>=c?d:s.lineAt(c,Z.ByPosNoHeight,n,0,0);for(u+=f.to-c,c=f.to;a>0&&d.from<=r[a-1].toA;)l=r[a-1].fromA,h=r[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Z.ByPosNoHeight,n,0,0));h+=d.from-l,l=d.from;let p=Go.build(n.setDoc(o),e,h,u);s=vr(s,s.replace(l,c,p))}return s.updateHeight(n,0)}static empty(){return new qe(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,r=0,s=0;for(;;)if(t==n)if(r>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),n+=1+a.break,r-=a.size}else if(s>r*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--n];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new j0(Te.of(e.slice(0,t)),o,Te.of(e.slice(n)))}}function vr(i,e){return i==e?i:(i.constructor!=e.constructor&&(On=!0),e)}Te.prototype.size=1;class Hu extends Te{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new pt(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,s){return this.blockAt(0,n,r,s)}forEachLine(e,t,n,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,n,r,s))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class qe extends Hu{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new pt(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return n.length==1&&(r instanceof qe||r instanceof be&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof be?r=new qe(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Te.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class be extends Te{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-n+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:n,lastLine:r,perLine:o,perChar:a}}blockAt(e,t,n,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let c=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),h=t.doc.lineAt(c),u=a+h.length*l,d=Math.max(n,e-u/2);return new pt(h.from,h.length,d,u,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-n)/a))),{from:h,length:u}=t.doc.line(s+c);return new pt(h,u,n+a*c,a,0)}}lineAt(e,t,n,r,s){if(t==Z.ByHeight)return this.blockAt(e,n,r,s);if(t==Z.ByPosNoHeight){let{from:f,to:p}=n.doc.lineAt(e);return new pt(f,p-f,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,s),c=n.doc.lineAt(e),h=a+c.length*l,u=c.number-o,d=r+a*u+l*(c.from-s-u);return new pt(c.from,c.length,Math.max(r,Math.min(d,r+this.height-h)),h,0)}forEachLine(e,t,n,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,s);for(let h=e,u=r;h<=t;){let d=n.doc.lineAt(h);if(h==e){let p=d.number-a;u+=l*p+c*(e-s-p)}let f=l+c*d.length;o(new pt(d.from,d.length,u,f,0)),u+=f,h=d.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let s=n[n.length-1];s instanceof be?n[n.length-1]=new be(s.length+r):n.push(null,new be(r-1))}if(e>0){let s=n[0];s instanceof be?n[0]=new be(e+s.length):n.unshift(new be(e-1),null)}return Te.of(n)}decomposeLeft(e,t){t.push(new be(e-1),null)}decomposeRight(e,t){t.push(null,new be(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),l=-1;for(r.from>t&&o.push(new be(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let u=r.heights[r.index++];l==-1?l=u:Math.abs(u-l)>=ur&&(l=-2);let d=new qe(h,u);d.outdated=!1,o.push(d),a+=h+1}a<=s&&o.push(null,new be(s-a).updateHeight(e,a));let c=Te.of(o);return(l<0||Math.abs(c.height-this.height)>=ur||Math.abs(l-this.heightMetrics(e,t).perLine)>=ur)&&(On=!0),vr(this,c)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class j0 extends Te{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,r){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,n,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=t==Z.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,n,r,s):this.right.lineAt(e,t,n,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==Z.ByPosNoHeight?Z.ByPosNoHeight:Z.ByPos;return l?c.join(this.right.lineAt(a,h,n,o,a)):this.left.lineAt(a,h,n,r,s).join(c)}forEachLine(e,t,n,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,n,r,s,o),t>=l&&this.right.forEachLine(e,t,n,a,l,o);else{let c=this.lineAt(l,Z.ByPos,n,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,n,r,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,n,a,l,o)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of n)s.push(a);if(e>0&&ul(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),ul(s,a)}return Te.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Te.of(this.break?[e,null,t]:[e,t]):(this.left=vr(this.left,e),this.right=vr(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return r&&r.from<=t+s.length&&r.more?l=s=s.updateHeight(e,t,n,r):s.updateHeight(e,t,n),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,n,r):o.updateHeight(e,a,n),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ul(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof be&&(n=i[e+1])instanceof be&&i.splice(e-1,3,new be(t.length+1+n.length))}const Y0=5;class Go{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof qe?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new qe(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new Hu(o,r,n)):(o||s||r>=Y0)&&this.addLineDeco(r,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new qe(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new be(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof qe)return e;let t=new qe(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof qe)&&!this.isCovered?this.nodes.push(new qe(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let r of this.nodes)r instanceof qe&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,t,n,r){let s=new Go(n,e);return ee.spans(t,n,r,s,0),s.finish(n)}}function W0(i,e,t){let n=new z0;return ee.compare(i,e,t,n,0),n.changes}class z0{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&cr(e,t,this.changes,5)}}function G0(i,e){let t=i.getBoundingClientRect(),n=i.ownerDocument,r=n.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let c=i.parentNode;c&&c!=n.body;)if(c.nodeType==1){let h=c,u=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&u.overflow!="visible"){let d=h.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(c==i.parentNode?r.innerHeight:l,d.bottom)}c=u.position=="absolute"||u.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function V0(i){let e=i.getBoundingClientRect(),t=i.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function J0(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class os{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return oe.replace({widget:new K0(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class K0 extends Yr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class dl{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=fl,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=pe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(jo).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new H0(t),this.stateDeco=e.facet(Ai).filter(n=>typeof n!="function"),this.heightMap=Te.empty().applyChanges(this.stateDeco,W.empty,this.heightOracle.setDoc(e.doc),[new We(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=oe.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new Ui(s,o))}}return this.viewports=e.sort((n,r)=>n.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?fl:new Vo(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(ti(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Ai).filter(h=>typeof h!="function");let r=e.changedRanges,s=We.extendWithRanges(r,W0(n,this.stateDeco,e?e.changes:me.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);hl(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||On)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(XA)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?pe.RTL:pe.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let{scaleX:w,scaleY:E}=Xh(t,a);(w>.005&&Math.abs(this.scaleX-w)>.005||E>.005&&Math.abs(this.scaleY-E)>.005)&&(this.scaleX=w,this.scaleY=E,c|=16,o=l=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=d)&&(this.paddingTop=u,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=tu(e.scrollDOM);let p=(this.printing?J0:G0)(t,this.paddingTop),A=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(l=!0)),!this.inView&&!this.scrollTarget&&!V0(e.dom))return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(w)&&(o=!0),o||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:E,charWidth:x,textHeight:y}=e.docView.measureTextSize();o=E>0&&r.refresh(s,E,x,y,v/x,w),o&&(e.docView.minWidth=0,c|=16)}A>0&&m>0?h=Math.max(A,m):A<0&&m<0&&(h=Math.min(A,m)),hl();for(let E of this.viewports){let x=E.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(E);this.heightMap=(o?Te.empty().applyChanges(this.stateDeco,W.empty,this.heightOracle,[new We(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new U0(E.from,x))}On&&(c|=2)}let B=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),c|=this.updateForViewport()),(c&2||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Ui(r.lineAt(o-n*1e3,Z.ByHeight,s,0,0).from,r.lineAt(a+(1-n)*1e3,Z.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=r.lineAt(c,Z.ByPos,s,0,0),d;t.y=="center"?d=(u.top+u.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?d=u.top:d=u.bottom-h,l=new Ui(r.lineAt(d-1e3/2,Z.ByHeight,s,0,0).from,r.lineAt(d+h+1e3/2,Z.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Ui(this.heightMap.lineAt(n,Z.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Z.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Z.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Z.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(n,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new os(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=pe.LTR&&!n)return[];let a=[],l=(h,u,d,f)=>{if(u-h<s)return;let p=this.state.selection.main,A=[p.from];p.empty||A.push(p.to);for(let g of A)if(g>h&&g<u){l(h,g-10,d,f),l(g+10,u,d,f);return}let m=X0(e,g=>g.from>=d.from&&g.to<=d.to&&Math.abs(g.from-h)<s&&Math.abs(g.to-u)<s&&!A.some(v=>g.from<v&&g.to>v));if(!m){if(u<d.to&&t&&n&&t.visibleRanges.some(B=>B.from<=u&&B.to>=u)){let B=t.moveToLineBoundary(F.cursor(u),!1,!0).head;B>h&&(u=B)}let g=this.gapSize(d,h,u,f),v=n||g<2e6?g:2e6;m=new os(h,u,g,v)}a.push(m)},c=h=>{if(h.length<o||h.type!=yt.Text)return;let u=$0(h.from,h.to,this.stateDeco);if(u.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(n){let A=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,g;if(d!=null){let v=Yi(u,d),B=((this.visibleBottom-this.visibleTop)/2+A)/h.height;m=v-B,g=v+B}else m=(this.visibleTop-h.top-A)/h.height,g=(this.visibleBottom-h.top+A)/h.height;f=ji(u,m),p=ji(u,g)}else{let A=u.total*this.heightOracle.charWidth,m=r*this.heightOracle.charWidth,g=0;if(A>2e6)for(let x of e)x.from>=h.from&&x.from<h.to&&x.size!=x.displaySize&&x.from*this.heightOracle.charWidth+g<this.pixelViewport.left&&(g=x.size-x.displaySize);let v=this.pixelViewport.left+g,B=this.pixelViewport.right+g,w,E;if(d!=null){let x=Yi(u,d),y=((B-v)/2+m)/A;w=x-y,E=x+y}else w=(v-m)/A,E=(B+m)/A;f=ji(u,w),p=ji(u,E)}f>h.from&&l(h.from,f,h,u),p<h.to&&l(p,h.to,h,u)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(c):c(h);return a}gapSize(e,t,n,r){let s=Yi(r,n)-Yi(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){os.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=oe.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];ee.spans(t,this.viewport.from,this.viewport.to,{span(s,o){n.push({from:s,to:o})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let s=0;s<n.length&&!(r&8);s++){let o=this.visibleRanges[s],a=n[s];(o.from!=a.from||o.to!=a.to)&&(r|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||ti(this.heightMap.lineAt(e,Z.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||ti(this.heightMap.lineAt(this.scaler.fromDOM(e),Z.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return ti(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ui{constructor(e,t){this.from=e,this.to=t}}function $0(i,e,t){let n=[],r=i,s=0;return ee.spans(t,i,e,{span(){},point(o,a){o>r&&(n.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(n.push({from:r,to:e}),s+=e-r),{total:s,ranges:n}}function ji({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(n<=a)return s+n;n-=a}}function Yi(i,e){let t=0;for(let{from:n,to:r}of i.ranges){if(e<=r){t+=e-n;break}t+=r-n}return t/i.total}function X0(i,e){for(let t of i)if(e(t))return t}const fl={toDOM(i){return i},fromDOM(i){return i},scale:1,eq(i){return i==this}};class Vo{constructor(e,t,n){let r=0,s=0,o=0;this.viewports=n.map(({from:a,to:l})=>{let c=t.lineAt(a,Z.ByPos,e,0,0).top,h=t.lineAt(l,Z.ByPos,e,0,0).bottom;return r+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,r=s.domBottom}}eq(e){return e instanceof Vo?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function ti(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new pt(i.from,i.length,t,n-t,Array.isArray(i._content)?i._content.map(r=>ti(r,e)):i._content)}const Wi=P.define({combine:i=>i.join(" ")}),to=P.define({combine:i=>i.indexOf(!0)>-1}),no=Jt.newName(),Uu=Jt.newName(),ju=Jt.newName(),Yu={"&light":"."+Uu,"&dark":"."+ju};function io(i,e,t){return new Jt(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,r=>{if(r=="&")return i;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):i+" "+n}})}const Z0=io("."+no,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Yu),ey={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},as=T.ie&&T.ie_version<=11;class ty{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new OA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(T.ie&&T.ie_version<=11||T.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(T.chrome&&T.chrome_version<126)&&(this.editContext=new iy(e),e.state.facet(Bt)&&(e.contentDOM.editContext=this.editContext.editContext)),as&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(Bt)?n.root.activeElement!=this.dom:!lr(this.dom,r))return;let s=r.anchorNode&&n.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(T.ie&&T.ie_version<=11||T.android&&T.chrome)&&!n.state.selection.main.empty&&r.focusNode&&li(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=gi(e.root);if(!t)return!1;let n=T.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&ny(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=lr(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&NA(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ey),as&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),as&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Cn(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&lr(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new y0(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=Fu(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=pl(t,e.previousSibling||e.target.previousSibling,-1),r=pl(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Bt)!=e.state.facet(Bt)&&(e.view.contentDOM.editContext=e.state.facet(Bt)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function pl(i,e,t){for(;e;){let n=$.get(e);if(n&&n.parent==i)return n;let r=e.parentNode;e=r!=i.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function gl(i,e){let t=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset,o=i.docView.domAtPos(i.state.selection.main.anchor);return li(o.node,o.offset,r,s)&&([t,n,r,s]=[r,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:s}}function ny(i,e){if(e.getComposedRanges){let r=e.getComposedRanges(i.root)[0];if(r)return gl(i,r)}let t=null;function n(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return i.contentDOM.addEventListener("beforeinput",n,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",n,!0),t?gl(i,t):null}class iy{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let r=e.state.selection.main,{anchor:s,head:o}=r,a=this.toEditorPos(n.updateRangeStart),l=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:W.of(n.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let h=F.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));h.main.eq(r)||e.dispatch({selection:h,userEvent:"select"});return}if((T.mac||T.android)&&c.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:W.of([n.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let h=this.to-this.from+(c.to-c.from+c.insert.length);zo(e,c,F.single(this.toEditorPos(n.selectionStart,h),this.toEditorPos(n.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let r=[],s=null;for(let o=this.toEditorPos(n.rangeStart),a=this.toEditorPos(n.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=n=>{let r=[];for(let s of n.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let h=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(oe.mark({attributes:{style:h}}).range(l,c))}}}e.dispatch({effects:ku.of(oe.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let r=gi(n.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(n)return;let h=c.length-(o-s);if(r&&o>=r.to)if(r.from==s&&r.to==o&&r.insert.eq(c)){r=this.pendingContextChange=null,t+=h,this.to+=h;return}else r=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=h}t+=h}),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Q{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(r=>r.forEach(s=>n(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||PA(e.parent)||document,this.viewState=new dl(e.state||G.create(e)),e.scrollTo&&e.scrollTo.is(qi)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Xn).map(r=>new is(r));for(let r of this.plugins)r.update(this);this.observer=new ty(this),this.inputState=new E0(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ga(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ke?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,r,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(Qu))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=qu(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(G.phrases)!=this.state.facet(G.phrases))return this.setState(s);r=wr.create(this,s,e),r.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(u&&(u=u.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;u=new Bn(f.empty?f:F.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(qi)&&(u=f.value.clip(this.state))}this.viewState.update(r,u),this.bidiCache=xr.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Zn)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Wi)!=r.state.facet(Wi)&&(this.viewState.mustMeasureContent=!0),(t||n||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let d of this.state.facet(Xs))try{d(r)}catch(f){je(this.state,f,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!Fu(this,h)&&c.force&&Cn(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new dl(e),this.plugins=e.facet(Xn).map(n=>new is(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new Ga(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Xn),n=e.state.facet(Xn);if(t!=n){let r=[];for(let s of n){let o=t.indexOf(s);if(o<0)r.push(new is(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){je(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(tu(n))s=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(r);s=f.from,o=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(f=>{try{return f.read(this)}catch(p){return je(this.state,p),ml}}),u=wr.create(this,this.state,[]),d=!1;u.flags|=l,t?t.flags|=l:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),d=this.docView.update(u),d&&this.docViewUpdate());for(let f=0;f<c.length;f++)if(h[f]!=ml)try{let p=c[f];p.write&&p.write(h[f],this)}catch(p){je(this.state,p)}if(d&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){r=r+p,n.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Xs))a(t)}get themeClasses(){return no+" "+(this.state.facet(to)?ju:Uu)+" "+this.state.facet(Wi)}updateAttrs(){let e=Al(this,Su,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Bt)?"true":"false",class:"cm-content",style:`${T.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Al(this,jo,t);let n=this.observer.ignore(()=>{let r=Gs(this.contentDOM,this.contentAttrs,t),s=Gs(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let r of n.effects)if(r.is(Q.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Zn);let e=this.state.facet(Q.cspNonce);Jt.mount(this.root,this.styleModules.concat(Z0).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return ss(this,e,Xa(this,e,t,n))}moveByGroup(e,t){return ss(this,e,Xa(this,e,t,n=>p0(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return F.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return f0(this,e,t,n)}moveVertically(e,t,n){return ss(this,e,g0(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Tu(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[Yt.find(s,e-r.from,-1,t)];return Ur(n,o.dir==pe.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Cu)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>ry)return mu(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||gu(s.isolates,n=za(this,e))))return s.order;n||(n=za(this,e));let r=JA(e.text,t,n);return this.bidiCache.push(new xr(e.from,e.to,t,n,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||T.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Zh(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return qi.of(new Bn(typeof e=="number"?F.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return qi.of(new Bn(F.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return rt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return rt.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=Jt.newName(),r=[Wi.of(n),Zn.of(io(`.${n}`,e))];return t&&t.dark&&r.push(to.of(!0)),r}static baseTheme(e){return _h.lowest(Zn.of(io("."+no,e,Yu)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&$.get(n)||$.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}Q.styleModule=Zn;Q.inputHandler=xu;Q.clipboardInputFilter=Ho;Q.clipboardOutputFilter=Uo;Q.scrollHandler=Bu;Q.focusChangeEffect=Eu;Q.perLineTextDirection=Cu;Q.exceptionSink=vu;Q.updateListener=Xs;Q.editable=Bt;Q.mouseSelectionStyle=wu;Q.dragMovesSelection=bu;Q.clickAddsSelectionRange=yu;Q.decorations=Ai;Q.outerDecorations=Mu;Q.atomicRanges=Yo;Q.bidiIsolatedRanges=Du;Q.scrollMargins=Iu;Q.darkTheme=to;Q.cspNonce=P.define({combine:i=>i.length?i[0]:""});Q.contentAttributes=jo;Q.editorAttributes=Su;Q.lineWrapping=Q.contentAttributes.of({class:"cm-lineWrapping"});Q.announce=ne.define();const ry=4096,ml={};class xr{constructor(e,t,n,r,s,o){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],r=e.length?e[e.length-1].dir:pe.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&n.push(new xr(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function Al(i,e,t){for(let n=i.state.facet(e),r=n.length-1;r>=0;r--){let s=n[r],o=typeof s=="function"?s(i):s;o&&zs(o,t)}return t}const sy=!(T.ios&&T.webkit&&T.webkit_version<534),yl={".cm-line":{},".cm-content":{}};sy&&(yl[".cm-line"].caretColor=yl[".cm-content"].caretColor="transparent !important");const Jn="-10000px";class Wu{constructor(e,t,n,r){this.facet=t,this.createTooltipView=n,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=n(o,s))}update(e,t){var n;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],h=-1;if(c){for(let u=0;u<this.tooltips.length;u++){let d=this.tooltips[u];d&&d.create==c.create&&(h=u)}if(h<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let u=o[l]=this.tooltipViews[h];a&&(a[l]=t[h]),u.update&&u.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(n=l.destroy)===null||n===void 0||n.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function oy(i){let e=i.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ls=P.define({combine:i=>{var e,t,n;return{position:T.ios?"absolute":((e=i.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=i.find(r=>r.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||oy}}}),bl=new WeakMap,zu=rt.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=i.state.facet(ls);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Wu(i,Gu,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i,this.above);e&&this.observeIntersection();let t=e||i.geometryChanged,n=i.state.facet(ls);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i,e){let t=i.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),i.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top=Jn,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var i,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(i=n.destroy)===null||i===void 0||i.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(T.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Jn&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(i=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),r=Wo(this.view);return{visible:{left:n.left+r.left,top:n.top+r.top,right:n.right-r.right,bottom:n.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(ls).tooltipSpace(this.view),scaleX:i,scaleY:e,makeAbsolute:t}}writeMeasure(i){var e;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:n,scaleX:r,scaleY:s}=i,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,u=i.pos[a],d=i.size[a];if(!u||l.clip!==!1&&(u.bottom<=Math.max(t.top,n.top)||u.top>=Math.min(t.bottom,n.bottom)||u.right<Math.max(t.left,n.left)-.1||u.left>Math.min(t.right,n.right)+.1)){h.style.top=Jn;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,A=d.right-d.left,m=(e=bl.get(c))!==null&&e!==void 0?e:d.bottom-d.top,g=c.offset||ly,v=this.view.textDirection==pe.LTR,B=d.width>n.right-n.left?v?n.left:n.right-d.width:v?Math.max(n.left,Math.min(u.left-(f?14:0)+g.x,n.right-A)):Math.min(Math.max(n.left,u.left-A+(f?14:0)-g.x),n.right-A),w=this.above[a];!l.strictSide&&(w?u.top-m-p-g.y<n.top:u.bottom+m+p+g.y>n.bottom)&&w==n.bottom-u.bottom>u.top-n.top&&(w=this.above[a]=!w);let E=(w?u.top-n.top:n.bottom-u.bottom)-p;if(E<m&&c.resize!==!1){if(E<this.view.defaultLineHeight){h.style.top=Jn;continue}bl.set(c,m),h.style.height=(m=E)/s+"px"}else h.style.height&&(h.style.height="");let x=w?u.top-m-p-g.y:u.bottom+p+g.y,y=B+A;if(c.overlap!==!0)for(let b of o)b.left<y&&b.right>B&&b.top<x+m&&b.bottom>x&&(x=w?b.top-m-2-p:b.bottom+p+2);if(this.position=="absolute"?(h.style.top=(x-i.parent.top)/s+"px",wl(h,(B-i.parent.left)/r)):(h.style.top=x/s+"px",wl(h,B/r)),f){let b=u.left+(v?g.x:-g.x)-(B+14-7);f.style.left=b/r+"px"}c.overlap!==!0&&o.push({left:B,top:x,right:y,bottom:x+m}),h.classList.toggle("cm-tooltip-above",w),h.classList.toggle("cm-tooltip-below",!w),c.positioned&&c.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=Jn}},{eventObservers:{scroll(){this.maybeMeasure()}}});function wl(i,e){let t=parseInt(i.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(i.style.left=e+"px")}const ay=Q.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ly={x:0,y:0},Gu=P.define({enables:[zu,ay]}),Er=P.define({combine:i=>i.reduce((e,t)=>e.concat(t),[])});class zr{static create(e){return new zr(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Wu(e,Er,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const cy=Gu.compute([Er],i=>{let e=i.facet(Er);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:zr.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class hy{constructor(e,t,n,r,s){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,s=1;if(n instanceof jt)r=n.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let a=e.coordsAtPos(r);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(h=>h.from<=r&&h.to>=r),c=l&&l.dir==pe.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>je(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(zu),t=e?e.manager.tooltips.findIndex(n=>n.create==zr.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!uy(s.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,a=(n=(t=r[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!dy(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const zi=4;function uy(i,e){let{left:t,right:n,top:r,bottom:s}=i.getBoundingClientRect(),o;if(o=i.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();r=Math.min(a.top,r),s=Math.max(a.bottom,s)}return e.clientX>=t-zi&&e.clientX<=n+zi&&e.clientY>=r-zi&&e.clientY<=s+zi}function dy(i,e,t,n,r,s){let o=i.scrollDOM.getBoundingClientRect(),a=i.documentTop+i.documentPadding.top+i.contentHeight;if(o.left>n||o.right<n||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=i.posAtCoords({x:n,y:r},!1);return l>=e&&l<=t}function fy(i,e={}){let t=ne.define(),n=Lt.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of r){let l=s.changes.mapPos(a.pos,-1,Le.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}r=o}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(py)&&(r=[]);return r},provide:r=>Er.from(r)});return{active:n,extension:[n,rt.define(r=>new hy(r,i,n,t,e.hoverTime||300)),cy]}}const py=ne.define(),vl=P.define({combine(i){let e,t;for(let n of i)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}}),gy=rt.fromClass(class{constructor(i){this.input=i.state.facet(ro),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(vl);this.top=new Gi(i,!0,e.topContainer),this.bottom=new Gi(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(vl);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Gi(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Gi(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(ro);if(t!=this.input){let n=t.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of n){let c=this.specs.indexOf(l),h;c<0?(h=l(i.view),a.push(h)):(h=this.panels[c],h.update&&h.update(i)),r.push(h),(h.top?s:o).push(h)}this.specs=n,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>Q.scrollMargins.of(e=>{let t=e.plugin(i);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Gi{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=xl(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=xl(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function xl(i){let e=i.nextSibling;return i.remove(),e}const ro=P.define({enables:gy});class Pn extends In{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Pn.prototype.elementClass="";Pn.prototype.toDOM=void 0;Pn.prototype.mapMode=Le.TrackBefore;Pn.prototype.startSide=Pn.prototype.endSide=-1;Pn.prototype.point=!0;const my=1024;let Ay=0;class cs{constructor(e,t){this.from=e,this.to=t}}class X{constructor(e={}){this.id=Ay++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ve.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}X.closedBy=new X({deserialize:i=>i.split(" ")});X.openedBy=new X({deserialize:i=>i.split(" ")});X.group=new X({deserialize:i=>i.split(" ")});X.isolate=new X({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});X.contextHash=new X({perNode:!0});X.lookAhead=new X({perNode:!0});X.mounted=new X({perNode:!0});class Cr{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[X.mounted.id]}}const yy=Object.create(null);class Ve{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):yy,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ve(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(X.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return n=>{for(let r=n.prop(X.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?n.name:r[s]];if(o)return o}}}}Ve.none=new Ve("",Object.create(null),0,8);const Vi=new WeakMap,El=new WeakMap;var ve;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(ve||(ve={}));class Se{constructor(e,t,n,r,s){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Cr.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let r=n.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new oo(this.topNode,e)}cursorAt(e,t=0,n=0){let r=Vi.get(this)||this.topNode,s=new oo(r);return s.moveTo(e,t),Vi.set(this,s._tree),s}get topNode(){return new ze(this,0,0,null)}resolve(e,t=0){let n=yi(Vi.get(this)||this.topNode,e,t,!1);return Vi.set(this,n),n}resolveInner(e,t=0){let n=yi(El.get(this)||this.topNode,e,t,!0);return El.set(this,n),n}resolveStack(e,t=0){return vy(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&ve.IncludeAnonymous)>0;for(let l=this.cursor(o|ve.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:$o(Ve.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,r)=>new Se(this.type,t,n,r,this.propValues),e.makeTree||((t,n,r)=>new Se(Ve.none,t,n,r)))}static build(e){return xy(e)}}Se.empty=new Se(Ve.none,[],[],0);class Jo{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Jo(this.buffer,this.index)}}class $t{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Ve.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,n,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Vu(s,r,o[l+1],o[l+2])&&(a=l,n>0));l=o[l+3]);return a}slice(e,t,n){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=r[a++],s[l++]=r[a++]-n;let c=s[l++]=r[a++]-n;s[l++]=r[a++]-e,o=Math.max(o,c)}return new $t(s,o,this.set)}}function Vu(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function yi(i,e,t,n){for(var r;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!n&&i instanceof ze&&i.index<0?null:i.parent;if(!o)return i;i=o}let s=n?0:ve.IgnoreOverlays;if(n)for(let o=i,a=o.parent;a;o=a,a=o.parent)o instanceof ze&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(i=a);for(;;){let o=i.enter(e,t,s);if(!o)return i;i=o}}class Ju{cursor(e=0){return new oo(this,e)}getChild(e,t=null,n=null){let r=Cl(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return Cl(this,e,t,n)}resolve(e,t=0){return yi(this,e,t,!1)}resolveInner(e,t=0){return yi(this,e,t,!0)}matchContext(e){return so(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}get node(){return this}get next(){return this.parent}}class ze extends Ju{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],u=l[e]+o.from;if(Vu(r,n,u,u+h.length)){if(h instanceof $t){if(s&ve.ExcludeBuffers)continue;let d=h.findChild(0,h.buffer.length,t,n-u,r);if(d>-1)return new Wt(new by(o,h,e,u),null,d)}else if(s&ve.IncludeAnonymous||!h.type.isAnonymous||Ko(h)){let d;if(!(s&ve.IgnoreMounts)&&(d=Cr.get(h))&&!d.overlay)return new ze(d.tree,u,e,o);let f=new ze(h,u,e,o);return s&ve.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?h.children.length-1:0,t,n,r)}}}if(s&ve.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&ve.IgnoreOverlays)&&(r=Cr.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ze(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Cl(i,e,t,n){let r=i.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=r.type.is(t),!r.nextSibling())return s}for(;;){if(n!=null&&r.type.is(n))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return n==null?s:[]}}function so(i,e,t=e.length-1){for(let n=i;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class by{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class Wt extends Ju{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new Wt(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&ve.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Wt(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wt(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wt(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,s=n.buffer[this.index+3];if(s>r){let o=n.buffer[this.index+1];e.push(n.slice(r,s,o)),t.push(0)}return new Se(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Ku(i){if(!i.length)return null;let e=0,t=i[0];for(let s=1;s<i.length;s++){let o=i[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let n=t instanceof ze&&t.index<0?null:t.parent,r=i.slice();return n?r[e]=n:r.splice(e,1),new wy(r,t)}class wy{constructor(e,t){this.heads=e,this.node=t}get next(){return Ku(this.heads)}}function vy(i,e,t){let n=i.resolveInner(e,t),r=null;for(let s=n instanceof ze?n:n.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[n])).push(o.resolve(e,t)),s=o}else{let o=Cr.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new ze(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[n])).push(yi(a,e,t,!1))}}return r?Ku(r):n}class oo{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ze)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof ze?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&ve.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ve.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ve.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let a=n._tree.children[s];if(this.mode&ve.IncludeAnonymous||a instanceof $t||!a.type.isAnonymous||Ko(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=s+1;break e}r=this.stack[--s]}for(let r=n;r<this.stack.length;r++)t=new Wt(this.buffer,t,this.stack[r]);return this.bufferNode=new Wt(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return so(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return so(this._tree,e,r);let o=n[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Ko(i){return i.children.some(e=>e instanceof $t||!e.type.isAnonymous||Ko(e))}function xy(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:r=my,reused:s=[],minRepeatType:o=n.types.length}=i,a=Array.isArray(t)?new Jo(t,t.length):t,l=n.types,c=0,h=0;function u(E,x,y,b,S,k){let{id:M,start:C,end:I,size:N}=a,se=h,j=c;for(;N<0;)if(a.next(),N==-1){let Ne=s[M];y.push(Ne),b.push(C-E);return}else if(N==-3){c=M;return}else if(N==-4){h=M;return}else throw new RangeError(`Unrecognized record size: ${N}`);let q=l[M],ot,Pe,ge=C-E;if(I-C<=r&&(Pe=m(a.pos-x,S))){let Ne=new Uint16Array(Pe.size-Pe.skip),xe=a.pos-Pe.size,Fe=Ne.length;for(;a.pos>xe;)Fe=g(Pe.start,Ne,Fe);ot=new $t(Ne,I-Pe.start,n),ge=Pe.start-E}else{let Ne=a.pos-N;a.next();let xe=[],Fe=[],$e=M>=o?M:-1,Qe=0,Ot=I;for(;a.pos>Ne;)$e>=0&&a.id==$e&&a.size>=0?(a.end<=Ot-r&&(p(xe,Fe,C,Qe,a.end,Ot,$e,se,j),Qe=xe.length,Ot=a.end),a.next()):k>2500?d(C,Ne,xe,Fe):u(C,Ne,xe,Fe,$e,k+1);if($e>=0&&Qe>0&&Qe<xe.length&&p(xe,Fe,C,Qe,C,Ot,$e,se,j),xe.reverse(),Fe.reverse(),$e>-1&&Qe>0){let ki=f(q,j);ot=$o(q,xe,Fe,0,xe.length,0,I-C,ki,ki)}else ot=A(q,xe,Fe,I-C,se-I,j)}y.push(ot),b.push(ge)}function d(E,x,y,b){let S=[],k=0,M=-1;for(;a.pos>x;){let{id:C,start:I,end:N,size:se}=a;if(se>4)a.next();else{if(M>-1&&I<M)break;M<0&&(M=N-r),S.push(C,I,N),k++,a.next()}}if(k){let C=new Uint16Array(k*4),I=S[S.length-2];for(let N=S.length-3,se=0;N>=0;N-=3)C[se++]=S[N],C[se++]=S[N+1]-I,C[se++]=S[N+2]-I,C[se++]=se;y.push(new $t(C,S[2]-I,n)),b.push(I-E)}}function f(E,x){return(y,b,S)=>{let k=0,M=y.length-1,C,I;if(M>=0&&(C=y[M])instanceof Se){if(!M&&C.type==E&&C.length==S)return C;(I=C.prop(X.lookAhead))&&(k=b[M]+C.length+I)}return A(E,y,b,S,k,x)}}function p(E,x,y,b,S,k,M,C,I){let N=[],se=[];for(;E.length>b;)N.push(E.pop()),se.push(x.pop()+y-S);E.push(A(n.types[M],N,se,k-S,C-k,I)),x.push(S-y)}function A(E,x,y,b,S,k,M){if(k){let C=[X.contextHash,k];M=M?[C].concat(M):[C]}if(S>25){let C=[X.lookAhead,S];M=M?[C].concat(M):[C]}return new Se(E,x,y,b,M)}function m(E,x){let y=a.fork(),b=0,S=0,k=0,M=y.end-r,C={size:0,start:0,skip:0};e:for(let I=y.pos-E;y.pos>I;){let N=y.size;if(y.id==x&&N>=0){C.size=b,C.start=S,C.skip=k,k+=4,b+=4,y.next();continue}let se=y.pos-N;if(N<0||se<I||y.start<M)break;let j=y.id>=o?4:0,q=y.start;for(y.next();y.pos>se;){if(y.size<0)if(y.size==-3)j+=4;else break e;else y.id>=o&&(j+=4);y.next()}S=q,b+=N,k+=j}return(x<0||b==E)&&(C.size=b,C.start=S,C.skip=k),C.size>4?C:void 0}function g(E,x,y){let{id:b,start:S,end:k,size:M}=a;if(a.next(),M>=0&&b<o){let C=y;if(M>4){let I=a.pos-(M-4);for(;a.pos>I;)y=g(E,x,y)}x[--y]=C,x[--y]=k-E,x[--y]=S-E,x[--y]=b}else M==-3?c=b:M==-4&&(h=b);return y}let v=[],B=[];for(;a.pos>0;)u(i.start||0,i.bufferStart||0,v,B,-1,0);let w=(e=i.length)!==null&&e!==void 0?e:v.length?B[0]+v[0].length:0;return new Se(l[i.topID],v.reverse(),B.reverse(),w)}const Bl=new WeakMap;function dr(i,e){if(!i.isAnonymous||e instanceof $t||e.type!=i)return 1;let t=Bl.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof Se)){t=1;break}t+=dr(i,n)}Bl.set(e,t)}return t}function $o(i,e,t,n,r,s,o,a,l){let c=0;for(let p=n;p<r;p++)c+=dr(i,e[p]);let h=Math.ceil(c*1.5/8),u=[],d=[];function f(p,A,m,g,v){for(let B=m;B<g;){let w=B,E=A[B],x=dr(i,p[B]);for(B++;B<g;B++){let y=dr(i,p[B]);if(x+y>=h)break;x+=y}if(B==w+1){if(x>h){let y=p[w];f(y.children,y.positions,0,y.children.length,A[w]+v);continue}u.push(p[w])}else{let y=A[B-1]+p[B-1].length-E;u.push($o(i,p,A,w,B,E,y,null,l))}d.push(E+v-s)}}return f(e,t,n,r,0),(a||l)(u,d,o)}class hn{constructor(e,t,n,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let r=[new hn(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,u=h?h.fromA:1e9;if(u-l>=n)for(;o&&o.from<u;){let d=o;if(l>=d.from||u<=d.to||c){let f=Math.max(d.from,l)-c,p=Math.min(d.to,u)-c;d=f>=p?null:new hn(f,p,d.tree,d.offset+c,a>0,!!h)}if(d&&r.push(d),o.to>u)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return r}}class Ey{startParse(e,t,n){return typeof e=="string"&&(e=new Cy(e)),n=n?n.length?n.map(r=>new cs(r.from,r.to)):[new cs(0,0)]:[new cs(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let s=r.advance();if(s)return s}}}class Cy{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new X({perNode:!0});let By=0;class He{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=By++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof He&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new He(n,[],null,[]);if(r.set.push(r),t)for(let s of t.set)r.set.push(s);return r}static defineModifier(e){let t=new Br(e);return n=>n.modified.indexOf(t)>-1?n:Br.get(n.base||n,n.modified.concat(t).sort((r,s)=>r.id-s.id))}}let ky=0;class Br{constructor(e){this.name=e,this.instances=[],this.id=ky++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(a=>a.base==e&&Sy(t,a.modified));if(n)return n;let r=[],s=new He(e.name,r,e,t);for(let a of t)a.instances.push(s);let o=My(t);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(Br.get(a,l));return s}}function Sy(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function My(i){let e=[[]];for(let t=0;t<i.length;t++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(i[t]));return e.sort((t,n)=>n.length-t.length)}function Dy(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let u=0;;){if(a=="..."&&u>0&&u+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),u+=d[0].length,u==r.length)break;let f=r[u++];if(u==r.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+r);a=r.slice(u)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let h=new kr(n,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return $u.add(e)}const $u=new X;class kr{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}kr.empty=new kr([],2,null);function Xu(i,e){let t=Object.create(null);for(let s of i)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:n,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:n}}function Iy(i,e){let t=null;for(let n of i){let r=n.style(e);r&&(t=t?t+" "+r:r)}return t}function Ry(i,e,t,n=0,r=i.length){let s=new Ty(n,Array.isArray(e)?e:[e],t);s.highlightRange(i.cursor(),n,r,"",s.highlighters),s.flush(r)}class Ty{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,s){let{type:o,from:a,to:l}=e;if(a>=n||l<=t)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let c=r,h=Fy(e)||kr.empty,u=Iy(s,h.tags);if(u&&(c&&(c+=" "),c+=u,h.mode==1&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,a),c),h.opaque)return;let d=e.tree&&e.tree.prop(X.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(m=>!m.scope||m.scope(d.tree.type)),A=e.firstChild();for(let m=0,g=a;;m++){let v=m<d.overlay.length?d.overlay[m]:null,B=v?v.from+a:l,w=Math.max(t,g),E=Math.min(n,B);if(w<E&&A)for(;e.from<E&&(this.highlightRange(e,w,E,r,s),this.startSpan(Math.min(E,e.to),c),!(e.to>=B||!e.nextSibling())););if(!v||B>n)break;g=v.to+a,g>t&&(this.highlightRange(f.cursor(),Math.max(t,v.from+a),Math.min(n,g),"",p),this.startSpan(Math.min(n,g),c))}A&&e.parent()}else if(e.firstChild()){d&&(r="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,s),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function Fy(i){let e=i.type.prop($u);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const R=He.define,Ji=R(),_t=R(),kl=R(_t),Sl=R(_t),Ht=R(),Ki=R(Ht),hs=R(Ht),dt=R(),sn=R(dt),ct=R(),ht=R(),ao=R(),Kn=R(ao),$i=R(),O={comment:Ji,lineComment:R(Ji),blockComment:R(Ji),docComment:R(Ji),name:_t,variableName:R(_t),typeName:kl,tagName:R(kl),propertyName:Sl,attributeName:R(Sl),className:R(_t),labelName:R(_t),namespace:R(_t),macroName:R(_t),literal:Ht,string:Ki,docString:R(Ki),character:R(Ki),attributeValue:R(Ki),number:hs,integer:R(hs),float:R(hs),bool:R(Ht),regexp:R(Ht),escape:R(Ht),color:R(Ht),url:R(Ht),keyword:ct,self:R(ct),null:R(ct),atom:R(ct),unit:R(ct),modifier:R(ct),operatorKeyword:R(ct),controlKeyword:R(ct),definitionKeyword:R(ct),moduleKeyword:R(ct),operator:ht,derefOperator:R(ht),arithmeticOperator:R(ht),logicOperator:R(ht),bitwiseOperator:R(ht),compareOperator:R(ht),updateOperator:R(ht),definitionOperator:R(ht),typeOperator:R(ht),controlOperator:R(ht),punctuation:ao,separator:R(ao),bracket:Kn,angleBracket:R(Kn),squareBracket:R(Kn),paren:R(Kn),brace:R(Kn),content:dt,heading:sn,heading1:R(sn),heading2:R(sn),heading3:R(sn),heading4:R(sn),heading5:R(sn),heading6:R(sn),contentSeparator:R(dt),list:R(dt),quote:R(dt),emphasis:R(dt),strong:R(dt),link:R(dt),monospace:R(dt),strikethrough:R(dt),inserted:R(),deleted:R(),changed:R(),invalid:R(),meta:$i,documentMeta:R($i),annotation:R($i),processingInstruction:R($i),definition:He.defineModifier("definition"),constant:He.defineModifier("constant"),function:He.defineModifier("function"),standard:He.defineModifier("standard"),local:He.defineModifier("local"),special:He.defineModifier("special")};for(let i in O){let e=O[i];e instanceof He&&(e.name=i)}Xu([{tag:O.link,class:"tok-link"},{tag:O.heading,class:"tok-heading"},{tag:O.emphasis,class:"tok-emphasis"},{tag:O.strong,class:"tok-strong"},{tag:O.keyword,class:"tok-keyword"},{tag:O.atom,class:"tok-atom"},{tag:O.bool,class:"tok-bool"},{tag:O.url,class:"tok-url"},{tag:O.labelName,class:"tok-labelName"},{tag:O.inserted,class:"tok-inserted"},{tag:O.deleted,class:"tok-deleted"},{tag:O.literal,class:"tok-literal"},{tag:O.string,class:"tok-string"},{tag:O.number,class:"tok-number"},{tag:[O.regexp,O.escape,O.special(O.string)],class:"tok-string2"},{tag:O.variableName,class:"tok-variableName"},{tag:O.local(O.variableName),class:"tok-variableName tok-local"},{tag:O.definition(O.variableName),class:"tok-variableName tok-definition"},{tag:O.special(O.variableName),class:"tok-variableName2"},{tag:O.definition(O.propertyName),class:"tok-propertyName tok-definition"},{tag:O.typeName,class:"tok-typeName"},{tag:O.namespace,class:"tok-namespace"},{tag:O.className,class:"tok-className"},{tag:O.macroName,class:"tok-macroName"},{tag:O.propertyName,class:"tok-propertyName"},{tag:O.operator,class:"tok-operator"},{tag:O.comment,class:"tok-comment"},{tag:O.meta,class:"tok-meta"},{tag:O.invalid,class:"tok-invalid"},{tag:O.punctuation,class:"tok-punctuation"}]);var us;const ni=new X,Ly=new X;class mt{constructor(e,t,n=[],r=""){this.data=e,this.name=r,G.prototype.hasOwnProperty("tree")||Object.defineProperty(G.prototype,"tree",{get(){return Nn(this)}}),this.parser=t,this.extension=[qn.of(this),G.languageData.of((s,o,a)=>{let l=Ml(s,o,a),c=l.type.prop(ni);if(!c)return[];let h=s.facet(c),u=l.type.prop(Ly);if(u){let d=l.resolve(o-l.from,a);for(let f of u)if(f.test(d,s)){let p=s.facet(f.facet);return f.type=="replace"?p:p.concat(h)}}return h})].concat(n)}isActiveAt(e,t,n=-1){return Ml(e,t,n).type.prop(ni)==this.data}findRegions(e){let t=e.facet(qn);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(s,o)=>{if(s.prop(ni)==this.data){n.push({from:o,to:o+s.length});return}let a=s.prop(X.mounted);if(a){if(a.tree.prop(ni)==this.data){if(a.overlay)for(let l of a.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+s.length});return}else if(a.overlay){let l=n.length;if(r(a.tree,a.overlay[0].from+o),n.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Se&&r(c,s.positions[l]+o)}};return r(Nn(e),0),n}get allowsNesting(){return!0}}mt.setState=ne.define();function Ml(i,e,t){let n=i.facet(qn),r=Nn(i).topNode;if(!n||n.allowsNesting)for(let s=r;s;s=s.enter(e,t,ve.ExcludeBuffers))s.type.isTop&&(r=s);return r}function Nn(i){let e=i.field(mt.state,!1);return e?e.tree:Se.empty}class Oy{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let $n=null;class Sr{constructor(e,t,n=[],r,s,o,a,l){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Sr(e,t,[],Se.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Oy(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Se.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(hn.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(hn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=$n;$n=this;try{return e()}finally{$n=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Dl(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,u,d)=>l.push({fromA:c,toA:h,fromB:u,toB:d})),n=hn.applyChanges(n,l),r=Se.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);h<u&&a.push({from:h,to:u})}}}return new Sr(this.parser,t,n,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:s}=this.skipped[n];r<e.to&&s>e.from&&(this.fragments=Dl(this.fragments,r,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ey{createParse(t,n,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=$n;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Se(Ve.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return $n}}function Dl(i,e,t){return hn.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class Qn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Qn(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Sr.create(e.facet(qn).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Qn(n)}}mt.state=Lt.define({create:Qn.init,update(i,e){for(let t of e.effects)if(t.is(mt.setState))return t.value;return e.startState.facet(qn)!=e.state.facet(qn)?Qn.init(e.state):i.apply(e)}});let Zu=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Zu=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const ds=typeof navigator<"u"&&(!((us=navigator.scheduling)===null||us===void 0)&&us.isInputPending)?()=>navigator.scheduling.isInputPending():null,Py=rt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(mt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(mt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Zu(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,s=n.field(mt.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!ds?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&n.doc.length>r+1e3,l=s.context.work(()=>ds&&ds()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:mt.setState.of(new Qn(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>je(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qn=P.define({combine(i){return i.length?i[0]:null},enables:i=>[mt.state,Py,Q.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class Gr{constructor(e,t){this.specs=e;let n;function r(a){let l=Jt.newName();return(n||(n=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof mt?a=>a.prop(ni)==o.data:o?a=>a==o:void 0,this.style=Xu(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=n?new Jt(n):null,this.themeType=t.themeType}static define(e,t){return new Gr(e,t||{})}}const lo=P.define(),Ny=P.define({combine(i){return i.length?[i[0]]:null}});function fs(i){let e=i.facet(lo);return e.length?e:i.facet(Ny)}function Qy(i,e){let t=[_y],n;return i instanceof Gr&&(i.module&&t.push(Q.styleModule.of(i.module)),n=i.themeType),n?t.push(lo.computeN([Q.darkTheme],r=>r.facet(Q.darkTheme)==(n=="dark")?[i]:[])):t.push(lo.of(i)),t}class qy{constructor(e){this.markCache=Object.create(null),this.tree=Nn(e.state),this.decorations=this.buildDeco(e,fs(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Nn(e.state),n=fs(e.state),r=n!=fs(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!r&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return oe.none;let n=new Rn;for(let{from:r,to:s}of e.visibleRanges)Ry(this.tree,t,(o,a,l)=>{n.add(o,a,this.markCache[l]||(this.markCache[l]=oe.mark({class:l})))},r,s);return n.finish()}}const _y=_h.high(rt.fromClass(qy,{decorations:i=>i.decorations})),Hy=Object.create(null),Il=[Ve.none],Rl=[],Tl=Object.create(null),Uy=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Uy[i]=jy(Hy,e);function ps(i,e){Rl.indexOf(i)>-1||(Rl.push(i),console.warn(e))}function jy(i,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let h=i[c]||O[c];h?typeof h=="function"?l.length?l=l.map(h):ps(c,`Modifier ${c} used at start of tag`):l.length?ps(c,`Tag ${c} used as modifier`):l=Array.isArray(h)?h:[h]:ps(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),r=n+" "+t.map(a=>a.id),s=Tl[r];if(s)return s.id;let o=Tl[r]=Ve.define({id:Il.length,name:n,props:[Dy({[n]:t})]});return Il.push(o),o.id}pe.RTL,pe.LTR;function gt(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];typeof r=="string"?i.setAttribute(n,r):r!=null&&(i[n]=r)}e++}for(;e<arguments.length;e++)ed(i,arguments[e]);return i}function ed(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)ed(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}class Fl{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class an{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=e,s=n.facet(At).markerFilter;s&&(r=s(r,n));let o=e.slice().sort((u,d)=>u.from-d.from||u.to-d.to),a=new Rn,l=[],c=0;for(let u=0;;){let d=u==o.length?null:o[u];if(!d&&!l.length)break;let f,p;for(l.length?(f=c,p=l.reduce((m,g)=>Math.min(m,g.to),d&&d.from>f?d.from:1e8)):(f=d.from,p=d.to,l.push(d),u++);u<o.length;){let m=o[u];if(m.from==f&&(m.to>m.from||m.to==f))l.push(m),u++,p=Math.min(m.to,p);else{p=Math.min(m.from,p);break}}let A=ib(l);if(l.some(m=>m.from==m.to||m.from==m.to-1&&n.doc.lineAt(m.from).to==m.from))a.add(f,f,oe.widget({widget:new Zy(A),diagnostics:l.slice()}));else{let m=l.reduce((g,v)=>v.markClass?g+" "+v.markClass:g,"");a.add(f,p,oe.mark({class:"cm-lintRange cm-lintRange-"+A+m,diagnostics:l.slice(),inclusiveEnd:l.some(g=>g.to>p)}))}c=p;for(let m=0;m<l.length;m++)l[m].to<=c&&l.splice(m--,1)}let h=a.finish();return new an(h,t,_n(h))}}function _n(i,e=null,t=0){let n=null;return i.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new Fl(r,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new Fl(n.from,s,n.diagnostic)}}),n}function Yy(i,e){let t=e.pos,n=e.end||t,r=i.state.facet(At).hideOn(i,t,n);if(r!=null)return r;let s=i.startState.doc.lineAt(e.pos);return!!(i.effects.some(o=>o.is(Xo))||i.changes.touchesRange(s.from,Math.max(s.to,n)))}function Wy(i,e){return i.field(nt,!1)?e:e.concat(ne.appendConfig.of(sd))}function zy(i,e){return{effects:Wy(i,[Xo.of(e)])}}const Xo=ne.define(),td=ne.define(),nd=ne.define(),nt=Lt.define({create(){return new an(oe.none,null,null)},update(i,e){if(e.docChanged&&i.diagnostics.size){let t=i.diagnostics.map(e.changes),n=null,r=i.panel;if(i.selected){let s=e.changes.mapPos(i.selected.from,1);n=_n(t,i.selected.diagnostic,s)||_n(t,null,s)}!t.size&&r&&e.state.facet(At).autoPanel&&(r=null),i=new an(t,r,n)}for(let t of e.effects)if(t.is(Xo)){let n=e.state.facet(At).autoPanel?t.value.length?Mr.open:null:i.panel;i=an.init(t.value,n,e.state)}else t.is(td)?i=new an(i.diagnostics,t.value?Mr.open:null,i.selected):t.is(nd)&&(i=new an(i.diagnostics,i.panel,t.value));return i},provide:i=>[ro.from(i,e=>e.panel),Q.decorations.from(i,e=>e.diagnostics)]}),Gy=oe.mark({class:"cm-lintRange cm-lintRange-active"});function Vy(i,e,t){let{diagnostics:n}=i.state.field(nt),r,s=-1,o=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:h})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return r=h.diagnostics,s=l,o=c,!1});let a=i.state.facet(At).tooltipFilter;return r&&a&&(r=a(r,i.state)),r?{pos:s,end:o,above:i.state.doc.lineAt(s).to<o,create(){return{dom:Jy(i,r)}}}:null}function Jy(i,e){return gt("ul",{class:"cm-tooltip-lint"},e.map(t=>rd(i,t,!1)))}const Ll=i=>{let e=i.state.field(nt,!1);return!e||!e.panel?!1:(i.dispatch({effects:td.of(!1)}),!0)},Ky=rt.fromClass(class{constructor(i){this.view=i,this.timeout=-1,this.set=!0;let{delay:e}=i.state.facet(At);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let i=Date.now();if(i<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-i);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(At);t.length&&$y(t.map(n=>Promise.resolve(n(this.view))),n=>{this.view.state.doc==e.doc&&this.view.dispatch(zy(this.view.state,n.reduce((r,s)=>r.concat(s))))},n=>{je(this.view.state,n)})}}update(i){let e=i.state.facet(At);(i.docChanged||e!=i.startState.facet(At)||e.needsRefresh&&e.needsRefresh(i))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function $y(i,e,t){let n=[],r=-1;for(let s of i)s.then(o=>{n.push(o),clearTimeout(r),n.length==i.length?e(n):r=setTimeout(()=>e(n),200)},t)}const At=P.define({combine(i){return Object.assign({sources:i.map(e=>e.source).filter(e=>e!=null)},MA(i.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function Xy(i,e={}){return[At.of({source:i,config:e}),Ky,sd]}function id(i){let e=[];if(i)e:for(let{name:t}of i){for(let n=0;n<t.length;n++){let r=t[n];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function rd(i,e,t){var n;let r=t?id(e.actions):[];return gt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},gt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(i):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let f=_n(i.state.field(nt).diagnostics,e);f&&s.apply(i,f.from,f.to)},{name:c}=s,h=r[o]?c.indexOf(r[o]):-1,u=h<0?c:[c.slice(0,h),gt("u",c.slice(h,h+1)),c.slice(h+1)];return gt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${h<0?"":` (access key "${r[o]})"`}.`},u)}),e.source&&gt("div",{class:"cm-diagnosticSource"},e.source))}class Zy extends Yr{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return gt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Ol{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=rd(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Mr{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)Ll(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=id(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=_n(this.view.state.field(nt).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},n=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=gt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=gt("div",{class:"cm-panel-lint"},this.list,gt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ll(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(nt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(nt),n=0,r=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let h of c.diagnostics){if(o.has(h))continue;o.add(h);let u=-1,d;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==h){u=f;break}u<0?(d=new Ol(this.view,h),this.items.splice(n,0,d),r=!0):(d=this.items[u],u>n&&(this.items.splice(n,u-n),r=!0)),t&&d.diagnostic==t.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ol(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(nt),n=_n(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:nd.of(n)})}static open(e){return new Mr(e)}}function eb(i,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(i)}</svg>')`}function Xi(i){return eb(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const tb=Q.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Xi("#d11")},".cm-lintRange-warning":{backgroundImage:Xi("orange")},".cm-lintRange-info":{backgroundImage:Xi("#999")},".cm-lintRange-hint":{backgroundImage:Xi("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function nb(i){return i=="error"?4:i=="warning"?3:i=="info"?2:1}function ib(i){let e="hint",t=1;for(let n of i){let r=nb(n.severity);r>t&&(t=r,e=n.severity)}return e}const sd=[nt,Q.decorations.compute([nt],i=>{let{selected:e,panel:t}=i.field(nt);return!e||!t||e.from==e.to?oe.none:oe.set([Gy.range(e.from,e.to)])}),fy(Vy,{hideOn:Yy}),tb];function rb(i){const e=[];return i.iterate({enter:t=>{const n=t.node;if(!n.type.isError)return;const r=n.parent,s=od(n),o={from:n.from,to:n.to,severity:"error",type:"Syntax Error"};if(n.from!==n.to)o.message=`Unrecognized token in <${r.name}>`;else if(s)o.message=`Unrecognized token <${s.name}> in <${r.name}>`,o.to=s.to;else{const a=r.enterUnfinishedNodesBefore(n.to);o.message=`Incomplete <${(a||r).name}>`}e.push(o)}}),e}function od(i){return i?i.nextSibling||od(i.parent):null}const sb="first-item";var ob={create(i){return{enter(e){if(e.name!=="FilterExpression")return;const t=i.readContent(e.from,e.to);if(Pl().test(t)){const{from:n,to:r}=e;i.report({from:n,to:r,message:"First item is accessed via [1]",severity:"warning",type:sb,actions:[{name:"fix",apply(s,o=n,a=r){i.updateContent(o,a,t.replace(Pl(),"[1]"))}}]})}}}}};function Pl(){return/\[\s*0\s*\]$/}const ab=[ob];function lb(i){const{readContent:e,syntaxTree:t,updateContent:n}=i,r=[],s={readContent:e,report:a=>{r.push(a)},updateContent:n},o=ab.map(a=>a.create(s));return t.iterate({enter:a=>{for(const l of o)l.enter&&l.enter(a)},leave:a=>{for(const l of o)l.leave&&l.leave(a)}}),r}function cb(i){return[...rb(i.syntaxTree),...lb(i)]}const hb=()=>i=>{if(i.state.doc.length===0)return[];const e=Nn(i.state);return cb({syntaxTree:e,readContent:(n,r)=>i.state.sliceDoc(n,r),updateContent:(n,r,s)=>i.dispatch({changes:{from:n,to:r,insert:s}})}).map(n=>({...n,source:n.type}))};Xy(hb());Q.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"&.cm-editor":{height:"100%"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}});Q.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}});Qy(Gr.define([{tag:O.variableName,class:"variableName"},{tag:O.name,class:"variableName"},{tag:O.number,class:"number"},{tag:O.string,class:"string"},{tag:O.bool,class:"bool"},{tag:O.function(O.variableName),class:"function"},{tag:O.function(O.special(O.variableName)),class:"function"},{tag:O.controlKeyword,class:"control"},{tag:O.operatorKeyword,class:"control"}]));P.define();P.define();P.define();P.define();var ub=[{name:"not(negand)",description:`<p>Returns the logical negation of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">not(negand: boolean): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">not(true)
// false

not(null)
// null
</code></pre>
`},{name:"is defined(value)",description:`<p><em>Camunda Extension</em></p>
<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.
Otherwise, the function returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is defined(value: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is defined(1)
// true

is defined(null)
// false

is defined(x)
// false - if no variable &quot;x&quot; exists

is defined(x.y)
// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;
</code></pre>
<p>:::caution Breaking change</p>
<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.
Since this version, the function returns <code>false</code> if the value is <code>null</code>.</p>
<p>:::</p>
`},{name:"get or else(value, default)",description:`<p><em>Camunda Extension</em></p>
<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get or else(value: Any, default: Any): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)
// &quot;this&quot;

get or else(null, &quot;default&quot;)
// &quot;default&quot;

get or else(null, null)
// null
</code></pre>
`},{name:"assert(value, condition)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null)
// &quot;value&quot; - if x is &quot;value&quot;
// error - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0)
// 4 - if x is 4
// error - if x is less than zero
</code></pre>
`},{name:"assert(value, condition, cause)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error containing the given message.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)
// &quot;value&quot; - if x is &quot;value&quot;
// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)
// 4 - if x is 4
// error(&#39;x&#39; should be positive) - if x is less than zero
</code></pre>
`},{name:"get value(context, key)",description:`<p>Returns the value of the context entry with the given key.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, key: string): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)
// 123

get value({a: 1}, &quot;b&quot;)
// null
</code></pre>
`},{name:"get value(context, keys)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the value of the context entry for a context path defined by the given keys.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>
<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])
// 0

get value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])
// {z:0}

get value({a: {b: 3}}, [&quot;b&quot;])
// null
</code></pre>
`},{name:"get entries(context)",description:`<p>Returns the entries of the context as a list of key-value-pairs.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;
</code></pre>
<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get entries({foo: 123})
// [{key: &quot;foo&quot;, value: 123}]
</code></pre>
`},{name:"context put(context, key, value)",description:`<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>
<p>If an entry for the same key already exists in the context, it overrides the value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, key: string, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"context put(context, keys, value)",description:`<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>
<p>If an entry for the same keys already exists in the context, it overrides the value.</p>
<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)
// {x:1, y:2}

context put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}

context put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}
</code></pre>
`},{name:"context merge(contexts)",description:`<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>
<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context merge([{x:1}, {y:2}])
// {x:1, y:2}

context merge([{x:1, y: 0}, {y:2}])
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"string(from)",description:`<p>Returns the given value as a string representation.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string(from: Any): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string(1.1)
// &quot;1.1&quot;

string(date(&quot;2012-12-25&quot;))
// &quot;2012-12-25&quot;
</code></pre>
`},{name:"number(from)",description:`<p>Parses the given string to a number.</p>
<p>Returns <code>null</code> if the string is not a number.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">number(from: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">number(&quot;1500.5&quot;)
// 1500.5
</code></pre>
`},{name:"context(entries)",description:`<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>
<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>
<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>
<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context(entries: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])
// {a:1, b:2}
</code></pre>
`},{name:"date(from)",description:`<p>Returns a date from the given value.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31&quot;</code> is invalid because June has
only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(from: string): date
</code></pre>
<p>Parses the given string into a date.</p>
<pre><code class="language-feel">date(from: date and time): date
</code></pre>
<p>Extracts the date component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(&quot;2018-04-29&quot;)
// date(&quot;2018-04-29&quot;)

date(date and time(&quot;2012-12-25T11:00:00&quot;))
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"date(year, month, day)",description:`<p>Returns a date from the given components.</p>
<p>Returns <code>null</code> if the components don&#39;t represent a valid calendar date. For example, <code>2024,6,31</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(year: number, month: number, day: number): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(2012, 12, 25)
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"time(from)",description:`<p>Returns a time from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(from: string): time
</code></pre>
<p>Parses the given string into a time.</p>
<pre><code class="language-feel">time(from: date and time): time
</code></pre>
<p>Extracts the time component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(&quot;12:00:00&quot;)
// time(&quot;12:00:00&quot;)

time(date and time(&quot;2012-12-25T11:00:00&quot;))
// time(&quot;11:00:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second)",description:`<p>Returns a time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(23, 59, 0)
// time(&quot;23:59:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second, offset)",description:`<p>Returns a time from the given components, including a timezone offset.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))
// time(&quot;14:30:00+01:00&quot;)
</code></pre>
`},{name:"date and time(from)",description:`<p>Parses the given string into a date and time.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31T10:00:00&quot;</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(from: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)
// date and time(&quot;2018-04-29T09:30:00&quot;)
</code></pre>
`},{name:"date and time(date, time)",description:`<p>Returns a date and time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date, time: time): date and time
</code></pre>
<pre><code class="language-feel">date and time(date: date and time, time: time): date and time
</code></pre>
<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-24T23:59:00&quot;)

date and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-25T23:59:00&quot;)
</code></pre>
`},{name:"date and time(date, timezone)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given date and time value at the given timezone.</p>
<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)
// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)

date and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)
// date and time(&quot;2020-07-31T12:27:30Z&quot;)
</code></pre>
`},{name:"duration(from)",description:`<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duration(from: string): days and time duration
</code></pre>
<pre><code class="language-feel">duration(from: string): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duration(&quot;P5D&quot;)
// duration(&quot;P5D&quot;)

duration(&quot;P32Y&quot;)
// duration(&quot;P32Y&quot;)
</code></pre>
`},{name:"years and months duration(from, to)",description:`<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))
// duration(&quot;P1Y8M&quot;)
</code></pre>
`},{name:"list contains(list, element)",description:`<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">list contains(list: list, element: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">list contains([1,2,3], 2)
// true
</code></pre>
`},{name:"count(list)",description:`<p>Returns the number of elements of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">count(list: list): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">count([1,2,3])
// 3
</code></pre>
`},{name:"min(list)",description:`<p>Returns the minimum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">min(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">min([1,2,3])
// 1

min(1,2,3)
// 1
</code></pre>
`},{name:"max(list)",description:`<p>Returns the maximum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">max(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">max([1,2,3])
// 3

max(1,2,3)
// 3
</code></pre>
`},{name:"sum(list)",description:`<p>Returns the sum of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sum(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sum([1,2,3])
// 6

sum(1,2,3)
// 6
</code></pre>
`},{name:"product(list)",description:`<p>Returns the product of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">product(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">product([2, 3, 4])
// 24

product(2, 3, 4)
// 24
</code></pre>
`},{name:"mean(list)",description:`<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mean(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mean([1,2,3])
// 2

mean(1,2,3)
// 2
</code></pre>
`},{name:"median(list)",description:`<p>Returns the median element of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">median(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">median(8, 2, 5, 3, 4)
// 4

median([6, 1, 2, 3])
// 2.5
</code></pre>
`},{name:"stddev(list)",description:`<p>Returns the standard deviation of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">stddev(2, 4, 7, 5)
// 2.0816659994661326

stddev([2, 4, 7, 5])
// 2.0816659994661326
</code></pre>
`},{name:"mode(list)",description:`<p>Returns the mode of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mode(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mode(6, 3, 9, 6, 6)
// [6]

mode([6, 1, 9, 6, 1])
// [1, 6]
</code></pre>
`},{name:"all(list)",description:`<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>
<p>If the given list is empty, it returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">all([true,false])
// false

all(false,null,true)
// false
</code></pre>
<p>:::info
The function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"any(list)",description:`<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>
<p>If the given list is empty, it returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">any([false,true])
// true

any(false,null,true)
// true
</code></pre>
<p>:::info
The function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"sublist(list, start position)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 2)
// [2,3]
</code></pre>
`},{name:"sublist(list, start position, length)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 1, 2)
// [1,2]
</code></pre>
`},{name:"append(list, items)",description:`<p>Returns the given list with all <code>items</code> appended.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">append(list: list, items: Any): list
</code></pre>
<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">append([1], 2, 3)
// [1,2,3]
</code></pre>
`},{name:"concatenate(lists)",description:`<p>Returns a list that includes all elements of the given lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">concatenate(lists: list): list
</code></pre>
<p>The parameter <code>lists</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">concatenate([1,2],[3])
// [1,2,3]

concatenate([1],[2],[3])
// [1,2,3]
</code></pre>
`},{name:"insert before(list, position, newItem)",description:`<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">insert before([1,3],1,2)
// [2,1,3]
</code></pre>
`},{name:"remove(list, position)",description:`<p>Returns the given list without the element at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">remove(list: list, position: number): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">remove([1,2,3], 2)
// [1,3]
</code></pre>
`},{name:"reverse(list)",description:`<p>Returns the given list in revered order.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">reverse(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">reverse([1,2,3])
// [3,2,1]
</code></pre>
`},{name:"index of(list, match)",description:`<p>Returns an ascending list of positions containing <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">index of([1,2,3,2],2)
// [2,4]
</code></pre>
`},{name:"union(list)",description:`<p>Returns a list that includes all elements of the given lists without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">union(list: list): list
</code></pre>
<p>The parameter <code>list</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">union([1,2],[2,3])
// [1,2,3]
</code></pre>
`},{name:"distinct values(list)",description:`<p>Returns the given list without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">distinct values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">distinct values([1,2,3,2,1])
// [1,2,3]
</code></pre>
`},{name:"duplicate values(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all duplicate values of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duplicate values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duplicate values([1,2,3,2,1])
// [1,2]
</code></pre>
`},{name:"flatten(list)",description:`<p>Returns a list that includes all elements of the given list without nested lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">flatten(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">flatten([[1,2],[[3]], 4])
// [1,2,3,4]
</code></pre>
`},{name:"sort(list, precedes)",description:`<p>Returns the given list sorted by the <code>precedes</code> function.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)
// [1,2,3,4,5]
</code></pre>
`},{name:"string join(list)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
// &quot;abc&quot;

string join([&quot;a&quot;,null,&quot;c&quot;])
// &quot;ac&quot;

string join([])
// &quot;&quot;
</code></pre>
`},{name:"string join(list, delimiter)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string contains a <code>delimiter</code> between each element.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)
// &quot;a&quot;

string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)
// &quot;a, b, c&quot;
</code></pre>
`},{name:"string join(list, delimiter, prefix, suffix)",description:`<p><em>Camunda Extension</em></p>
<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends
with <code>suffix</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)
// &quot;[a, b, c]&quot;
</code></pre>
`},{name:"is empty(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given list is empty. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is empty(list: list): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is empty([])
// true

is empty([1,2,3])
// false
</code></pre>
`},{name:"partition(list size)",description:`<p><em>Camunda Extension</em></p>
<p>Returns consecutive sublists of a list, each of the same size (the final list may be smaller).</p>
<p>If <code>size</code> is less than <code>0</code>, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">partition(list: list, size: number): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">partition([1,2,3,4,5], 2)
// [[1,2], [3,4], [5]]

partition([], 2)
// []

partition([1,2], 0)
// null
</code></pre>
`},{name:"decimal(n, scale)",description:`<p>Rounds the given value at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">decimal(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">decimal(1/3, 2)
// .33

decimal(1.5, 0)
// 2
</code></pre>
`},{name:"floor(n)",description:`<p>Rounds the given value with rounding mode flooring.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(1.5)
// 1

floor(-1.5)
// -2
</code></pre>
`},{name:"floor(n, scale)",description:`<p>Rounds the given value with rounding mode flooring at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(-1.56, 1)
// -1.6
</code></pre>
`},{name:"ceiling(n)",description:`<p>Rounds the given value with rounding mode ceiling.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(1.5)
// 2

ceiling(-1.5)
// -1
</code></pre>
`},{name:"ceiling(n, scale)",description:`<p>Rounds the given value with rounding mode ceiling at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(-1.56, 1)
// -1.5
</code></pre>
`},{name:"round up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round up(5.5)
// 6

round up(-5.5)
// -6

round up(1.121, 2)
// 1.13

round up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round down(5.5, 0)
// 5

round down (-5.5, 0)
// -5

round down (1.121, 2)
// 1.12

round down (-1.126, 2)
// -1.12
</code></pre>
`},{name:"round half up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half up(5.5, 0)
// 6

round half up(-5.5, 0)
// -6

round half up(1.121, 2)
// 1.12

round half up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round half down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half down (5.5, 0)
// 5

round half down (-5.5, 0)
// -5

round half down (1.121, 2)
// 1.12

round half down (-1.126, 2)
// -1.13
</code></pre>
`},{name:"abs(number)",description:`<p>Returns the absolute value of the given numeric value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(10)
// 10

abs(-10)
// 10
</code></pre>
`},{name:"modulo(dividend, divisor)",description:`<p>Returns the remainder of the division of dividend by divisor.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">modulo(dividend: number, divisor: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">modulo(12, 5)
// 2
</code></pre>
`},{name:"sqrt(number)",description:`<p>Returns the square root of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sqrt(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sqrt(16)
// 4
</code></pre>
`},{name:"log(number)",description:`<p>Returns the natural logarithm (base e) of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">log(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">log(10)
// 2.302585092994046
</code></pre>
`},{name:"exp(number)",description:`<p>Returns the Eulers number e raised to the power of the given number .</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">exp(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">exp(5)
// 148.4131591025766
</code></pre>
`},{name:"odd(number)",description:`<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">odd(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">odd(5)
// true

odd(2)
// false
</code></pre>
`},{name:"even(number)",description:`<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">even(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">even(5)
// false

even(2)
// true
</code></pre>
`},{name:"random number()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a random number between <code>0</code> and <code>1</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">random number(): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">random number()
// 0.9701618132579795
</code></pre>
`},{name:"before(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, 10)
// true

before(10, 1)
// false
</code></pre>
`},{name:"before(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], 10)
// true
</code></pre>
`},{name:"before(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, [2..5])
// true
</code></pre>
`},{name:"before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], [6..10])
// true

before([1..5),[5..10])
// true
</code></pre>
`},{name:"after(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(10, 1)
// true

after(1, 10)
// false
</code></pre>
`},{name:"after(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([1..5], 10)
// false
</code></pre>
`},{name:"after(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(12, [2..5])
// true
</code></pre>
`},{name:"after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([6..10], [1..5])
// true

after([5..10], [1..5))
// true
</code></pre>
`},{name:"meets(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">meets(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">meets([1..5], [5..10])
// true

meets([1..3], [4..6])
// false

meets([1..3], [3..5])
// true

meets([1..5], (5..8])
// false
</code></pre>
`},{name:"met by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">met by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">met by([5..10], [1..5])
// true

met by([3..4], [1..2])
// false

met by([3..5], [1..3])
// true

met by((5..8], [1..5))
// false

met by([5..10], [1..5))
// false
</code></pre>
`},{name:"overlaps(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps([5..10], [1..6])
// true

overlaps((3..7], [1..4])
// true

overlaps([1..3], (3..6])
// false

overlaps((5..8], [1..5))
// false

overlaps([4..10], [1..5))
// true
</code></pre>
`},{name:"overlaps before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps before([1..5], [4..10])
// true

overlaps before([3..4], [1..2])
// false

overlaps before([1..3], (3..5])
// false

overlaps before([1..5), (3..8])
// true

overlaps before([1..5), [5..10])
// false
</code></pre>
`},{name:"overlaps after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps after([4..10], [1..5])
// true

overlaps after([3..4], [1..2])
// false

overlaps after([3..5], [1..3))
// false

overlaps after((5..8], [1..5))
// false

overlaps after([4..10], [1..5))
// true
</code></pre>
`},{name:"finishes(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes(5, [1..5])
// true

finishes(10, [1..7])
// false
</code></pre>
`},{name:"finishes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes([3..5], [1..5])
// true

finishes((1..5], [1..5))
// false

finishes([5..10], [1..10))
// false
</code></pre>
`},{name:"finished by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([5..10], 10)
// true

finished by([3..4], 2)
// false
</code></pre>
`},{name:"finished by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([1..5], [3..5])
// true

finished by((5..8], [1..5))
// false

finished by([5..10], (1..10))
// false
</code></pre>
`},{name:"includes(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([5..10], 6)
// true

includes([3..4], 5)
// false
</code></pre>
`},{name:"includes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([1..10], [4..6])
// true

includes((5..8], [1..5))
// false

includes([1..10], [1..5))
// true
</code></pre>
`},{name:"during(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during(5, [1..10])
// true

during(12, [1..10])
// false

during(1, (1..10])
// false
</code></pre>
`},{name:"during(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during([4..6], [1..10))
// true

during((1..5], (1..10])
// true
</code></pre>
`},{name:"starts(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts(1, [1..5])
// true

starts(1, (1..8])
// false
</code></pre>
`},{name:"starts(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts((1..5], [1..5])
// false

starts([1..10], [1..5])
// false

starts((1..5), (1..10))
// true
</code></pre>
`},{name:"started by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], 1)
// true

started by((1..10], 1)
// false
</code></pre>
`},{name:"started by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], [1..5])
// true

started by((1..10], [1..5))
// false

started by([1..10], [1..10))
// true
</code></pre>
`},{name:"coincides(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides(5, 5)
// true

coincides(3, 4)
// false
</code></pre>
`},{name:"coincides(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides([1..5], [1..5])
// true

coincides((1..5], [1..5))
// false

coincides([1..5], [2..6])
// false
</code></pre>
`},{name:"substring(string, start position)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)
// &quot;obar&quot;

substring(&quot;foobar&quot;, -2)
// &quot;ar&quot;
</code></pre>
`},{name:"substring(string, start position, length)",description:`<p>Returns a substring of the given value, starting at <code>start position</code> with the given <code>length</code>. If <code>length</code> is greater than
the remaining characters of the value, it returns all characters from <code>start position</code> until the end.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number, length: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)
// &quot;oba&quot;

substring(&quot;foobar&quot;, -3, 2)
// &quot;ba&quot;

substring(&quot;foobar&quot;, 3, 10)
// &quot;obar&quot;
</code></pre>
`},{name:"string length(string)",description:`<p>Returns the number of characters in the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string length(string: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string length(&quot;foo&quot;)
// 3
</code></pre>
`},{name:"upper case(string)",description:`<p>Returns the given value with all characters are uppercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">upper case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">upper case(&quot;aBc4&quot;)
// &quot;ABC4&quot;
</code></pre>
`},{name:"lower case(string)",description:`<p>Returns the given value with all characters are lowercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">lower case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">lower case(&quot;aBc4&quot;)
// &quot;abc4&quot;
</code></pre>
`},{name:"substring before(string, match)",description:`<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring before(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)
// &quot;foo&quot;
</code></pre>
`},{name:"substring after(string, match)",description:`<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring after(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)
// &quot;ar&quot;
</code></pre>
`},{name:"contains(string, match)",description:`<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">contains(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)
// false
</code></pre>
`},{name:"starts with(string, match)",description:`<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)
// true
</code></pre>
`},{name:"ends with(string, match)",description:`<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ends with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern, flags)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)
// true
</code></pre>
`},{name:"replace(input, pattern, replacement)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)
// &quot;[1=ab][2=]cd&quot;

replace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)
// &quot;(012) 345-6789&quot;
</code></pre>
`},{name:"replace(input, pattern, replacement, flags)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)
// &quot;How do you FEEL?&quot;
</code></pre>
`},{name:"split(string, delimiter)",description:`<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;
</code></pre>
<p>The <code>delimiter</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )
// [&quot;John&quot;, &quot;Doe&quot;]

split(&quot;a;b;c;;&quot;, &quot;;&quot;)
// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]
</code></pre>
`},{name:"extract(string, pattern)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t
match.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)
// [&quot;1234&quot;,&quot;1256&quot;]
</code></pre>
`},{name:"trim(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string without leading and trailing spaces.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">trim(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">trim(&quot;  hello world  &quot;)
// &quot;hello world&quot;

trim(&quot;hello   world &quot;)
// &quot;hello   world&quot;
</code></pre>
`},{name:"uuid()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a UUID (Universally Unique Identifier) with 36 characters.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">uuid(): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">uuid()
// &quot;7793aab1-d761-4d38-916b-b7270e309894&quot;
</code></pre>
`},{name:"to base64(value)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string encoded in Base64 format.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">to base64(value: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">to base64(&quot;FEEL&quot;)
// &quot;RkVFTA==&quot;
</code></pre>
`},{name:"is blank(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given string is blank (empty or contains only whitespaces).</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is blank(string: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is blank(&quot;&quot;)
// true

is blank(&quot; &quot;)
// true

is blank(&quot;hello world&quot;)
// false
</code></pre>
`},{name:"now()",description:`<p>Returns the current date and time including the timezone.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">now(): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">now()
// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)
</code></pre>
`},{name:"today()",description:`<p>Returns the current date.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">today(): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">today()
// date(&quot;2020-07-31&quot;)
</code></pre>
`},{name:"day of week(date)",description:`<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of week(date: date): string
</code></pre>
<pre><code class="language-feel">day of week(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))
// &quot;Tuesday&quot;

day of week(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;Tuesday&quot;
</code></pre>
`},{name:"day of year(date)",description:`<p>Returns the Gregorian number of the day within the year.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of year(date: date): number
</code></pre>
<pre><code class="language-feel">day of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))
// 260

day of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 260
</code></pre>
`},{name:"week of year(date)",description:`<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">week of year(date: date): number
</code></pre>
<pre><code class="language-feel">week of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))
// 38

week of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 38
</code></pre>
`},{name:"month of year(date)",description:`<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">month of year(date: date): string
</code></pre>
<pre><code class="language-feel">month of year(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))
// &quot;September&quot;

month of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;September&quot;
</code></pre>
`},{name:"abs(n)",description:`<p>Returns the absolute value of a given duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(n: days and time duration): days and time duration
</code></pre>
<pre><code class="language-feel">abs(n: years and months duration): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;-P2M&quot;))
// duration(&quot;P2M&quot;)
</code></pre>
`},{name:"last day of month(date)",description:`<p><em>Camunda Extension</em></p>
<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">last day of month(date: date): date
</code></pre>
<pre><code class="language-feel">last day of month(date: date and time): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))
// date(&quot;2022-10-31&quot;))

last day of month(date and time(&quot;2022-10-16T12:00:00&quot;))
// date(&quot;2022-10-31&quot;))
</code></pre>
`}];function db(i){return i.map(fb)}function fb(i){const{name:e,description:t}=i,n=e.match(/^([\w\s]+)\((.*)\)$/),r=n[1],s=n[2],o=s?s.split(", ").map(a=>({name:a})):[];return{name:r,type:"function",params:o,info:()=>vt(`<div class="description">${t}<div>`),boost:0}}db(ub);class pb extends Eh{constructor(e){super(),this._modeling=e}setText(e,t){this._modeling.updateProperties(e,{text:t})}}pb.$inject=["modeling"];class gb extends fe{constructor(t,n){super(t,n);ae(this,"onChange",t=>{this.setState({value:t});const{onChange:n}=this.props;typeof n=="function"&&n(t)});ae(this,"onInputClick",t=>{t.preventDefault(),t.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()});ae(this,"onInput",t=>{const{value:n}=t.target;this.onChange(n)});ae(this,"onOptionClick",(t,n)=>{n.preventDefault(),n.stopPropagation(),this.setOptionsVisible(!1),this.onChange(t),this.focusInput()});ae(this,"onFocusChanged",t=>{this.checkClose(t.target)});ae(this,"onGlobalClick",t=>{this.checkClose(t.target)});ae(this,"onKeyDown",t=>{const{optionsVisible:n}=this.state;var r=t.which;(r===40||r===38)&&(t.stopPropagation(),t.preventDefault(),n?this.select(r===40?1:-1):this.setOptionsVisible(!0)),n&&(r===13||r===27)&&(t.stopPropagation(),t.preventDefault(),this.setOptionsVisible(!1))});ae(this,"onKeyboard",t=>{const{optionsVisible:n}=this.state;if(n&&t===27)return this.setOptionsVisible(!1),!0});Ei(this);const{value:r}=t;this.state={value:r,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(t){const{value:n}=t;this.setState({value:n})}componentWillUpdate(t,n){const{optionsVisible:r}=n;r?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){const{optionsVisible:t}=this.state;if(!t||!this.inputNode)return;const n=this.getOptionsBounds();Me(this._portalEl.style,n)}getOptionsBounds(){const t=this.renderer.getContainer(),{top:n,left:r,bottom:s}=t.getBoundingClientRect(),{top:o,left:a,width:l,height:c,bottom:h}=this.inputNode.getBoundingClientRect(),u=o+c-n+t.scrollTop,d=a-r+t.scrollLeft,f={top:`${u}px`,left:`${d}px`,width:`${l}px`,"max-height":`calc(100% - ${u}px)`};if(s-h<c){const p=s-o;f.bottom=`${p}px`,f["max-height"]=`calc(100% - ${p})`,delete f.top}return f}addPortalEl(){this._portalEl=vt('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",Nl)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",Nl),un(this._portalEl),this._portalEl=null)}focusInput(){const t=this.inputNode;t.focus(),"selectionStart"in t&&(t.selectionStart=1e5)}checkClose(t){this._portalEl&&!this._portalEl.contains(t)&&!this.parentNode.contains(t)&&this.setOptionsVisible(!1)}select(t){const{options:n}=this.props,{value:r}=this.state;if(!n)return;const s=n.filter(c=>c.value===r)[0],o=s?n.indexOf(s):-1,a=o===-1?t===1?0:n.length-1:(o+t)%n.length,l=n[a<0?n.length+a:a];this.onChange(l.value)}setOptionsVisible(t){this.setState({optionsVisible:t})}renderOptions(t,n){return D(1,"div","options",t.map(r=>D(1,"div",["option",n===r?"active":""].join(" "),r.label,0,{"data-value":r.value,onClick:s=>this.onOptionClick(r.value,s)})),0)}render(){const{className:t,label:n,id:r,options:s,noInput:o,title:a}=this.props,{optionsVisible:l,value:c}=this.state,h=s?s.filter(d=>d.value===c)[0]:!1,u=h?h.label:c;return D(1,"div",[t||"","dms-input-select"].join(" "),[o?D(1,"div","dms-input",u,0,{"aria-label":n,tabIndex:"0",onKeyDown:this.onKeyDown},null,d=>this.inputNode=d):D(64,"input","dms-input",null,1,{"aria-label":n,onInput:this.onInput,onKeyDown:this.onKeyDown,spellCheck:"false",type:"text",value:c,id:r},null,d=>this.inputNode=d),D(1,"span",["dms-input-select-icon",l?"dmn-icon-up":"dmn-icon-down"].join(" ")),l&&Jp(this.renderOptions(s,h),this._portalEl)],0,{title:a,onClick:this.onInputClick},null,d=>this.parentNode=d)}}gb.$inject=["keyboard","renderer"];function Nl(i){i.stopPropagation()}function mb(i){return i.dmnDI&&i.dmnDI.diagrams&&i.dmnDI.diagrams[0]}class Ab extends rp{_getViewProviders(){return[{id:"drd",constructor:Oe,opens(e){return U(e,"dmn:Definitions")&&mb(e)}},{id:"decisionTable",constructor:cm,opens(e){return U(e,"dmn:Decision")&&U(e.decisionLogic,"dmn:DecisionTable")}},{id:"literalExpression",constructor:Dm,opens(e){return U(e,"dmn:Decision")&&U(e.decisionLogic,"dmn:LiteralExpression")}},{id:"boxedExpression",constructor:iA,opens(e){return U(e,"dmn:BusinessKnowledgeModel")&&gc(e)}}]}}const yb=".dmn-js-parent{--color-grey-225-10-15: hsl(225 10% 15%);--color-grey-225-10-35: hsl(225 10% 35%);--color-grey-225-10-55: hsl(225 10% 55%);--color-grey-225-10-75: hsl(225 10% 75%);--color-grey-225-10-80: hsl(225 10% 80%);--color-grey-225-10-85: hsl(225 10% 85%);--color-grey-225-10-90: hsl(225 10% 90%);--color-grey-225-10-95: hsl(225 10% 95%);--color-grey-225-10-97: hsl(225 10% 97%);--color-blue-205-100-35: hsl(205 100% 35%);--color-blue-205-100-45: hsl(205 100% 45%);--color-blue-205-100-45-opacity-30: hsl(205 100% 45% / 30%);--color-blue-205-100-50: hsl(205 100% 50%);--color-blue-205-100-80: hsl(205 100% 80%);--color-blue-205-100-95: hsl(205 100% 95%);--color-green-150-86-44: hsl(150 86% 44%);--color-red-360-100-35: hsl(360 100% 35%);--color-red-360-100-45: hsl(360 100% 45%);--color-red-360-100-92: hsl(360 100% 92%);--color-red-360-100-97: hsl(360 100% 97%);--color-white: hsl(0 0% 100%);--color-black: hsl(0 0% 0%);--color-black-opacity-10: hsl(0 0% 0% / 10%);--color-black-opacity-20: hsl(0 0% 0% / 20%);--hint-button-color: var(--color-blue-205-100-35);--hint-invalid-color: var(--color-red-360-100-35);--separator-color: var(--color-grey-225-10-75);--input-border-color: var(--color-grey-225-10-75);--input-color: var(--color-grey-225-10-15);--input-focus-border-color: var(--color-blue-205-100-50);--input-focus-box-shadow-color: var(--color-blue-205-100-80);--input-focus-box-shadow-inset-color: var(--color-grey-225-10-75);--input-focus-invalid-border-color: var(--color-red-360-100-45);--input-focus-invalid-box-shadow-color: var(--color-red-360-100-92);--input-invalid-border-color: var(--color-red-360-100-45);--input-invalid-color: var(--color-red-360-100-35);--select-option-selected-color: var(--color-blue-205-100-35);--select-option-hover-background-color: var(--color-black-opacity-10);--select-options-background-color: var(--color-white);--select-options-border-color: var(--color-grey-225-10-75);--select-options-box-shadow-color: var(--color-black-opacity-10);--select-options-color: var(--color-grey-225-10-15)}.dms-list-component .items{margin:0;padding:0;list-style:none;line-height:1.7em}.dms-list-component .items .item .remove{float:right}.dms-fill-row{display:flex;flex-direction:row;align-items:center}.dms-fill-row>*{flex:0 0 auto}.dms-fill-row>:last-child{flex:1 1 auto}.dms-label{font-weight:700;white-space:nowrap;margin-right:5px}.dms-hrule{border:0;border-top:dotted 1px var(--separator-color);margin:10px auto}.dms-heading{margin:12px 0 8px;font-weight:700}.dms-hint{font-size:12px;margin-top:5px;color:var(--hint-color)}.dms-hint button{color:var(--hint-button-color);text-decoration:none;display:inline;border:none;padding:0;margin:0;cursor:pointer;font:inherit;background:none}.dms-validation-warning{color:var(--hint-invalid-color)}h3.dms-heading{font-size:16px}h4.dms-heading{font-size:14px}.dms-input,.dms-select{outline:none;padding:3px 6px;border:1px solid var(--input-border-color);background:none;font-size:14px;font-family:inherit;color:var(--input-color);min-height:26px}.dms-input{min-height:26px;white-space:pre-wrap}.dms-select{height:26px}.dms-input-select .dms-input{padding-right:24px}.dms-input:focus,.dms-select:focus{border:solid 1px var(--input-focus-border-color);box-shadow:0 0 0 2px var(--input-focus-box-shadow-color),0 0 0 1px var(--input-focus-box-shadow-inset-color) inset}.dms-input.invalid,.dms-select.invalid{border-color:var(--input-invalid-border-color);color:var(--input-invalid-color)}.dms-select.invalid:focus,.dms-input.invalid:focus{border:solid 1px var(--input-focus-invalid-border-color);box-shadow:0 0 0 2px var(--input-focus-invalid-box-shadow-color),0 0 0 1px var(--input-focus-box-shadow-inset-color) inset}.dms-validated-input.dms-block .dms-input,.dms-block{display:block;width:100%}.dms-script-input{height:150px;white-space:pre-wrap;overflow:auto}.dms-input-select{display:inline-block;position:relative;min-width:128px}.dms-input-select .dms-input-select-icon{position:absolute;right:6px;top:50%;transform:translateY(-50%)}.dms-input-select .options{background:var(--select-options-background-color)}.dms-select-options{position:absolute;background-color:var(--select-options-background-color);border:solid 1px var(--select-options-border-color);border-radius:2px;font-size:14px;color:var(--select-options-color);box-shadow:1px 1px 1px 1px var(--select-options-box-shadow-color);z-index:20;cursor:pointer;overflow:auto}.dms-select-options .option{padding:4px 9px}.dms-select-options .option.active{color:var(--select-option-selected-color)}.dms-select-options .option:focus,.dms-select-options .option:hover{background-color:var(--select-option-hover-background-color)}.dmn-js-parent .content-editable.placeholder:before{content:attr(data-placeholder);position:absolute;opacity:.5}",bb=".dmn-drd-container{--dmn-definitions-background-color: var(--color-grey-225-10-97);--dmn-definitions-border-color: var(--color-grey-225-10-75);--dmn-definitions-focus-border-color: var(--color-grey-225-10-75);--dmn-definitions-error-color: var(--color-red-360-100-45);--dmn-definitions-error-border-color: var(--color-red-360-100-45);--dmn-definitions-error-background-color: var(--color-red-360-100-97);--drill-down-overlay-background-color: var(--color-blue-205-100-50);--drill-down-overlay-color: var(--color-white);--drd-font-family-monospace: monospace;width:100%;height:100%;position:relative}.dmn-drd-container *{box-sizing:border-box}.djs-overlay .drill-down-overlay{font-size:16px;text-align:left;padding:1px}.djs-overlay .drill-down-overlay>button,.djs-overlay .drill-down-overlay>span{display:block;padding:2px 4px;margin:0;border:none;border-radius:1px;background:var(--drill-down-overlay-background-color);color:var(--drill-down-overlay-color);font-size:inherit;outline-offset:2px}.dmn-definitions{position:absolute;top:20px;left:20px;background-color:var(--dmn-definitions-background-color);border:solid 1px var(--dmn-definitions-border-color);border-radius:2px;padding:4px}.dmn-definitions .dmn-definitions-name{font-size:24px;padding:3px}.dmn-definitions .dmn-definitions-name:focus{outline:none}.dmn-definitions .dmn-definitions-id{font-family:var(--drd-font-family-monospace);margin-top:2px;padding:3px}.dmn-definitions .dmn-definitions-id:focus{outline:none}.dmn-definitions>[contenteditable]:hover,.dmn-definitions>[contenteditable]:focus{padding:2px;background-color:var(--color-white);border-radius:2px;border:1px solid var(--dmn-definitions-focus-border-color)}.dmn-definitions .dmn-definitions-error-message{color:var(--dmn-definitions-error-color);display:block;font-size:12px;margin-top:6px}.dmn-definitions .dmn-definitions-id.dmn-definitions-error{border-color:var(--dmn-definitions-error-border-color);background-color:var(--dmn-definitions-error-background-color)}.djs-container.with-palette .dmn-definitions{left:80px}.djs-container.with-palette-two-column .dmn-definitions{left:130px}",wb='.dmn-decision-table-container{--action-icon-color: var(--color-blue-205-100-50);--action-icon-background-color: transparent;--action-icon-hover-background-color: var(--color-blue-205-100-45);--action-icon-hover-color: var(--color-white);--add-column-icon-color: var(--color-white);--add-column-icon-background-color: var(--color-grey-225-10-35);--decision-table-color: var(--color-grey-225-10-15);--decision-table-background-color: var(--color-white);--decision-table-properties-color: var(--color-grey-225-10-15);--dmn-expression-language-background-color: var(--color-blue-205-100-45-opacity-30);--dmn-expression-language-color: var(--color-white);--dmn-expression-language-hover-background-color: var(--color-blue-205-100-50);--drag-and-drop-drag-color: var(--color-grey-225-10-55);--drag-and-drop-drop-marker-color: var(--color-grey-225-10-35);--hit-policy-explanation-color: var(--color-grey-225-10-35);--powered-by-overlay-background-color: var(--color-black-opacity-20);--powered-by-overlay-content-background-color: var(--color-white);--powered-by-overlay-content-color: var(--color-grey-225-10-15);--powered-by-overlay-content-border-color: var(--color-grey-225-10-75);--simple-mode-button-color: var(--color-grey-225-10-15);--simple-mode-button-background-color: var(--color-grey-225-10-97);--simple-mode-button-border-color: var(--color-grey-225-10-75);--simple-mode-button-box-shadow-color: var(--color-black-opacity-10);--simple-mode-button-disabled-color: var(--color-grey-225-10-75);--table-cell-color: var(--color-grey-225-10-15);--table-cell-border-color: var(--color-grey-225-10-15);--table-cell-selected-outline-color: var(--color-blue-205-100-45);--table-foot-add-rule-border-color: var(--color-grey-225-10-75);--table-foot-add-rule-color: var(--color-grey-225-10-75);--table-foot-add-rule-hover-border-color: var(--color-grey-225-10-15);--table-foot-add-rule-hover-color: var(--color-grey-225-10-15);--table-head-border-color: var(--color-grey-225-10-15);--table-head-clause-color: var(--color-grey-225-10-35);--table-head-separator-color: var(--color-grey-225-10-75);--table-head-variable-color: var(--color-grey-225-10-35);--table-row-alternative-background-color: var(--color-grey-225-10-97);--view-drd-button-background-color: var(--color-white);--view-drd-button-border-color: var(--color-grey-225-10-75);--view-drd-button-color: var(--color-grey-225-10-15);--view-drd-button-hover-background-color: var(--color-grey-225-10-97);--decision-table-font-family: "Arial", sans-serif;width:100%;height:100%;overflow:hidden;position:relative;font-family:var(--decision-table-font-family);font-size:14px;color:var(--table-color);max-height:100%}.dmn-decision-table-container *{box-sizing:border-box}.dmn-decision-table-container .tjs-container{display:flex;flex-direction:column;width:-moz-min-content;width:min-content;max-width:100%;height:100%}.dmn-decision-table-container .tjs-table-container{overflow:auto;border:solid 1px var(--table-cell-border-color);border-top:none}.dmn-decision-table-container .tjs-table{max-width:100%;max-height:100%;position:relative;width:100%;width:-moz-min-content;width:min-content;table-layout:fixed;border-collapse:separate;border-spacing:0}.dmn-decision-table-container th,.dmn-decision-table-container td{position:relative;white-space:pre-wrap;overflow-wrap:break-word;background-clip:padding-box}.dmn-decision-table-container thead th{text-align:center;width:192px;font-weight:400;position:sticky;top:0;z-index:1;background-color:var(--decision-table-background-color);border-bottom:3px double var(--table-head-border-color)}.dmn-decision-table-container thead th.output-editor{z-index:2}.dmn-decision-table-container thead th.create-inputs,.dmn-decision-table-container thead th.input-editor{z-index:3}.dmn-decision-table-container tbody td{border-top:solid 1px var(--table-cell-border-color)}.dmn-decision-table-container th.input-cell,.dmn-decision-table-container td.input-cell,.dmn-decision-table-container th.output-cell,.dmn-decision-table-container td.output-cell,.dmn-decision-table-container th.annotation,.dmn-decision-table-container td.annotation{color:var(--table-cell-color)}.dmn-decision-table-container th.input-cell+th.output-cell,.dmn-decision-table-container td.input-cell+td.output-cell{border-left:3px double var(--table-cell-border-color)}.dmn-decision-table-container th:not(:first-child),.dmn-decision-table-container td:not(:first-child){padding:4px;border-left:solid 1px var(--table-cell-border-color)}.dmn-decision-table-container thead{background-color:var(--decision-table-background-color)}.dmn-decision-table-container thead th:first-child{left:0;z-index:4}.dmn-decision-table-container tfoot td:first-child{border-right:solid 1px var(--table-foot-add-rule-border-color)}.dmn-decision-table-container tbody td:first-child,.dmn-decision-table-container tfoot td:first-child{position:sticky;left:0;background-color:var(--decision-table-background-color);z-index:1}.dmn-decision-table-container tbody:empty{display:none}.dmn-decision-table-container thead th:first-child,.dmn-decision-table-container tbody td:first-child{border-right:solid 1px var(--table-cell-border-color)}.dmn-decision-table-container thead th:nth-child(2),.dmn-decision-table-container tbody td:nth-child(2),.dmn-decision-table-container tfoot td:nth-child(2){border-left:none}.dmn-decision-table-container tbody tr:last-child td{border-bottom:solid 1px var(--table-cell-border-color)}.dmn-decision-table-container tbody tr:first-child td{border-top:none}.dmn-decision-table-container th.index-column{width:56px}.dmn-decision-table-container td.rule-index{text-align:right;padding-right:8px}.dmn-decision-table-container tbody tr:nth-child(2n){background-color:var(--table-row-alternative-background-color)}.dmn-decision-table-container td.input-cell.add-rule,.dmn-decision-table-container td.input-cell:not(.focussed).empty{text-align:center}.dmn-decision-table-container h3,.dmn-decision-table-container h5{position:relative}.dmn-decision-table-container .selected{outline:var(--table-cell-selected-outline-color);outline-offset:-1px}.dmn-decision-table-container th.selected:not(.focussed){background:var(--selected-not-focused-border-color)}.dmn-decision-table-container tfoot td.input-cell+td.output-cell{border-left:3px double var(--table-foot-add-rule-border-color)}.dmn-decision-table-container tfoot.add-rule td.add-rule-add{text-align:right;padding-right:4px}.dmn-decision-table-container tfoot.add-rule tr td{border-color:var(--table-foot-add-rule-border-color);color:var(--table-foot-add-rule-color)}.dmn-decision-table-container tfoot.add-rule:hover td.input-cell+td.output-cell{border-left-color:var(--table-cell-border-color)}.dmn-decision-table-container tfoot.add-rule:hover td{border-color:var(--table-foot-add-rule-hover-border-color);color:var(--table-foot-add-rule-hover-color)}.dmn-decision-table-container [contenteditable],.dmn-decision-table-container [tabindex]{outline:none}.dmn-decision-table-container .decision-table-header{text-align:left;padding:10px}.dmn-decision-table-container .decision-table-header *{vertical-align:middle}.dmn-decision-table-container .decision-table-properties{display:flex;color:var(--decision-table-properties-color);border:1px solid var(--table-cell-border-color);background-color:var(--decision-table-background-color);padding:10px;align-items:center}.dmn-decision-table-container .decision-table-name{position:relative;display:block;flex-grow:1;margin:0;width:0;min-width:100px;max-width:-moz-min-content;max-width:min-content;font-size:21px;font-weight:400}.dmn-decision-table-container .decision-table-name:not(.editable),.dmn-decision-table-container .decision-table-name .content-editable{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.dmn-decision-table-container .decision-table-name.focussed .content-editable{text-overflow:unset}.dmn-decision-table-container .decision-table-header-separator{display:block;height:32px;border-left:2px solid var(--table-head-separator-color);margin:0 10px}.dmn-decision-table-container .hit-policy{display:block}.dmn-decision-table-container .hit-policy-explanation{margin-left:5px;color:var(--hit-policy-explanation-color)}.dmn-decision-table-container thead .input-label,.dmn-decision-table-container thead .input-expression,.dmn-decision-table-container thead .output-label,.dmn-decision-table-container thead .output-name{display:-webkit-box;margin:16px 6px;font-size:16px;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3;-webkit-box-orient:vertical}.dmn-decision-table-container thead .input-expression:empty:before{content:"Input";opacity:.5}.dmn-decision-table-container thead .output-name:empty:before{content:"Output";opacity:.5}.dmn-decision-table-container thead .input-variable,.dmn-decision-table-container thead .output-variable{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:right}.dmn-decision-table-container thead .input-cell .clause,.dmn-decision-table-container thead .output-cell .clause{font-size:12px;text-align:left;color:var(--table-head-clause-color)}.dmn-decision-table-container thead .input-cell .input-variable,.dmn-decision-table-container thead .output-cell .output-variable{font-size:12px;color:var(--table-head-variable-color)}.dmn-decision-table-container .action-icon{border:none;border-radius:2px;box-shadow:0 0 0 2px var(--decision-table-background-color);color:var(--action-icon-color);background-color:var(--action-icon-background-color);padding:0}.dmn-decision-table-container .create-inputs .action-icon,.dmn-decision-table-container .add-input .action-icon,.dmn-decision-table-container .add-output .action-icon{display:flex;align-items:center;justify-content:center;width:16px;height:16px;margin:0;border-radius:50%;color:var(--add-column-icon-color);background-color:var(--add-column-icon-background-color);outline-offset:4px}.dmn-decision-table-container .actionable:hover .action-icon{background-color:var(--action-icon-hover-background-color);color:var(--action-icon-hover-color)}.dmn-decision-table-container .action-icon:before{margin-left:.1em;margin-right:.1em}.dmn-decision-table-container .add-input,.dmn-decision-table-container .add-output{position:absolute;top:50%;right:-1px;transform:translate(50%,-50%);z-index:2;border-radius:100%;padding:6px}.dmn-decision-table-container .view-drd{margin-bottom:10px}.dmn-decision-table-container .view-drd .view-drd-button{background:var(--view-drd-button-background-color);padding:8px;border:solid 1px var(--view-drd-button-border-color);border-radius:2px;font-size:14px;color:var(--view-drd-button-color);font-weight:700;cursor:pointer}.dmn-decision-table-container .view-drd .view-drd-button:hover{background:var(--view-drd-button-hover-background-color)}.dmn-decision-table-container .simple-mode-button{color:var(--simple-mode-button-color);background-color:var(--simple-mode-button-background-color);position:absolute;padding:4px;border-radius:2px;border:solid 1px var(--simple-mode-button-border-color);cursor:pointer;font-size:14px;z-index:5;opacity:.8;box-shadow:1px 1px 1px 1px var(--simple-mode-button-box-shadow-color)}.dmn-decision-table-container .simple-mode-button:hover{opacity:1}.dmn-decision-table-container .simple-mode-button.disabled,.dmn-decision-table-container .simple-mode-button.disabled:hover{color:var(--simple-mode-button-disabled-olor)}.dmn-decision-table-container .dms-input-duration-edit-row{align-items:flex-start}.dms-badge{border-radius:2px;padding:3px 6px;font-size:.8em;height:19px}.dms-badge-icon+.dms-badge-label{margin-left:3px}.dms-badge.dmn-expression-language{background:var(--dmn-expression-language-background-color);color:var(--dmn-expression-language-color)}.dms-badge+.dms-badge{margin-left:3px}.dmn-decision-table-container .dmn-expression-language .dms-badge-label{display:none}.dmn-decision-table-container .input-cell:hover .dmn-expression-language .dms-badge-label,.dmn-decision-table-container .output-cell:hover .dmn-expression-language .dms-badge-label{display:inline-block}.dmn-decision-table-container .input-editor .dmn-expression-language{margin-top:4px;display:inline-block}.dmn-decision-table-container .cell .dms-badge.dmn-expression-language{z-index:-1}.dmn-decision-table-container .cell:hover .dms-badge.dmn-expression-language{background:var(--dmn-expression-language-hover-background-color);z-index:1}.dmn-decision-table-container .cell .dmn-expression-language{display:flex;align-items:center;position:absolute;top:2px;right:2px;pointer-events:none}.dmn-decision-table-container .dragover:before{content:"";display:block;position:absolute;background-color:var(--drag-and-drop-drop-marker-color);z-index:2;pointer-events:none}.dmn-decision-table-container .dragover.top:before{left:0;right:0;height:5px;top:0}.dmn-decision-table-container .dragover.right:before{top:0;bottom:0;width:5px;right:0}.dmn-decision-table-container .dragover.bottom:before{left:0;right:0;height:5px;bottom:0}.dmn-decision-table-container .dragover.left:before{top:0;bottom:0;width:5px;left:0}.dmn-decision-table-container .dragged{color:var(--drag-and-drop-drag-color)}.dmn-decision-table-container .description-indicator{position:absolute;top:0;right:-4px;border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid var(--color-black);transform:rotate(45deg);transform-origin:top}',vb='.dmn-literal-expression-container{--decision-properties-background-color: var(--color-white);--decision-properties-border-color: var(--color-grey-225-10-15);--decision-properties-color: var(--color-grey-225-10-15);--literal-expression-color: var(--color-grey-225-10-15);--literal-expression-properties-border-color: var(--color-grey-225-10-15);--literal-expression-properties-color: var(--color-grey-225-10-15);--powered-by-overlay-background-color: var(--color-black-opacity-20);--powered-by-overlay-content-background-color: var(--color-white);--powered-by-overlay-content-border-color: var(--color-grey-225-10-75);--powered-by-overlay-content-color: var(--color-grey-225-10-15);--textarea-border-color: var(--color-grey-225-10-15);--textarea-color: var(--color-grey-225-10-15);--view-drd-button-background-color: var(--color-white);--view-drd-button-border-color: var(--color-grey-225-10-75);--view-drd-button-color: var(--color-grey-225-10-15);--view-drd-button-hover-background-color: var(--color-grey-225-10-97);--literal-expression-font-family: "Arial", sans-serif;--literal-expression-font-family-monospace: monospace;font-family:var(--literal-expression-font-family);color:var(--literal-expression-color);width:100%;height:100%}.dmn-literal-expression-container .viewer-container{width:100%;height:100%;overflow:auto;display:flex;flex-direction:column}.dmn-literal-expression-container *{box-sizing:border-box}.dmn-literal-expression-container .decision-properties{border:1px solid var(--decision-properties-border-color);border-bottom:none;padding:10px 75px 10px 10px;color:var(--decision-properties-color);background-color:var(--decision-properties-background-color);position:relative;min-width:192px}.dmn-literal-expression-container .decision-name{margin:0;font-size:21px;font-weight:400;white-space:pre}.dmn-literal-expression-container .decision-name:not(.editor){cursor:default}.dmn-literal-expression-container .decision-name.editor{cursor:text}.dmn-literal-expression-container .decision-name div{outline:none}.dmn-literal-expression-container .decision-name:not(.editable),.dmn-literal-expression-container .decision-name [contenteditable=true]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.dmn-literal-expression-container .textarea .content-editable{height:100%;box-sizing:border-box}.dmn-literal-expression-container .decision-name.editor:not(.focussed):hover{cursor:text}.dmn-literal-expression-container .decision-name.focussed .content-editable{text-overflow:unset}.dmn-literal-expression-container .textarea{box-sizing:border-box;width:100%;padding:12px;font-family:var(--literal-expression-font-family-monospace);line-height:1.4;border:1px solid var(--textarea-border-color);border-bottom-width:1px;white-space:pre;font-size:14px;color:var(--textarea-color);min-height:250px;overflow:auto}.dmn-literal-expression-container .textarea div:focus{outline:none}.dmn-literal-expression-container .textarea.editor{cursor:text}.dmn-literal-expression-container .textarea:not(.editor){cursor:default}.dmn-literal-expression-container .literal-expression-properties{box-sizing:border-box;width:100%;padding:0;border:1px solid var(--literal-expression-properties-border-color);border-top:none;font-size:14px;color:var(--literal-expression-properties-color)}.dmn-literal-expression-container .literal-expression-properties .variables-table{border-spacing:8px;border-collapse:separate}.dmn-literal-expression-container .literal-expression-properties .variables-table tr td:first-child{font-weight:700}.dmn-literal-expression-container .literal-expression-properties .variables-table tr td:last-child{min-width:100px}.dmn-literal-expression-container .literal-expression-properties .variable-name-input{width:100%}.dmn-literal-expression-container .view-drd{margin-right:10px;padding-bottom:10px}.dmn-literal-expression-container .view-drd .view-drd-button{background:var(--view-drd-button-background-color);padding:8px;border:solid 1px var(--view-drd-button-border-color);border-radius:2px;font-size:14px;color:var(--view-drd-button-color);font-weight:700;cursor:pointer}.dmn-literal-expression-container .view-drd .view-drd-button:hover{background:var(--view-drd-button-hover-background-color)}',xb="@font-face{font-family:dmn;src:url("+new URL("dmn-2EwrEScy.eot?40720158",import.meta.url).href+");src:url("+new URL("dmn-2EwrEScy.eot?40720158#iefix",import.meta.url).href+') format("embedded-opentype"),url('+new URL("dmn-eH1_eUsy.svg?40720158#dmn",import.meta.url).href+') format("svg");font-weight:400;font-style:normal}@font-face{font-family:dmn;src:url(data:application/octet-stream;base64,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) format("woff"),url(data:application/octet-stream;base64,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) format("truetype")}[class^=dmn-icon-]:before,[class*=" dmn-icon-"]:before{font-family:dmn;font-style:normal;font-weight:400;speak:never;display:inline-block;text-decoration:inherit;width:1em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.dmn-icon-up:before{content:""}.dmn-icon-down:before{content:""}.dmn-icon-clear:before{content:""}.dmn-icon-plus:before{content:""}.dmn-icon-minus:before{content:""}.dmn-icon-info:before{content:""}.dmn-icon-left:before{content:""}.dmn-icon-decision:before{content:""}.dmn-icon-right:before{content:""}.dmn-icon-input:before{content:""}.dmn-icon-output:before{content:""}.dmn-icon-copy:before{content:""}.dmn-icon-keyboard:before{content:""}.dmn-icon-undo:before{content:""}.dmn-icon-redo:before{content:""}.dmn-icon-menu:before{content:""}.dmn-icon-setting:before{content:""}.dmn-icon-wrench:before{content:""}.dmn-icon-eraser:before{content:""}.dmn-icon-attention:before{content:""}.dmn-icon-resize-big:before{content:""}.dmn-icon-resize-small:before{content:""}.dmn-icon-file-code:before{content:""}.dmn-icon-business-knowledge:before{content:""}.dmn-icon-knowledge-source:before{content:""}.dmn-icon-input-data:before{content:""}.dmn-icon-text-annotation:before{content:""}.dmn-icon-connection:before{content:""}.dmn-icon-connection-multi:before{content:""}.dmn-icon-drag:before{content:""}.dmn-icon-lasso-tool:before{content:""}.dmn-icon-screw-wrench:before{content:""}.dmn-icon-trash:before{content:""}.dmn-icon-bpmn-io:before{content:""}.dmn-icon-decision-table:before{content:""}.dmn-icon-literal-expression:before{content:""}.dmn-icon-edit:before{content:""}.dmn-icon-cut:before{content:""}.dmn-icon-hand-tool:before{content:""}.dmn-icon-paste:before{content:""}';var Eb=Object.defineProperty,Cb=Object.getOwnPropertyDescriptor,Zo=(i,e,t,n)=>{for(var r=n>1?void 0:n?Cb(e,t):e,s=i.length-1,o;s>=0;s--)(o=i[s])&&(r=(n?o(e,t,r):o(r))||r);return n&&r&&Eb(e,t,r),r};const Bb="dmn-viewer";let Dr=class extends cd{async firstUpdated(){this._viewer=new Ab({container:this.renderRoot}),Sd(this)}async updated(i){if(i.has("src")){const e=await fetch(this.src);if(!e.ok){const t=this.renderRoot;t.innerHTML=`<div class="error">Failed to fetch ${this.src}</div>`,console.error(`Failed to fetch ${this.src}, status: ${e.status}, ${e.statusText}`,e);return}this.xml=await e.text()}i.has("xml")&&this._updateDiagram(this.xml)}async _updateDiagram(i){if(i)try{const{warnings:e}=await this._viewer.importXML(this.xml);e.length&&console.log("import with warnings",e),this.zoomReset()}catch(e){console.log("something went wrong:",e)}}static get styles(){return[kd,wn`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
        #dmn-container {
          width: 100%;
          height: 100%;
        }
        .bjs-powered-by {
            display: none;
        }
      `,wn`${Yn(yb)}`,wn`${Yn(bb)}`,wn`${Yn(wb)}`,wn`${Yn(vb)}`,wn`${Yn(xb)}`]}zoomReset(){this._viewer.getActiveViewer().get("canvas").zoom("fit-viewport","auto")}};Zo([Gl({attribute:"src"})],Dr.prototype,"src",2);Zo([Gl({attribute:"data-xml"})],Dr.prototype,"xml",2);Dr=Zo([ud(Bb)],Dr);const Gb={title:"Viewers/DMNViewer",component:"dmn-viewer",parameters:{layout:"padded"},argTypes:{src:{control:"text",description:"URL to fetch DMN XML from"},"data-xml":{control:"text",description:"DMN XML data as string"},"disable-interaction":{control:"boolean",description:"Disable diagram interaction"}},render:i=>hd`
    <dmn-viewer
      src=${i.src}
      data-xml=${i["data-xml"]}
      ?disable-interaction=${i["disable-interaction"]}
    ></dmn-viewer>
  `},Zi={args:{src:"/path/to/your/decision.dmn"}},er={args:{"data-xml":'<?xml version="1.0" encoding="UTF-8"?><dmn:definitions xmlns:dmn="http://www.omg.org/spec/DMN/20180521/MODEL/"><dmn:decision id="Decision_1" name="Sample Decision"><dmn:decisionTable><dmn:input id="Input_1" label="Input 1"/><dmn:output id="Output_1" label="Output 1"/></dmn:decisionTable></dmn:decision></dmn:definitions>'}},tr={args:{"data-xml":'<?xml version="1.0" encoding="UTF-8"?><dmn:definitions xmlns:dmn="http://www.omg.org/spec/DMN/20180521/MODEL/"><dmn:decision id="Decision_1" name="Sample Decision"><dmn:decisionTable><dmn:input id="Input_1" label="Input 1"/><dmn:output id="Output_1" label="Output 1"/></dmn:decisionTable></dmn:decision></dmn:definitions>',"disable-interaction":!0}};var Ql,ql,_l;Zi.parameters={...Zi.parameters,docs:{...(Ql=Zi.parameters)==null?void 0:Ql.docs,source:{originalSource:`{
  args: {
    src: '/path/to/your/decision.dmn'
  }
}`,...(_l=(ql=Zi.parameters)==null?void 0:ql.docs)==null?void 0:_l.source}}};var Hl,Ul,jl;er.parameters={...er.parameters,docs:{...(Hl=er.parameters)==null?void 0:Hl.docs,source:{originalSource:`{
  args: {
    'data-xml': '<?xml version="1.0" encoding="UTF-8"?><dmn:definitions xmlns:dmn="http://www.omg.org/spec/DMN/20180521/MODEL/"><dmn:decision id="Decision_1" name="Sample Decision"><dmn:decisionTable><dmn:input id="Input_1" label="Input 1"/><dmn:output id="Output_1" label="Output 1"/></dmn:decisionTable></dmn:decision></dmn:definitions>'
  }
}`,...(jl=(Ul=er.parameters)==null?void 0:Ul.docs)==null?void 0:jl.source}}};var Yl,Wl,zl;tr.parameters={...tr.parameters,docs:{...(Yl=tr.parameters)==null?void 0:Yl.docs,source:{originalSource:`{
  args: {
    'data-xml': '<?xml version="1.0" encoding="UTF-8"?><dmn:definitions xmlns:dmn="http://www.omg.org/spec/DMN/20180521/MODEL/"><dmn:decision id="Decision_1" name="Sample Decision"><dmn:decisionTable><dmn:input id="Input_1" label="Input 1"/><dmn:output id="Output_1" label="Output 1"/></dmn:decisionTable></dmn:decision></dmn:definitions>',
    'disable-interaction': true
  }
}`,...(zl=(Wl=tr.parameters)==null?void 0:Wl.docs)==null?void 0:zl.source}}};const Vb=["FromSource","FromXML","DisabledInteraction"];export{tr as DisabledInteraction,Zi as FromSource,er as FromXML,Vb as __namedExportsOrder,Gb as default};
