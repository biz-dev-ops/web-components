<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Driver component</title>
    <link rel="stylesheet" href="../../theme.css" />
  </head>

  <body>
    <main>
      <h1>Driver component</h1>

      <!-- <h2>Basic Example</h2>
      <p>
        The driver component allows you to control a "driven" component with
        action buttons.
      </p>

      <bdo-driver>
        <button slot="drivers" data-action="zoom-in">Zoom In</button>
        <button slot="drivers" data-action="zoom-out">Zoom Out</button>
        <div class="driven-content">
          <h3>Driven Content</h3>
          <p>This content can be controlled by the driver buttons above.</p>
        </div>
      </bdo-driver>

      <h2>With Default Drivers</h2>
      <p>
        You can use the built-in default drivers by setting the
        use-default-drivers attribute.
      </p>

      <bdo-driver use-default-drivers>
        <div class="driven-content">
          <h3>Content with Default Drivers</h3>
          <p>This content can be controlled by the default driver buttons.</p>
          <img src="https://via.placeholder.com/400x300" alt="Placeholder image"
          />
        </div>
      </bdo-driver> -->

      <h2>Custom Driven Component</h2>
      <p>
        You can create custom driven components that implement the required
        interface.
      </p>

      <script>
        // Define a custom driven component
        class CustomDrivenComponent extends HTMLElement {
          constructor() {
            super();
            this.attachShadow({ mode: "open" });
            this.shadowRoot.innerHTML = `
              <div>
                <h3>Custom Driven Component</h3>
                <p>Current state: <span id="state">normal</span></p>
              </div>
            `;
          }

          handleDriverAction(action) {
            const stateElement = this.shadowRoot.getElementById("state");
            if (action === "toggle-fullscreen") {
              stateElement.textContent =
                stateElement.textContent === "fullscreen"
                  ? "normal"
                  : "fullscreen";
            } else if (action === "zoom-in") {
              stateElement.textContent = "zoomed in";
            } else if (action === "zoom-out") {
              stateElement.textContent = "zoomed out";
            } else if (action === "zoom-reset") {
              stateElement.textContent = "normal";
            }
          }

          canHandleDriverAction(action) {
            return [
              "toggle-fullscreen",
              "zoom-in",
              "zoom-out",
              "zoom-reset",
            ].includes(action);
          }
        }

        customElements.define("custom-driven", CustomDrivenComponent);
      </script>

      <bdo-driver use-default-drivers>
        <custom-driven></custom-driven>
      </bdo-driver>

      <h2>Run tests</h2>
      <code> npm run test -- 'bdo-driver' </code>
    </main>

    <script type="module">
      import "../../../src/shared/driver/index.ts";
    </script>
  </body>
</html>
